(window.webpackJsonp=window.webpackJsonp||[]).push([["edit-relation-params"],{72:function(e,t,n){var a,i,r;
/*!
	autosize 4.0.2
	license: MIT
	http://www.jacklmoore.com/autosize
*/i=[e,t],void 0===(r="function"==typeof(a=function(e,t){"use strict";var n="function"==typeof Map?new Map:function(){var e=[],t=[];return{has:function(t){return e.indexOf(t)>-1},get:function(n){return t[e.indexOf(n)]},set:function(n,a){-1===e.indexOf(n)&&(e.push(n),t.push(a))},delete:function(n){var a=e.indexOf(n);a>-1&&(e.splice(a,1),t.splice(a,1))}}}(),a=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(e){a=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}function i(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!n.has(e)){var t=null,i=null,r=null,o=function(){e.clientWidth!==i&&p()},s=function(t){window.removeEventListener("resize",o,!1),e.removeEventListener("input",p,!1),e.removeEventListener("keyup",p,!1),e.removeEventListener("autosize:destroy",s,!1),e.removeEventListener("autosize:update",p,!1),Object.keys(t).forEach(function(n){e.style[n]=t[n]}),n.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",s,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",p,!1),window.addEventListener("resize",o,!1),e.addEventListener("input",p,!1),e.addEventListener("autosize:update",p,!1),e.style.overflowX="hidden",e.style.wordWrap="break-word",n.set(e,{destroy:s,update:p}),function(){var n=window.getComputedStyle(e,null);"vertical"===n.resize?e.style.resize="none":"both"===n.resize&&(e.style.resize="horizontal"),t="content-box"===n.boxSizing?-(parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)):parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth),isNaN(t)&&(t=0),p()}()}function l(t){var n=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=n,e.style.overflowY=t}function d(){if(0!==e.scrollHeight){var n=function(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}(e),a=document.documentElement&&document.documentElement.scrollTop;e.style.height="",e.style.height=e.scrollHeight+t+"px",i=e.clientWidth,n.forEach(function(e){e.node.scrollTop=e.scrollTop}),a&&(document.documentElement.scrollTop=a)}}function p(){d();var t=Math.round(parseFloat(e.style.height)),n=window.getComputedStyle(e,null),i="content-box"===n.boxSizing?Math.round(parseFloat(n.height)):e.offsetHeight;if(i<t?"hidden"===n.overflowY&&(l("scroll"),d(),i="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):"hidden"!==n.overflowY&&(l("hidden"),d(),i="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),r!==i){r=i;var o=a("autosize:resized");try{e.dispatchEvent(o)}catch(e){}}}}function r(e){var t=n.get(e);t&&t.destroy()}function o(e){var t=n.get(e);t&&t.update()}var s=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((s=function(e){return e}).destroy=function(e){return e},s.update=function(e){return e}):((s=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],function(e){return i(e)}),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],r),e},s.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],o),e}),t.default=s,e.exports=t.default})?a.apply(t,i):a)||(e.exports=r)},82:function(e,t,n){"use strict";n.r(t);var a=n(3);n(1);t.default={template:'<div v-if="relationName" class="edit-relation">\n        <section>\n            <header class="tab unselectable">\n                <h2><span><: t(\'Edit parameters of\') :>: <: relationName | humanize :></span> &nbsp;</h2>\n                <a href="#" @click.prevent="closeParamsView()"><: t(\'close\') :></a>\n            </header>\n\n            <div class="object-attributes">\n                <h2><: t(\'Object\') :>: <: object.attributes.title :></h2>\n                <div>\n                    <span class="tag" :class="objectColorClass"><: object.type :></span>\n                    <span class="tag"><: object.attributes.status :></span>\n                </div>\n\n                <h2><: t(\'Related to\') :>: <: relatedName :></h2>\n                <div>\n                    <span class="tag" :class="relatedColorClass"><: related.type :></span>\n                    <span class="tag"><: relatedStatus :></span>\n                </div>\n            </div>\n\n            <form ref="paramsForm" class="params-list" @change="checkParams()" @keyup="checkParams()">\n                <div>\n                    <label><: t(\'Priority\') :></label>\n                    <input type="number" step="1" v-model.number="priority" />\n                </div>\n\n                <div v-for="(param, key) in schema">\n                    <label :title="key"><: param.description || key :>\n\n                        \x3c!-- Boolean -> switch button true/false ---\x3e\n                        <div v-if="param.type == \'boolean\'">\n                            <label class="switch">\n                                <input type="checkbox" v-model="editingParams[key] ">\n                                <span class="slider round"></span>\n                            </label>\n                        </div>\n\n                        <div v-if="param.type == \'string\'">\n                            \x3c!-- String, format: date-time -> datepicker ---\x3e\n                            <input v-if="param.format == \'date-time\'" v-datepicker time="true" v-model="editingParams[key]"></input>\n\n                            \x3c!-- String Enum -> select/option ---\x3e\n                            <div v-else-if="param.enum !== undefined">\n                                <select v-model="editingParams[key]">\n                                    <option v-for="item in param.enum" :value="item"><: item :></option>\n                                </select>\n                            </div>\n                            \x3c!-- String -> input text ---\x3e\n                            <input v-else type="text" v-model="editingParams[key]">\n                        </div>\n\n                        \x3c!-- Number -> input number ---\x3e\n                        <div v-if="param.type == \'number\'">\n                            <label>\n                                <input type="number" :name="key" step="any" v-model.number="editingParams[key]">\n                            </label>\n                        </div>\n\n                        \x3c!-- Integer -> input integer ---\x3e\n                        <div v-if="param.type == \'integer\'">\n                            <label>\n                                <input type="number" :name="key" v-model.number="editingParams[key]">\n                            </label>\n                        </div>\n                    </label>\n                </div>\n            </form>\n\n            <footer>\n                <p>\n                    <button v-show="isModified"\n                        class="has-background-info has-text-white"\n                        @click.prevent="saveParams()"><: t(\'Save \') :></button>\n                </p>\n            </footer>\n        </section>\n    </div>',props:{relationName:{type:String,default:""},object:{type:Object,default:()=>{}},related:{type:Object,default:()=>{}},schema:{type:Object,default:()=>{}}},computed:{relatedStatus(){return this.related.attributes.status},relatedType(){let e="(not available)";return this.related&&(e=this.related.type),e},relatedName(){let e="(empty)";return this.related&&(e=this.related.attributes.title),e},objectColorClass(){return`has-background-module-${this.object.type}`},relatedColorClass(){return`has-background-module-${this.related.type}`}},data:()=>({oldParams:{},editingParams:{},priority:null,isModified:!1}),watch:{related:{handler:function(e){e&&this.setInternalValues()},deep:!0,immediate:!0}},methods:{setInternalValues(){Object.assign(this.oldParams,this.related.meta.relation.params),Object.assign(this.editingParams,this.related.meta.relation.params),this.priority=this.related.meta.relation.priority},saveParams(){Object.keys(this.editingParams).length?this.related.meta.relation.params=this.editingParams:delete this.related.meta.relation.params,this.related.meta.relation.priority=this.priority,a.a.sendBack("edit-params:save",this.related)},closeParamsView(){a.a.closePanel()},checkParams(){this.isModified=!!Object.keys(this.editingParams).filter(e=>""!==this.editingParams[e]&&this.editingParams[e]!==this.oldParams[e]).length||this.related.meta.relation.priority!==this.priority}}}}}]);