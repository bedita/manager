(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{143:function(e,t,s){"use strict";(function(e){s.d(t,"a",function(){return r});var i=s(1),a=s.n(i);const r={loadBeditaPlugins(){BEDITA.plugins.forEach(t=>{const s=window[t]||e[t];if(s){const e=s.default;Object.keys(e).forEach(s=>{"object"==typeof e[s]&&(a.a.component(s,e[s]),console.debug(`%c[${s}]%c component succesfully registred from %c${t}%c Plugin`,"color: blue","color: black","color: red","color: black"))})}})}}}).call(this,s(5))},145:function(e,t,s){e.exports=s(181)},150:function(e,t,s){var i={"./en_US/default.po":151,"./it_IT/default.po":152};function a(e){var t=r(e);return s(t)}function r(e){var t=i[e];if(!(t+1)){var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}return t}a.keys=function(){return Object.keys(i)},a.resolve=r,e.exports=a,a.id=150},151:function(e,t){e.exports={charset:"utf-8",headers:{"project-id-version":"BEdita 4","pot-creation-date":"2019-03-07 11:39:32","po-revision-date":"","last-translator":"","language-team":"BEdita I18N & I10N Team",language:"","mime-version":"1.0","content-type":"text/plain; charset=UTF-8","content-transfer-encoding":"8bit","plural-forms":"nplurals=2; plural=(n != 1);"},translations:{"":{"":{msgid:"",msgstr:["Project-Id-Version: BEdita 4 \nPOT-Creation-Date: 2019-03-07 11:39:32 \nPO-Revision-Date:  \nLast-Translator:  \nLanguage-Team: BEdita I18N & I10N Team \nLanguage:  \nMIME-Version: 1.0 \nContent-Type: text/plain; charset=UTF-8 \nContent-Transfer-Encoding: 8bit \nPlural-Forms: nplurals=2; plural=(n != 1); \n"]},"&":{msgid:"&",msgstr:[""]},"Actions on selected items":{msgid:"Actions on selected items",msgstr:[""]},"Add objects to":{msgid:"Add objects to",msgstr:[""]},Advanced:{msgid:"Advanced",msgstr:[""]},All:{msgid:"All",msgstr:[""]},"All Types":{msgid:"All Types",msgstr:[""]},"All media":{msgid:"All media",msgstr:[""]},"All objects":{msgid:"All objects",msgstr:[""]},"An extension stopped the file upload":{msgid:"An extension stopped the file upload",msgstr:[""]},Any:{msgid:"Any",msgstr:[""]},"BEdita Web site":{msgid:"BEdita Web site",msgstr:[""]},"BEdita {0}":{msgid:"BEdita {0}",msgstr:[""]},"Bulk Action failed on: ":{msgid:"Bulk Action failed on: ",msgstr:[""]},"Cannot create abstract objects or objects without schema":{msgid:"Cannot create abstract objects or objects without schema",msgstr:[""]},"Cannot produce a thumbnail for this file":{msgid:"Cannot produce a thumbnail for this file",msgstr:[""]},"Change File":{msgid:"Change File",msgstr:[""]},Children:{msgid:"Children",msgstr:[""]},"Create new":{msgid:"Create new",msgstr:[""]},"Current password":{msgid:"Current password",msgstr:[""]},Dashboard:{msgid:"Dashboard",msgstr:[""]},"Data Import":{msgid:"Data Import",msgstr:[""]},"Data modeling":{msgid:"Data modeling",msgstr:[""]},Delete:{msgid:"Delete",msgstr:[""]},Description:{msgid:"Description",msgstr:[""]},"Direct access by id or unique name":{msgid:"Direct access by id or unique name",msgstr:[""]},Documents:{msgid:"Documents",msgstr:[""]},Download:{msgid:"Download",msgstr:[""]},Draft:{msgid:"Draft",msgstr:[""]},"Edit Params":{msgid:"Edit Params",msgstr:[""]},"Empty request data":{msgid:"Empty request data",msgstr:[""]},'Empty translation "id"':{msgid:'Empty translation "id"',msgstr:[""]},'Empty translation "object_id"':{msgid:'Empty translation "object_id"',msgstr:[""]},"Empty-verb":{msgid:"Empty-verb",msgstr:["Empty"]},"Error ":{msgid:"Error ",msgstr:[""]},"Error retrieving the requested content":{msgid:"Error retrieving the requested content",msgstr:[""]},Events:{msgid:"Events",msgstr:[""]},Export:{msgid:"Export",msgstr:[""]},"Export All":{msgid:"Export All",msgstr:[""]},"Failed to write file to disk":{msgid:"Failed to write file to disk",msgstr:[""]},"File is too big, form MAX_FILE_SIZE exceeded":{msgid:"File is too big, form MAX_FILE_SIZE exceeded",msgstr:[""]},"File is too big, max allowed size is {0}":{msgid:"File is too big, max allowed size is {0}",msgstr:[""]},"File only partially uploaded":{msgid:"File only partially uploaded",msgstr:[""]},"File type":{msgid:"File type",msgstr:[""]},Files:{msgid:"Files",msgstr:[""]},Folders:{msgid:"Folders",msgstr:[""]},From:{msgid:"From",msgstr:[""]},"Image not acceptable for thumb":{msgid:"Image not acceptable for thumb",msgstr:[""]},Images:{msgid:"Images",msgstr:[""]},Import:{msgid:"Import",msgstr:[""]},"Import error":{msgid:"Import error",msgstr:[""]},"Import filter not selected":{msgid:"Import filter not selected",msgstr:[""]},"Import warn":{msgid:"Import warn",msgstr:[""]},"Invalid username or password":{msgid:"Invalid username or password",msgstr:[""]},Language:{msgid:"Language",msgstr:[""]},Locations:{msgid:"Locations",msgstr:[""]},"Log out":{msgid:"Log out",msgstr:[""]},Login:{msgid:"Login",msgstr:[""]},"Login required":{msgid:"Login required",msgstr:[""]},Media:{msgid:"Media",msgstr:[""]},Metadata:{msgid:"Metadata",msgstr:[""]},"Missing import file":{msgid:"Missing import file",msgstr:[""]},"Missing thumb url":{msgid:"Missing thumb url",msgstr:[""]},"Module access not authorized":{msgid:"Module access not authorized",msgstr:[""]},"Move to trash":{msgid:"Move to trash",msgstr:[""]},"New entry in":{msgid:"New entry in",msgstr:[""]},"New relations (save to keep)":{msgid:"New relations (save to keep)",msgstr:[""]},News:{msgid:"News",msgstr:[""]},No:{msgid:"No",msgstr:[""]},"No items found":{msgid:"No items found",msgstr:[""]},"No options for this file type":{msgid:"No options for this file type",msgstr:[""]},"Number of created objects":{msgid:"Number of created objects",msgstr:[""]},"Number of created resources":{msgid:"Number of created resources",msgstr:[""]},"Number of errors":{msgid:"Number of errors",msgstr:[""]},"Number of updated objects":{msgid:"Number of updated objects",msgstr:[""]},"Number of updated resources":{msgid:"Number of updated resources",msgstr:[""]},"Object deleted from trash":{msgid:"Object deleted from trash",msgstr:[""]},"Object saved":{msgid:"Object saved",msgstr:[""]},"Object types":{msgid:"Object types",msgstr:[""]},"Object(s) deleted":{msgid:"Object(s) deleted",msgstr:[""]},Objects:{msgid:"Objects",msgstr:[""]},Off:{msgid:"Off",msgstr:[""]},On:{msgid:"On",msgstr:[""]},"Open image":{msgid:"Open image",msgstr:[""]},Options:{msgid:"Options",msgstr:[""]},Other:{msgid:"Other",msgstr:[""]},Password:{msgid:"Password",msgstr:[""]},"Preferences and Tools":{msgid:"Preferences and Tools",msgstr:[""]},Priority:{msgid:"Priority",msgstr:[""]},Profiles:{msgid:"Profiles",msgstr:[""]},"Property types":{msgid:"Property types",msgstr:[""]},"Publish End":{msgid:"Publish End",msgstr:[""]},"Publish Start":{msgid:"Publish Start",msgstr:[""]},Relations:{msgid:"Relations",msgstr:[""]},Remove:{msgid:"Remove",msgstr:[""]},"Reset filters":{msgid:"Reset filters",msgstr:[""]},'Resource "%s" not available. Error: %s':{msgid:'Resource "%s" not available. Error: %s',msgstr:[""]},'Resource "%s" not found':{msgid:'Resource "%s" not found',msgstr:[""]},Restore:{msgid:"Restore",msgstr:[""]},Result:{msgid:"Result",msgstr:[""]},"Retype password":{msgid:"Retype password",msgstr:[""]},Save:{msgid:"Save",msgstr:[""]},Search:{msgid:"Search",msgstr:[""]},"Search in BEdita":{msgid:"Search in BEdita",msgstr:[""]},"Set selected":{msgid:"Set selected",msgstr:[""]},Settings:{msgid:"Settings",msgstr:[""]},"Show more":{msgid:"Show more",msgstr:[""]},"Sign in":{msgid:"Sign in",msgstr:[""]},Size:{msgid:"Size",msgstr:[""]},Status:{msgid:"Status",msgstr:[""]},"System users":{msgid:"System users",msgstr:[""]},"Temporary folder missing":{msgid:"Temporary folder missing",msgstr:[""]},"The thumbnail is not available":{msgid:"The thumbnail is not available",msgstr:[""]},"Thumb not available":{msgid:"Thumb not available",msgstr:[""]},"Thumb not ready: coming soon":{msgid:"Thumb not ready: coming soon",msgstr:[""]},"Thumbnail is not ready":{msgid:"Thumbnail is not ready",msgstr:[""]},To:{msgid:"To",msgstr:[""]},"Translation(s) deleted":{msgid:"Translation(s) deleted",msgstr:[""]},Translations:{msgid:"Translations",msgstr:[""]},Trash:{msgid:"Trash",msgstr:[""]},"Trash can":{msgid:"Trash can",msgstr:[""]},"Trash-verb":{msgid:"Trash-verb",msgstr:["Trash"]},Trashcan:{msgid:"Trashcan",msgstr:[""]},Uname:{msgid:"Uname",msgstr:[""]},"Unknown upload error":{msgid:"Unknown upload error",msgstr:[""]},Untitled:{msgid:"Untitled",msgstr:[""]},Upload:{msgid:"Upload",msgstr:[""]},"User Profile":{msgid:"User Profile",msgstr:[""]},"User profile saved":{msgid:"User profile saved",msgstr:[""]},Username:{msgid:"Username",msgstr:[""]},Users:{msgid:"Users",msgstr:[""]},Videos:{msgid:"Videos",msgstr:[""]},View:{msgid:"View",msgstr:[""]},"View original":{msgid:"View original",msgstr:[""]},"View trashed ":{msgid:"View trashed ",msgstr:[""]},Yes:{msgid:"Yes",msgstr:[""]},"You are not authorized to access that location.":{msgid:"You are not authorized to access that location.",msgstr:[""]},"add objects":{msgid:"add objects",msgstr:[""]},"add to":{msgid:"add to",msgstr:[""]},cancel:{msgid:"cancel",msgstr:[""]},"click to remove":{msgid:"click to remove",msgstr:[""]},close:{msgid:"close",msgstr:[""]},code:{msgid:"code",msgstr:[""]},"confirm password":{msgid:"confirm password",msgstr:[""]},create:{msgid:"create",msgstr:[""]},"create new":{msgid:"create new",msgstr:[""]},"current password":{msgid:"current password",msgstr:[""]},download:{msgid:"download",msgstr:[""]},id:{msgid:"id",msgstr:[""]},"last modified":{msgid:"last modified",msgstr:[""]},modified:{msgid:"modified",msgstr:[""]},"move to":{msgid:"move to",msgstr:[""]},"new password":{msgid:"new password",msgstr:[""]},objects:{msgid:"objects",msgstr:[""]},of:{msgid:"of",msgstr:[""]},open:{msgid:"open",msgstr:[""]},original:{msgid:"original",msgstr:[""]},position:{msgid:"position",msgstr:[""]},reload:{msgid:"reload",msgstr:[""]},remove:{msgid:"remove",msgstr:[""]},status:{msgid:"status",msgstr:[""]},title:{msgid:"title",msgstr:[""]},"translation of":{msgid:"translation of",msgstr:[""]},type:{msgid:"type",msgstr:[""]},undo:{msgid:"undo",msgstr:[""]},"undo remove":{msgid:"undo remove",msgstr:[""]},"view file":{msgid:"view file",msgstr:[""]},"www.bedita.com":{msgid:"www.bedita.com",msgstr:[""]}}}}},152:function(e,t){e.exports={charset:"utf-8",headers:{"project-id-version":"BEdita 4","pot-creation-date":"2019-03-07 11:39:32","po-revision-date":"","last-translator":"","language-team":"BEdita I18N & I10N Team",language:"","mime-version":"1.0","content-type":"text/plain; charset=UTF-8","content-transfer-encoding":"8bit","plural-forms":"nplurals=2; plural=(n != 1);"},translations:{"":{"":{msgid:"",msgstr:["Project-Id-Version: BEdita 4 \nPOT-Creation-Date: 2019-03-07 11:39:32 \nPO-Revision-Date:  \nLast-Translator:  \nLanguage-Team: BEdita I18N & I10N Team \nLanguage:  \nMIME-Version: 1.0 \nContent-Type: text/plain; charset=UTF-8 \nContent-Transfer-Encoding: 8bit \nPlural-Forms: nplurals=2; plural=(n != 1); \n"]},"&":{msgid:"&",msgstr:[""]},"Actions on selected items":{msgid:"Actions on selected items",msgstr:["Azioni sugli oggetti selezionati"]},"Add objects to":{msgid:"Add objects to",msgstr:["Aggiungi oggetti a"]},Advanced:{msgid:"Advanced",msgstr:["Avanzate"]},All:{msgid:"All",msgstr:["Tutti"]},"All Types":{msgid:"All Types",msgstr:["Tutti i tipi"]},"All media":{msgid:"All media",msgstr:["Tutti i media"]},"All objects":{msgid:"All objects",msgstr:["Tutti gli oggetti"]},"An extension stopped the file upload":{msgid:"An extension stopped the file upload",msgstr:["Un'estensione ha fermato il caricamento del file"]},Any:{msgid:"Any",msgstr:["Qualsiasi"]},"BEdita Web site":{msgid:"BEdita Web site",msgstr:["Sito BEdita"]},"BEdita {0}":{msgid:"BEdita {0}",msgstr:[""]},"Bulk Action failed on: ":{msgid:"Bulk Action failed on: ",msgstr:["Operazione massiva non riuscita:"]},"Cannot create abstract objects or objects without schema":{msgid:"Cannot create abstract objects or objects without schema",msgstr:["Impossibile creare oggetti astratti o oggetti senza schema"]},"Cannot produce a thumbnail for this file":{msgid:"Cannot produce a thumbnail for this file",msgstr:["Impossibile produrre una miniatura per questo file"]},"Change File":{msgid:"Change File",msgstr:["Cambia File"]},Children:{msgid:"Children",msgstr:["Contenuti"]},"Create new":{msgid:"Create new",msgstr:["Crea nuovo"]},"Current password":{msgid:"Current password",msgstr:["Password corrente"]},Dashboard:{msgid:"Dashboard",msgstr:["Cruscotto"]},"Data Import":{msgid:"Data Import",msgstr:["Importazione dati"]},"Data modeling":{msgid:"Data modeling",msgstr:["Modellazione"]},Delete:{msgid:"Delete",msgstr:["Elimina"]},Description:{msgid:"Description",msgstr:["Descrizione"]},"Direct access by id or unique name":{msgid:"Direct access by id or unique name",msgstr:["Link diretto per ID o nome univoco"]},Documents:{msgid:"Documents",msgstr:["Documenti"]},Download:{msgid:"Download",msgstr:[""]},Draft:{msgid:"Draft",msgstr:[""]},"Edit Params":{msgid:"Edit Params",msgstr:["Modifica Parametri"]},"Empty request data":{msgid:"Empty request data",msgstr:["Nessuno dato in request"]},'Empty translation "id"':{msgid:'Empty translation "id"',msgstr:['Identificatore traduzione vuoto ("id")']},'Empty translation "object_id"':{msgid:'Empty translation "object_id"',msgstr:['Identificatore oggetto tradotto vuoto ("object_id") ']},"Empty-verb":{msgid:"Empty-verb",msgstr:["Svuota"]},"Error ":{msgid:"Error ",msgstr:["Errore "]},"Error retrieving the requested content":{msgid:"Error retrieving the requested content",msgstr:["Errore nel caricamento del contenuto richiesto"]},Events:{msgid:"Events",msgstr:["Eventi"]},Export:{msgid:"Export",msgstr:["Esporta"]},"Export All":{msgid:"Export All",msgstr:["Esporta Tutti"]},"Failed to write file to disk":{msgid:"Failed to write file to disk",msgstr:["Scrittura file su disco fallita"]},"File is too big, form MAX_FILE_SIZE exceeded":{msgid:"File is too big, form MAX_FILE_SIZE exceeded",msgstr:["File troppo grande, dimensione massima form superata (MAX_FILE_SIZE)"]},"File is too big, max allowed size is {0}":{msgid:"File is too big, max allowed size is {0}",msgstr:["File troppo grande, dimensione massima consentita {0}"]},"File only partially uploaded":{msgid:"File only partially uploaded",msgstr:["File caricato solo parzialmente"]},"File type":{msgid:"File type",msgstr:["Tipo di file"]},Files:{msgid:"Files",msgstr:["File"]},Folders:{msgid:"Folders",msgstr:["Cartelle"]},From:{msgid:"From",msgstr:["Da"]},"Image not acceptable for thumb":{msgid:"Image not acceptable for thumb",msgstr:["Immagine non valida per miniatura"]},Images:{msgid:"Images",msgstr:["Immagini"]},Import:{msgid:"Import",msgstr:["Importa da file"]},"Import error":{msgid:"Import error",msgstr:["Errore in importazione"]},"Import filter not selected":{msgid:"Import filter not selected",msgstr:["Filtro di importazione non selezionato"]},"Import warn":{msgid:"Import warn",msgstr:["Avviso in importazione"]},"Invalid username or password":{msgid:"Invalid username or password",msgstr:[""]},Language:{msgid:"Language",msgstr:["Lingua"]},Locations:{msgid:"Locations",msgstr:["Luoghi"]},"Log out":{msgid:"Log out",msgstr:["Esci"]},Login:{msgid:"Login",msgstr:["Accedi"]},"Login required":{msgid:"Login required",msgstr:["È richiesto il login"]},Media:{msgid:"Media",msgstr:[""]},Metadata:{msgid:"Metadata",msgstr:["Metadati"]},"Missing import file":{msgid:"Missing import file",msgstr:["File di importazione mancante"]},"Missing thumb url":{msgid:"Missing thumb url",msgstr:["Url miniatura mancante"]},"Module access not authorized":{msgid:"Module access not authorized",msgstr:["Accesso al modulo non autorizzato"]},"Move to trash":{msgid:"Move to trash",msgstr:["Sposta nel cestino"]},"New entry in":{msgid:"New entry in",msgstr:["Nuova voce in"]},"New relations (save to keep)":{msgid:"New relations (save to keep)",msgstr:["Nuove relazioni (salvare per mantenerle)"]},News:{msgid:"News",msgstr:["Novità"]},No:{msgid:"No",msgstr:["No"]},"No items found":{msgid:"No items found",msgstr:["Nessun elemento trovato"]},"No options for this file type":{msgid:"No options for this file type",msgstr:["Nessuna opzione per questo tipo di file"]},"Number of created objects":{msgid:"Number of created objects",msgstr:["Numero di oggetti creati"]},"Number of created resources":{msgid:"Number of created resources",msgstr:["Numero di risorse create"]},"Number of errors":{msgid:"Number of errors",msgstr:["Numero di errori"]},"Number of updated objects":{msgid:"Number of updated objects",msgstr:["Numero di oggetti aggiornati"]},"Number of updated resources":{msgid:"Number of updated resources",msgstr:["Numero di risorse aggiornate"]},"Object deleted from trash":{msgid:"Object deleted from trash",msgstr:["Oggetto rimosso dal cestino"]},"Object saved":{msgid:"Object saved",msgstr:["Oggetto salvato"]},"Object types":{msgid:"Object types",msgstr:["Tipi di oggetto"]},"Object(s) deleted":{msgid:"Object(s) deleted",msgstr:["Oggetto(i) rimosso(i)"]},Objects:{msgid:"Objects",msgstr:["Oggetti"]},Off:{msgid:"Off",msgstr:[""]},On:{msgid:"On",msgstr:[""]},"Open image":{msgid:"Open image",msgstr:["Apri immagine"]},Options:{msgid:"Options",msgstr:["Opzioni"]},Other:{msgid:"Other",msgstr:["Altro"]},Password:{msgid:"Password",msgstr:[""]},"Preferences and Tools":{msgid:"Preferences and Tools",msgstr:["Preferenze e Strumenti"]},Priority:{msgid:"Priority",msgstr:["Priorità"]},Profiles:{msgid:"Profiles",msgstr:["Profili"]},"Property types":{msgid:"Property types",msgstr:["Tipi di priorità"]},"Publish End":{msgid:"Publish End",msgstr:["Data revoca pubblicazione"]},"Publish Start":{msgid:"Publish Start",msgstr:["Data inizio pubblicazione"]},Relations:{msgid:"Relations",msgstr:["Relazioni"]},Remove:{msgid:"Remove",msgstr:["Rimuovi"]},"Reset filters":{msgid:"Reset filters",msgstr:["Reset filtri"]},'Resource "%s" not available. Error: %s':{msgid:'Resource "%s" not available. Error: %s',msgstr:['Risorsa "%s" non disponibile. Error: %s']},'Resource "%s" not found':{msgid:'Resource "%s" not found',msgstr:['Risorsa "%s" non trovata']},Restore:{msgid:"Restore",msgstr:["Ripristina"]},Result:{msgid:"Result",msgstr:["Risultato"]},"Retype password":{msgid:"Retype password",msgstr:["Ridigita password"]},Save:{msgid:"Save",msgstr:["Salva"]},Search:{msgid:"Search",msgstr:["Cerca"]},"Search in BEdita":{msgid:"Search in BEdita",msgstr:["Cerca in BEdita"]},"Set selected":{msgid:"Set selected",msgstr:["Applica a selezione"]},Settings:{msgid:"Settings",msgstr:["Impostazioni"]},"Show more":{msgid:"Show more",msgstr:["Mostra di più"]},"Sign in":{msgid:"Sign in",msgstr:["Accedi"]},Size:{msgid:"Size",msgstr:["Dimensione"]},Status:{msgid:"Status",msgstr:["Stato"]},"System users":{msgid:"System users",msgstr:[""]},"Temporary folder missing":{msgid:"Temporary folder missing",msgstr:["Cartella temporanea mancante"]},"The thumbnail is not available":{msgid:"The thumbnail is not available",msgstr:["La miniatura non è disponibile"]},"Thumb not available":{msgid:"Thumb not available",msgstr:["Miniatura non disponibile"]},"Thumb not ready: coming soon":{msgid:"Thumb not ready: coming soon",msgstr:["Miniatura non pronta: in lavorazione"]},"Thumbnail is not ready":{msgid:"Thumbnail is not ready",msgstr:["La miniatura non è pronta"]},To:{msgid:"To",msgstr:["A"]},"Translation(s) deleted":{msgid:"Translation(s) deleted",msgstr:["Traduzione(i) rimossa(e)"]},Translations:{msgid:"Translations",msgstr:["Traduzioni"]},Trash:{msgid:"Trash",msgstr:["Cestino"]},"Trash can":{msgid:"Trash can",msgstr:["Cestino"]},"Trash-verb":{msgid:"Trash-verb",msgstr:["Cestina"]},Trashcan:{msgid:"Trashcan",msgstr:["Cestino"]},Uname:{msgid:"Uname",msgstr:["Nome univoco"]},"Unknown upload error":{msgid:"Unknown upload error",msgstr:["Errore sconosciuto durante caricamento"]},Untitled:{msgid:"Untitled",msgstr:["Senza titolo"]},Upload:{msgid:"Upload",msgstr:["Caricare"]},"User Profile":{msgid:"User Profile",msgstr:["Profilo Utente"]},"User profile saved":{msgid:"User profile saved",msgstr:["Profilo utente salvato"]},Username:{msgid:"Username",msgstr:["Nome utente"]},Users:{msgid:"Users",msgstr:["Utenti"]},Videos:{msgid:"Videos",msgstr:["Video"]},View:{msgid:"View",msgstr:["Visualizza"]},"View original":{msgid:"View original",msgstr:["Vedi originale"]},"View trashed ":{msgid:"View trashed ",msgstr:[""]},Yes:{msgid:"Yes",msgstr:["Sì"]},"You are not authorized to access that location.":{msgid:"You are not authorized to access that location.",msgstr:["Non sei autorizzato ad accedere a quest'area."]},"add objects":{msgid:"add objects",msgstr:["aggiungi oggetti"]},"add to":{msgid:"add to",msgstr:[""]},cancel:{msgid:"cancel",msgstr:["annulla"]},"click to remove":{msgid:"click to remove",msgstr:["clicca per rimuovere"]},close:{msgid:"close",msgstr:["chiudi"]},code:{msgid:"code",msgstr:["codice"]},"confirm password":{msgid:"confirm password",msgstr:["conferma password"]},create:{msgid:"create",msgstr:["crea"]},"create new":{msgid:"create new",msgstr:["crea nuovo"]},"current password":{msgid:"current password",msgstr:["password corrente"]},download:{msgid:"download",msgstr:[""]},id:{msgid:"id",msgstr:[""]},"last modified":{msgid:"last modified",msgstr:["ultima modifica"]},modified:{msgid:"modified",msgstr:["modificato"]},"move to":{msgid:"move to",msgstr:["sposta in"]},"new password":{msgid:"new password",msgstr:["nuova password"]},objects:{msgid:"objects",msgstr:["oggetti"]},of:{msgid:"of",msgstr:["di"]},open:{msgid:"open",msgstr:[""]},original:{msgid:"original",msgstr:["originale"]},position:{msgid:"position",msgstr:["posizione"]},reload:{msgid:"reload",msgstr:["ricarica"]},remove:{msgid:"remove",msgstr:["rimuovi"]},status:{msgid:"status",msgstr:["stato"]},title:{msgid:"title",msgstr:["titolo"]},"translation of":{msgid:"translation of",msgstr:["traduzione di"]},type:{msgid:"type",msgstr:["tipo"]},undo:{msgid:"undo",msgstr:[""]},"undo remove":{msgid:"undo remove",msgstr:["annulla rimozione"]},"view file":{msgid:"view file",msgstr:["mostra file"]},"www.bedita.com":{msgid:"www.bedita.com",msgstr:[""]}}}}},154:function(e,t){},178:function(e,t,s){var i={"./af":20,"./af.js":20,"./ar":21,"./ar-dz":22,"./ar-dz.js":22,"./ar-kw":23,"./ar-kw.js":23,"./ar-ly":24,"./ar-ly.js":24,"./ar-ma":25,"./ar-ma.js":25,"./ar-sa":26,"./ar-sa.js":26,"./ar-tn":27,"./ar-tn.js":27,"./ar.js":21,"./az":28,"./az.js":28,"./be":29,"./be.js":29,"./bg":30,"./bg.js":30,"./bm":31,"./bm.js":31,"./bn":32,"./bn.js":32,"./bo":33,"./bo.js":33,"./br":34,"./br.js":34,"./bs":35,"./bs.js":35,"./ca":36,"./ca.js":36,"./cs":37,"./cs.js":37,"./cv":38,"./cv.js":38,"./cy":39,"./cy.js":39,"./da":40,"./da.js":40,"./de":41,"./de-at":42,"./de-at.js":42,"./de-ch":43,"./de-ch.js":43,"./de.js":41,"./dv":44,"./dv.js":44,"./el":45,"./el.js":45,"./en-au":46,"./en-au.js":46,"./en-ca":47,"./en-ca.js":47,"./en-gb":48,"./en-gb.js":48,"./en-ie":49,"./en-ie.js":49,"./en-il":50,"./en-il.js":50,"./en-nz":51,"./en-nz.js":51,"./eo":52,"./eo.js":52,"./es":53,"./es-do":54,"./es-do.js":54,"./es-us":55,"./es-us.js":55,"./es.js":53,"./et":56,"./et.js":56,"./eu":57,"./eu.js":57,"./fa":58,"./fa.js":58,"./fi":59,"./fi.js":59,"./fo":60,"./fo.js":60,"./fr":61,"./fr-ca":62,"./fr-ca.js":62,"./fr-ch":63,"./fr-ch.js":63,"./fr.js":61,"./fy":64,"./fy.js":64,"./gd":65,"./gd.js":65,"./gl":66,"./gl.js":66,"./gom-latn":67,"./gom-latn.js":67,"./gu":68,"./gu.js":68,"./he":69,"./he.js":69,"./hi":70,"./hi.js":70,"./hr":71,"./hr.js":71,"./hu":72,"./hu.js":72,"./hy-am":73,"./hy-am.js":73,"./id":74,"./id.js":74,"./is":75,"./is.js":75,"./it":76,"./it.js":76,"./ja":77,"./ja.js":77,"./jv":78,"./jv.js":78,"./ka":79,"./ka.js":79,"./kk":80,"./kk.js":80,"./km":81,"./km.js":81,"./kn":82,"./kn.js":82,"./ko":83,"./ko.js":83,"./ky":84,"./ky.js":84,"./lb":85,"./lb.js":85,"./lo":86,"./lo.js":86,"./lt":87,"./lt.js":87,"./lv":88,"./lv.js":88,"./me":89,"./me.js":89,"./mi":90,"./mi.js":90,"./mk":91,"./mk.js":91,"./ml":92,"./ml.js":92,"./mn":93,"./mn.js":93,"./mr":94,"./mr.js":94,"./ms":95,"./ms-my":96,"./ms-my.js":96,"./ms.js":95,"./mt":97,"./mt.js":97,"./my":98,"./my.js":98,"./nb":99,"./nb.js":99,"./ne":100,"./ne.js":100,"./nl":101,"./nl-be":102,"./nl-be.js":102,"./nl.js":101,"./nn":103,"./nn.js":103,"./pa-in":104,"./pa-in.js":104,"./pl":105,"./pl.js":105,"./pt":106,"./pt-br":107,"./pt-br.js":107,"./pt.js":106,"./ro":108,"./ro.js":108,"./ru":109,"./ru.js":109,"./sd":110,"./sd.js":110,"./se":111,"./se.js":111,"./si":112,"./si.js":112,"./sk":113,"./sk.js":113,"./sl":114,"./sl.js":114,"./sq":115,"./sq.js":115,"./sr":116,"./sr-cyrl":117,"./sr-cyrl.js":117,"./sr.js":116,"./ss":118,"./ss.js":118,"./sv":119,"./sv.js":119,"./sw":120,"./sw.js":120,"./ta":121,"./ta.js":121,"./te":122,"./te.js":122,"./tet":123,"./tet.js":123,"./tg":124,"./tg.js":124,"./th":125,"./th.js":125,"./tl-ph":126,"./tl-ph.js":126,"./tlh":127,"./tlh.js":127,"./tr":128,"./tr.js":128,"./tzl":129,"./tzl.js":129,"./tzm":130,"./tzm-latn":131,"./tzm-latn.js":131,"./tzm.js":130,"./ug-cn":132,"./ug-cn.js":132,"./uk":133,"./uk.js":133,"./ur":134,"./ur.js":134,"./uz":135,"./uz-latn":136,"./uz-latn.js":136,"./uz.js":135,"./vi":137,"./vi.js":137,"./x-pseudo":138,"./x-pseudo.js":138,"./yo":139,"./yo.js":139,"./zh-cn":140,"./zh-cn.js":140,"./zh-hk":141,"./zh-hk.js":141,"./zh-tw":142,"./zh-tw.js":142};function a(e){var t=r(e);return s(t)}function r(e){var t=i[e];if(!(t+1)){var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}return t}a.keys=function(){return Object.keys(i)},a.resolve=r,e.exports=a,a.id=178},181:function(e,t,i){"use strict";i.r(t);var a=i(1),r=i.n(a);r.a.filter("humanize",function(e){return e.split("_").map(function(e){return e.charAt(0).toUpperCase()+e.substring(1)}).join(" ")});var o=i(2);i(153);const n={devtools:!0},l={delimiters:["<:",":>"]};for(let e in n)n.hasOwnProperty(e)&&(r.a.config[e]=n[e]);for(let e in l)l.hasOwnProperty(e)&&(r.a.options[e]=l[e]);!function(e){if(e){const t=i(150)(`./${e}/default.po`);Object(o.addLocale)(e,t),Object(o.useLocale)(e)}}(BEDITA.locale);const d=["media","image","video","audio","files"];r.a.mixin({methods:{t:e=>Object(o.t)([e])}});const m={configFull:{toolbar:[{name:"document",groups:["mode"],items:["Source"]},{name:"basicstyles",groups:["basicstyles","cleanup"],items:["Bold","Italic","Underline","Strike","Subscript","Superscript","-","RemoveFormat"]},{name:"paragraph",groups:["list","blocks","align"],items:["NumberedList","BulletedList","-","Blockquote","JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock"]},{name:"links",items:["Link","Unlink","Anchor"]},{name:"editAttributes",items:["Attr"]},{name:"editing",groups:["find"],items:["Find","Replace"]},{name:"insert",items:["Image","Table","HorizontalRule","SpecialChar","Formula"]},{name:"tools",items:["ShowBlocks","AutoCorrect"]},{name:"styles",items:["Format","Styles"]},{name:"clipboard",groups:["clipboard","undo"],items:["Cut","Copy","Paste","PasteText","PasteFromWord","-","Undo","Redo"]}],allowedContent:!0,language:BEDITA.currLang2,entities:!1,fillEmptyBlocks:!1,forcePasteAsPlainText:!0,startupOutlineBlocks:!0,height:200},configNormal:{toolbar:[{name:"basicstyles",groups:["basicstyles","cleanup"],items:["Bold","Italic","Underline","Strike","-","RemoveFormat"]},{name:"paragraph",groups:["list","blocks","align"],items:["NumberedList","BulletedList"]},{name:"styles",items:["Format"]},{name:"links",items:["Link","Unlink"]},{name:"clipboard",groups:["clipboard","undo"],items:["PasteText","PasteFromWord","-","Undo","Redo"]},{name:"document",groups:["mode"],items:["Source"]}],format_tags:"p;h2",allowedContent:!0,language:BEDITA.currLang2,entities:!1,fillEmptyBlocks:!1,forcePasteAsPlainText:!0,startupOutlineBlocks:!0,height:200},configSimple:{toolbar:[{name:"document",groups:["mode"],items:["Source"]},{name:"basicstyles",groups:["basicstyles","cleanup"],items:["Bold","Italic","Underline","Strike","Subscript","Superscript","-","RemoveFormat"]},{name:"links",items:["Link","Unlink"]},{name:"clipboard",groups:["clipboard","undo"],items:["Undo","Redo"]},{name:"tools",items:["ShowBlocks"]}],allowedContent:!0,language:BEDITA.currLang2,entities:!1,fillEmptyBlocks:!1,forcePasteAsPlainText:!0,startupOutlineBlocks:!0,height:200}};i(154);var c=i(143),g={props:{ids:{type:String,default:()=>[]}},data:()=>({allIds:[],selectedRows:[]}),created(){try{this.allIds=JSON.parse(this.ids)}catch(e){console.error(e)}},computed:{selectedIds(){return JSON.stringify(this.selectedRows)},allChecked(){return JSON.stringify(this.selectedRows.sort())==JSON.stringify(this.allIds.sort())}},methods:{toggleAll(){this.allChecked?this.unCheckAll():this.checkAll()},checkAll(){this.selectedRows=JSON.parse(JSON.stringify(this.allIds))},unCheckAll(){this.selectedRows=[]},bulkActions(){this.selectedRows.length},exportSelected(){this.selectedRows.length<1||document.getElementById("form-export").submit()},exportAll(){this.unCheckAll(),this.$nextTick(()=>{document.getElementById("form-export").submit()})},trash(){this.selectedRows.length<1||confirm("Move "+this.selectedRows.length+" item to trash")&&document.getElementById("form-delete").submit()},selectRow(e){if("checkbox"!=e.target.type){e.preventDefault();var t=e.target.querySelector("input[type=checkbox]");let s=this.selectedRows.indexOf(t.value);-1!=s?this.selectedRows.splice(s,1):this.selectedRows.push(t.value)}}}};i(155);const h={count:0,page:1,page_size:20,page_count:1},p={q:"",filter:{type:[]}},u={data:()=>({requestsQueue:[],requestController:new AbortController,objects:[],endpoint:null,pagination:h,query:{},formatObjetsFilter:["params","priority","position","url"]}),methods:{getPaginatedObjects(e=!0,t={}){let s=window.location.href;if(this.endpoint){t&&(this.query=t);let i=`${s}/${this.endpoint}`;const a={credentials:"same-origin",headers:{accept:"application/json"}};i=this.getUrlWithPaginationAndQuery(i),this.requestsQueue.length>0&&(this.requestController.abort(),this.requestController=new AbortController),a.signal=this.requestController.signal;let r=fetch(i,a).then(e=>e.json()).then(t=>{this.requestsQueue.pop();let s=(Array.isArray(t.data)?t.data:[t.data])||[];return t.data||(s=[]),this.requestsQueue.length<1&&(e&&(this.objects=s),this.pagination=t.meta&&t.meta.pagination||this.pagination,s)}).catch(e=>{if(this.requestsQueue.pop(),20===e.code)throw e;console.error(e)});return this.requestsQueue.push(r),r}return Promise.reject()},formatObjects(e){if(void 0===e)return[];const t=[];return e.forEach(e=>{let s={};s.id=e.id,s.type=e.type;const i=e.meta.relation;if(i){let e={};this.formatObjetsFilter.forEach(t=>{i[t]&&(e[t]=i[t])}),Object.keys(e).length&&(s.meta={relation:e})}t.push(s)}),t},setPagination(e){let t="",s="?";return Object.keys(this.pagination).forEach((e,s)=>{t+=`${s?"&":""}${e}=${this.pagination[e]}`}),-1===e.indexOf(s)||(s="&"),`${e}${s}${t}`},getUrlWithPaginationAndQuery(e){let t="",s="?";return Object.keys(this.pagination).forEach((e,s)=>{t+=`${s?"&":""}${e}=${this.pagination[e]}`}),t.length>1&&(t+="&"),Object.keys(this.query).forEach((e,s)=>{const i=this.query[e];let a=`${e}=${i}`;if("filter"===e){let e="";Object.keys(i).forEach(t=>{""!==i[t]&&(e+=`filter[${t}]=${i[t]}`)}),a=e}t+=`${s?"&":""}${a}`}),-1===e.indexOf(s)||(s="&"),`${e}${s}${t}`},findObjectById(e){let t=this.objects.filter(t=>t.id===e);return t.length&&t[0]},async loadMore(e=h.page_size){if(this.pagination.page_items<this.pagination.count){let t=await this.nextPage(!1);this.pagination.page_items=this.pagination.page_items+e<=this.pagination.count?this.pagination.page_items+e:this.pagination.count;const s=this.objects.length;this.objects.splice(s,0,...t)}},toPage(e,t={}){return this.pagination.page=e||1,this.getPaginatedObjects(!0,t)},firstPage(e=!0){return 1!==this.pagination.page?(this.pagination.page=1,this.getPaginatedObjects(e)):Promise.resolve([])},lastPage(e=!0){return this.pagination.page!==this.pagination.page_count?(this.pagination.page=this.pagination.page_count,this.getPaginatedObjects(e)):Promise.resolve([])},nextPage(e=!0){return this.pagination.page<this.pagination.page_count?(this.pagination.page=this.pagination.page+1,this.getPaginatedObjects(e)):Promise.resolve([])},prevPage(){return this.pagination.page>1?(this.pagination.page=this.pagination.page-1,this.getPaginatedObjects()):Promise.resolve()},setPageSize(e){this.pagination.page_size=e,this.pagination.page=1}}};var f={mixins:[u],props:{relationName:{type:String,required:!0},viewVisibility:{type:Boolean,default:()=>!1},addedRelations:{type:Array,default:()=>[]},hideRelations:{type:Array,default:()=>[]}},computed:{keyEvents(){return{esc:{keyup:this.handleKeyboard}}}},data:()=>({method:"relationshipsJson",loading:!1,pendingRelations:[],relationsData:[],isVisible:!1}),created(){this.endpoint=`${this.method}/${this.relationName}`},watch:{addedRelations(e){this.pendingRelations=e},pendingRelations(e){this.relationsData=this.relationFormatterHelper(e)},viewVisibility(e){this.isVisible=e},isVisible(){this.objects.length||this.loadObjects(),this.$nextTick(()=>{this.isVisible&&this.$refs.inputFilter&&this.$refs.inputFilter.focus()}),this.$emit("visibility-setter",this.isVisible)},loading(e){this.$parent.$emit("loading",e)}},methods:{async loadObjects(){this.loading=!0;let e=this.getPaginatedObjects();return e.then(e=>(this.loading=!1,e)).catch(e=>{20!==e.code&&(this.loading=!1,console.error(e))}),e},appendRelations(){this.$emit("append-relations",this.pendingRelations),this.isVisible=!1},handleKeyboard(e){this.isVisible&&(e.stopImmediatePropagation(),e.preventDefault(),this.hideRelationshipModal())},hideRelationshipModal(){this.pendingRelations=this.addedRelations,this.isVisible=!1},hasElementsToShow(){return this.objects.filter(e=>!this.hideRelations.filter(t=>e.id===t.id).length).length},relationFormatterHelper(e,t){let s="";try{s=JSON.stringify(e)}catch(e){console.error(e)}return s},containsId:(e,t)=>e.filter(e=>e.id===t).length}},b={extends:f,data:()=>({method:"resourcesJson",removedRelations:[]}),props:{relatedObjects:{type:Array,default:()=>[]}},mounted(){this.loadObjects()},computed:{checkedRelations:{get:function(){return this.relatedObjects.concat(this.pendingRelations).filter(e=>!this.containsId(this.removedRelations,e.id))},set:function(e){let t=e.filter(e=>!this.containsId(this.relatedObjects,e.id));this.pendingRelations=t;let s=this.relatedObjects.filter(t=>!this.containsId(e,t.id));this.removedRelations=s,this.$emit("remove-relations",s)}}}},y={name:"InputDynamicAttributes",props:{value:{type:[String,Boolean]},attrs:{type:Object,required:!0}},render(e){const t=this.attrs,s=Object.keys(t).filter(e=>e.startsWith("v-")).map(e=>{return{name:e.split("v-").pop()}});let i={value:this.value},a={input:e=>{this.$emit("update:value",e.target.value)}};return"checkbox"===t.type&&(i={checked:"true"===this.value},a={input:e=>{this.$emit("update:value",e.target.checked)}}),delete t.time,e("input",{directives:s,attrs:t,domProps:i,on:a})}},v=i(7),j={components:{InputDynamicAttributes:y},props:{objectsLabel:{type:String,default:"Objects"},placeholder:{type:String,default:"Search"},showFilterButtons:{type:Boolean,default:!0},initFilter:{type:Object,default:()=>({q:"",filter:{type:""}})},relationTypes:{type:Object},selectedTypes:{type:Array,deafut:()=>[]},filterList:{type:Array,default:()=>[]},pagination:{type:Object,default:()=>h},configPaginateSizes:{type:String,default:"[10]"}},data(){return{queryFilter:{},timer:null,pageSize:this.pagination.page_size,dynamicFilters:{},statusFilter:{}}},created(){let e=this.formatFilters();this.queryFilter=v.a.all([p,this.queryFilter,e,this.initFilter]),this.dynamicFilters=this.filterList.filter(e=>"status"!=e.name||(this.statusFilter=e,!1))},computed:{paginateSizes(){return JSON.parse(this.configPaginateSizes)},rightTypes(){return this.relationTypes&&this.relationTypes.right||[]},isFullPaginationLayout(){return this.pagination.page_count>1&&this.pagination.page_count<=7}},watch:{initFilter(e){this.queryFilter=Object(v.a)(this.queryFilter,e)},pageSize(e){this.$emit("filter-update-page-size",this.pageSize)},selectedTypes(e){this.queryFilter.filter.type=e}},methods:{onQueryStringChange(){let e=this.queryFilter.q||"";clearTimeout(this.timer),(e.length>=3||0==e.length)&&(this.timer=setTimeout(()=>{this.$emit("filter-objects",this.queryFilter)},300))},onOtherFiltersChange(){this.$emit("filter-objects",this.queryFilter)},formatFilters(){let e={};return this.filterList.forEach(t=>e[t.name]=t.date?{}:""),{filter:e}},applyFilter(){this.$emit("filter-objects-submit",this.queryFilter)},resetFilter(){this.$emit("filter-reset")},onChangePage(e){this.$emit("filter-update-current-page",e)}}},w={name:"tree-list",template:'\n        <div\n            class="tree-list-node"\n            :class="treeListMode">\n\n            <div v-if="!isRoot">\n                <div v-if="multipleChoice"\n                    class="node-element"\n                    :class="{\n                        \'tree-related-object\': isRelated,\n                        \'disabled\': isCurrentObjectInPath,\n                        \'node-folder\': isFolder,\n                    }">\n\n                    <span\n                        @click.prevent.stop="toggle"\n                        class="icon"\n                        :class="nodeIcon"\n                        ></span>\n                    <input\n                        type="checkbox"\n                        :value="item"\n                        v-model="related"\n                    />\n                    <label\n                        @click.prevent.stop="toggle"\n                        :class="isFolder ? \'is-folder\' : \'\'"><: caption :></label>\n                </div>\n                <div v-else class="node-element"\n                    :class="{\n                        \'tree-related-object\': isRelated || stageRelated,\n                        \'was-related-object\': isRelated && !stageRelated,\n                        \'disabled\': isCurrentObjectInPath\n                    }"\n\n                    @click.prevent.stop="select">\n                    <span\n                        @click.prevent.stop="toggle"\n                        class="icon"\n                        :class="nodeIcon"\n                        ></span>\n                    <label><: caption :></label>\n                </div>\n            </div>\n            <div :class="isRoot ? \'\' : \'node-children\'" v-show="open" v-if="isFolder">\n                <tree-list\n                    @add-relation="addRelation"\n                    @remove-relation="removeRelation"\n                    @remove-all-relations="removeAllRelations"\n                    v-for="(child, index) in item.children"\n                    :key="index"\n                    :item="child"\n                    :multiple-choice="multipleChoice"\n                    :related-objects="relatedObjects"\n                    :object-id=objectId>\n                </tree-list>\n            </div>\n        </div>\n    ',data:()=>({stageRelated:!1,related:!1,open:!0}),props:{multipleChoice:{type:Boolean,default:!0},captionField:{type:String,required:!1,default:"name"},childrenField:{type:String,required:!1,default:"children"},item:{type:Object,required:!0,default:()=>{}},relatedObjects:{type:Array,default:()=>[]},objectId:{type:String,required:!1}},computed:{caption(){return this.item[this.captionField]},isFolder(){return this.item.children&&!!this.item.children.length},isRoot(){return this.item.root||!1},isRelated(){return!!this.item.id&&!!this.relatedObjects.filter(e=>e.id===this.item.id).length},isCurrentObjectInPath(){return this.item&&this.item.object&&-1!==this.item.object.meta.path.indexOf(this.objectId)},nodeIcon(){let e="";return e+=this.isFolder?this.open?"icon-down-dir":"icon-right-dir":"unicode-branch"},treeListMode(){let e=[];return this.isRoot&&e.push("root-node"),this.multipleChoice?e.push("tree-list-multiple-choice"):e.push("tree-list-single-choice"),this.isCurrentObject&&e.push("disabled"),e.join(" ")}},watch:{related(e){this.stageRelated=e},stageRelated(e){this.item.object&&(e?this.$emit("add-relation",this.item.object):this.$emit("remove-relation",this.item.object))},relatedObjects(){this.related=this.isRelated}},methods:{toggle(){this.isFolder&&(this.open=!this.open)},addRelation(e){this.$emit("add-relation",e)},removeRelation(e){this.$emit("remove-relation",e)},removeAllRelations(){this.$emit("remove-all-relations")},select(){this.isCurrentObjectInPath||(this.$emit("remove-all-relations"),this.stageRelated=!this.stageRelated)}}},P=i(4),O={extends:f,components:{TreeList:w},props:{relatedObjects:{type:Array,default:()=>[]},loadOnStart:[Boolean,Number],multipleChoice:{type:Boolean,default:!0}},data:()=>({jsonTree:{}}),created(){this.loadTree()},watch:{pendingRelations(e){let t=e.filter(e=>!this.isRelated(e.id));this.multipleChoice||t.length&&(t=t[0]);const s=!!t.length;this.$el.dispatchEvent(new CustomEvent("change",{bubbles:!0,detail:{id:this.$vnode.tag,isChanged:s}})),this.relationsData=this.relationFormatterHelper(t);let i=this.relatedObjects.filter(e=>!this.isPending(e.id));this.$emit("remove-relations",i)},objects(){this.pendingRelations=this.objects.filter(e=>this.isRelated(e.id))}},methods:{async loadTree(){if(this.loadOnStart){var e="number"==typeof this.loadOnStart?this.loadOnStart:0;await Object(P.a)(e),await this.loadObjects(),this.jsonTree={name:"Root",root:!0,object:{},children:this.createTree()}}},addRelation(e){e&&void 0!==!e.id?this.containsId(this.pendingRelations,e.id)||this.pendingRelations.push(e):console.error("[addRelation] needs first param (related) as {object} with property id set")},removeRelation(e){e&&e.id?this.pendingRelations=this.pendingRelations.filter(t=>t.id!==e.id):console.error("[removeRelation] needs first param (related) as {object} with property id set")},removeAllRelations(){this.pendingRelations=[],this._setChildrenData(this,"stageRelated",!1)},_setChildrenData(e,t,s){void 0!==e&&t in e&&(e[t]=s),e.$children.forEach(e=>{this._setChildrenData(e,t,s)})},createTree(){let e=[];return this.objects.forEach(t=>{let s=t.meta.path&&t.meta.path.split("/");if(s.length){s.shift();let i=e;s.forEach(e=>{let s=this.findPath(i,e);if(s)i=s.children;else{let s=t;s.id!==e&&(s=this.findObjectById(e));let a={id:e,related:this.isRelated(e),name:s.attributes.title||"",object:s,children:[]};i.push(a),i=a.children}})}}),e},findPath(e,t){let s=e.filter(e=>e.id===t);return!!s.length&&s[0]},isRelated(e){return!!this.relatedObjects.filter(t=>e===t.id).length},isPending(e){return!!this.pendingRelations.filter(t=>e===t.id).length}}};const T={data:()=>({relationSchema:null,relationTypes:null,isRelationWithMedia:!1}),mounted(){this.parseRelationData()},methods:{parseRelationData(){return this.relationData?(this.relationSchema=this.getRelationSchema(),this.relationTypes={left:this.relationData.left,right:this.relationData.right},this.isRelationWithMedia=this.checkForMediaTypes(this.relationTypes.right),this.relationData):[]},checkForMediaTypes:e=>e&&e.reduce((e,t)=>e=e||-1!==d.indexOf(t),!1)||!1,relationHasParams(){return null!==this.relationData&&!!this.getRelationSchema()},getRelationSchema(){return null===this.relationSchema&&(this.relationSchema=null!==this.relationData&&this.relationData.attributes.params&&this.relationData.attributes.params.properties),this.relationSchema},getParamHelper:(e,t)=>e.meta.relation.params&&e.meta.relation.params[t]||null}},R=new r.a({methods:{listen(e,t,s){const i=t?`@${t._uid}`:"";this.$on(`${e}${i}`,s)},stop(e,t,s){const i=t?`@${t._uid}`:"";this.$off(`${e}${i}`,s)},sendBack(e,t){this.$emit("panel:send",{action:e,data:t})},send(e,t,s={}){const i=t?`@${t._uid}`:"";this.$emit(`${e}${i}`,s)},requestPanel(e){this.$emit("panel:request",e)},closePanel(){this.$emit("panel:close")}}}),k={template:'\n        <aside class="main-panel" :class="open ? \'on\' : \'\'">\n            <header v-if="!customHeader" class="tab unselectable open">\n                <h2><span v-show="closeButtonVisible"><: t(headerLabel) | humanize :></span> &nbsp;</h2>\n                <a href="#" @click.prevent="close()"><: t(closeButtonLabel) :></a>\n            </header>\n\n            <section class="fieldset main-panel-body">\n                <slot :data="data" :action="action"></slot>\n            </section>\n\n            <footer v-if="!customFooter">\n                <p>\n                    <button v-show="saveButtonVisible" class="has-background-info has-text-white"\n                        @click.prevent="save()"><: t(saveButtonLabel) :></button>\n                </p>\n            </footer>\n        </aside>\n    ',props:{customHeader:{type:Boolean,default:!1},customFooter:{type:Boolean,default:!1},saveButtonVisible:{type:Boolean,default:!0},headerLabel:{type:String,default:()=>Object(o.t)("Panel")},saveButtonLabel:{type:String,default:()=>Object(o.t)("save")},closeButtonLabel:{type:String,default:()=>Object(o.t)("close")},closeButtonVisible:{type:Boolean,default:!0}},data:()=>({open:!1,stack:[]}),computed:{from(){return this.stack.length&&this.stack.slice().pop().from||null},action(){return this.stack.length&&this.stack.slice().pop().action||""},data(){return this.stack.length&&this.stack.slice().pop().data||{}}},watch:{open(e){e?window.document.body.classList.add("panel-is-open"):window.document.body.classList.remove("panel-is-open")}},created(){R.listen("panel:request",null,e=>{let{data:t,from:s}=e;this.open=!0,this.stack.push(e),R.send("panel:requested",null,e)}),R.listen("panel:send",null,e=>{let{action:t,data:s}=e;R.send(t,this.from,s)}),R.listen("panel:save",null,e=>{R.sendBack("panel:saved",this.from,e),this.pop()}),R.listen("panel:open",null,e=>{this.open=!0,R.send("panel:opened",null,e)}),R.listen("panel:hide",null,e=>{this.open=!1,R.send("panel:hidden",null,e)}),R.listen("panel:close",null,()=>{this.open=!1,this.pop()})},methods:{pop(){const e=this.stack,t=e.pop();e.length?this.open=!0:(this.open=!1,R.$emit("panel:closed",t))},save(e){R.$emit("panel:save",e)},close(){R.$emit("panel:close")}}},E={mixins:[{data:()=>({_mutationObserver:null,attrs:[]}),mounted(){this.setMutationObserver(this.attrs)},destroyed(){this._mutationObserver.disconnect()},methods:{setMutationObserver(e){this._mutationObserver=new MutationObserver(this.onAttributeChanges),this._mutationObserver.observe(this.$el,{attributes:!0,attributeFilter:e,subtree:!0,attributeOldValue:!0})},setObservableAttrs(e){this.attrs=e,this._mutationObserver.disconnect(),this.setMutationObserver(this.attrs)},onAttributeChanges(e,t){}}}],props:{acceptedDrop:{type:Array,default:()=>[]}},data:()=>({attrs:["droppable","accepted-drop"],from:{},draggedElement:null,overElement:null,dropElement:null,acceptedDropArray:[],draggableElements:[],dragOverFirst:!0,antiGlitchTimer:null,_dropEnabled:!1}),mounted(){this.initDroppableElements(),this.initDraggableElements()},destroyed(){this.dropElement.removeEventListener("dragover",this.onDragover,!1),this.dropElement.removeEventListener("dragleave",this.onDragleave,!1),this.dropElement.removeEventListener("drop",this.onDrop,!1),this.draggableElements.length&&this.$el.removeEventListener("dragstart",this.onDragstart,!1)},methods:{onAttributeChanges(e,t){for(var s of e)if("attributes"==s.type)if("droppable"===s.attributeName)this.enableDrop(),this.dropElement=s.target;else if("accepted-drop"===s.attributeName){let e=s.target.getAttribute("accepted-drop");e&&(this.acceptedDropArray=e.split(","))}},initDroppableElements(){this.dropElement=this.$el;let e=this.$el.querySelector("[droppable]");if(e){this.enableDrop(),this.dropElement=e;let t=e.getAttribute("accepted-drop");t&&(this.acceptedDrop=t.split(","))}this.dropElement.addEventListener("drop",this.onDrop,!0),this.dropElement.addEventListener("dragover",this.onDragover,!0),this.dropElement.addEventListener("dragleave",this.onDragleave,!0)},initDraggableElements(){let e=this.$el.querySelectorAll("[draggable]");e.length&&(this.draggableElements=e,this.$el.addEventListener("dragstart",this.onDragstart,!0))},setDragdropData(e,t=null){e.dragdrop={dragged:this.draggedElement,over:this.overElement,drop:this.dropElement,data:t}},onDragstart(e){this.draggedElement=e.target,this.setDragdropData(e),this.$emit("dragstart",e)},onDragover(e){if(e.preventDefault(),e.stopPropagation(),this._dropEnabled){if(this.acceptedDrop.length){if(!this.acceptedDrop.reduce((e,t)=>e=e||this.draggedElement.matches(t),!1))return}window.clearTimeout(this.antiGlitchTimer),this.overElement=e.target,this.setDragdropData(e),this.dropElement.classList.add("dragover"),this.dragOverFirst&&(this.dragOverFirst=!1,this.$emit("dragover-once",e)),this.$emit("dragover",e)}},onDragleave(e){e.preventDefault(),e.stopPropagation(),this.overElement=null,this.setDragdropData(e),this.dragOverFirst=!0,this.antiGlitchTimer=window.setTimeout(()=>{this.dropElement.classList.remove("dragover"),this.isOverChild(e)||this.$emit("dragleave")},25)},onDrop(e){if(e.preventDefault(),e.stopPropagation(),!this._dropEnabled)return;this.setDragdropData(e),this.dropElement.classList.remove("dragover"),this.$emit("dragleave");let t=e.target.files||e.dataTransfer.files;t.length?(this.setDragdropData(e,t),this.$emit("drop-files",e)):this.$emit("drop",e)},isOverChild(e){if(!this.dropElement)return!1;let t=this.dropElement.getBoundingClientRect();const s=document.body.clientWidth,i=document.body.clientHeight;return!(e.clientX<=0||e.clientY<=0||e.clientX>s||e.clientY>i)&&(e.clientY>=t.top&&e.clientY<=t.bottom&&e.clientX>=t.left&&e.clientX<=t.right)},disableDrop(){this._dropEnabled=!1},enableDrop(){this._dropEnabled=!0}}};var S=i(8),F=i.n(S),$={mixins:[u,T,E],components:{RelationshipsView:f,RolesListView:b,FilterBoxView:j,TreeView:O},props:{relationName:{type:String,required:!0},relationData:{type:Object,required:!1},loadOnStart:[Boolean,Number],multipleChoice:{type:Boolean,default:!0},configPaginateSizes:{type:String,default:"[]"}},data:()=>({method:"relatedJson",loading:!1,count:0,requesterId:null,removedRelated:[],addedRelations:[],modifiedRelations:[],removedRelationsData:[],addedRelationsData:[],relationsData:[],activeFilter:{}}),computed:{alreadyInView(){let e=this.addedRelations.map(e=>e.id),t=this.objects.map(e=>e.id);return e.concat(t)}},created(){this.endpoint=`${this.method}/${this.relationName}`},async mounted(){R.listen("edit-params:save",this,this.editParamsSave),R.listen("relations-add:save",this,this.appendRelations),R.listen("upload-files:save",this,this.appendRelations),R.listen("panel:closed",null,this.resetPanelRequester),await this.loadOnMounted(),this.relationTypes&&this.relationTypes.right&&this.isRelationWithMedia&&this.$on("drop-files",e=>{let t=e.dragdrop.data;t&&(this.disableDrop(),R.requestPanel({action:"upload-files",from:this,data:{files:t}}))})},beforeDestroy(){R.stop("edit-params:save",this,this.editParamsSave),R.stop("relations-add:save",this,this.appendRelations),R.stop("upload-files:save",this,this.appendRelations),R.stop("panel:closed",null,this.resetPanelRequester)},watch:{loading(e){this.$emit("loading",e)}},methods:{onFilterObjects(e){this.activeFilter=e,this.toPage(1,this.activeFilter)},onUpdatePageSize(e){this.setPageSize(e),this.loadRelatedObjects(this.activeFilter)},onUpdateCurrentPage(e){this.toPage(e,this.activeFilter)},editParamsSave(e){this.updateRelationParams(e),this.closePanel()},isPanelOpen(e=null){return null===e?!!this.requesterId:this.requesterId===e},updateRelationParams(e){const t=e.id,s=this.objects.filter(e=>{if(e.id===t)return e}).pop();this.modifyRelation(s)},appendRelations(e){if(this.addedRelations.length){let t=this.addedRelations.map(e=>e.id);for(let s=0;s<e.length;s++)t.indexOf(e[s].id)<0&&this.addedRelations.push(e[s])}else this.addedRelations=e;this.prepareRelationsToSave(),this.closePanel(),this.enableDrop()},editRelationParams(e){this.requesterId=e.related.id,R.requestPanel({action:"edit-relation-params",from:this,data:e})},resetPanelRequester(){this.requesterId=null},addRelatedObjects(e){this.requesterId=e.object.id,R.requestPanel({action:"relations-add",from:this,data:e})},closePanel(){R.closePanel()},async loadOnMounted(){if(this.loadOnStart){const e="number"==typeof this.loadOnStart?this.loadOnStart:0;await Object(P.a)(e),await this.loadRelatedObjects()}return Promise.resolve()},async loadRelatedObjects(e={},t=!1){return this.loading=!0,this.getPaginatedObjects(!0,e).then(e=>(this.$emit("count",this.pagination.count),this.loading=!1,e)).catch(e=>{20!==e.code&&(this.loading=!1,console.error(e),s)})},reloadObjects(){return this.activeFilter={},this.loadRelatedObjects({},!0)},relationToggle(e){e&&e.id?this.containsId(this.removedRelated,e.id)?this.restoreRemovedRelation(e):this.removeRelation(e):console.error("[relationToggle] needs first param (related) as {object} with property id set")},removeRelation(e){this.removedRelated.push(e),this.prepareRelationsToRemove(this.removedRelated),this.containsId(this.modifiedRelations,e.id)&&this.prepareRelationsToSave()},restoreRemovedRelation(e){let t=this.removedRelated.findIndex(t=>t.id!==e.id);this.removedRelated.splice(t,1),this.prepareRelationsToRemove(this.removedRelated),this.containsId(this.modifiedRelations,e.id)&&this.prepareRelationsToSave()},prepareRelationsToRemove(e){this.removedRelationsData=JSON.stringify(this.formatObjects(e));const t=!!e.length;this.$el.dispatchEvent(new CustomEvent("change",{bubbles:!0,detail:{id:this.$vnode.tag,isChanged:t}}))},setRemovedRelated(e){e&&(this.removedRelated=e,this.prepareRelationsToRemove(this.removedRelated))},removeAddedRelations(e){e?(this.addedRelations=this.addedRelations.filter(t=>t.id!==e),this.prepareRelationsToSave()):console.error("[removeAddedRelations] needs first param (id) as {Number|String}")},modifyRelation(e){this.containsId(this.modifiedRelations,e.id)?this.modifiedRelations=this.modifiedRelations.map(t=>t.id===e.id?e:t):this.modifiedRelations.push(e),this.prepareRelationsToSave()},removeModifiedRelations(e){e?(this.modifiedRelations=this.modifiedRelations.filter(t=>t.id!==e),this.prepareRelationsToSave()):console.error("[removeModifiedRelations] needs first param (id) as {Number|String}")},prepareRelationsToSave(){let e=this.addedRelations.concat(this.modifiedRelations).filter(e=>!this.containsId(this.removedRelated,e.id));this.addedRelationsData=JSON.stringify(this.formatObjects(e));const t=!!e.length;this.$el.dispatchEvent(new CustomEvent("change",{bubbles:!0,detail:{id:this.$vnode.tag,isChanged:t}}))},formatParam(e,t){const s=this.getRelationSchema();return void 0!==s&&"date-time"===s[e].format?F.a.formatDate(new Date(t),"Y-m-d h:i K"):t},toPage(e,t){this.loading=!0,u.methods.toPage.call(this,e,t).then(e=>(this.loading=!1,e)).catch(e=>{20!==e.code&&(this.loading=!1,console.error(e))})},containsId:(e,t)=>e.filter(e=>e.id===t).length,buildViewUrl:(e,t)=>`${window.location.protocol}//${window.location.host}/${e}/view/${t}`}},I={components:{PropertyView:{components:{RelationView:$,ResourceRelationView:{mixins:[u],props:{relationName:{type:String,required:!0},loadOnStart:[Boolean,Number]},data:()=>({method:"relatedJson",loading:!1,count:0}),created(){this.endpoint=`${this.method}/${this.relationName}`},async mounted(){await this.loadOnMounted()},watch:{loading(e){this.$emit("loading",e)}},methods:{async loadOnMounted(){if(this.loadOnStart){const e="number"==typeof this.loadOnStart?this.loadOnStart:0;await Object(P.a)(e),await this.loadRelatedObjects()}return Promise.resolve()},async loadRelatedObjects(e={},t=!1){return this.loading=!0,this.getPaginatedObjects(!0,e).then(e=>(this.$emit("count",this.pagination.count),this.loading=!1,e)).catch(e=>{20!==e.code&&(this.loading=!1,console.error(e))})}}},ChildrenView:{extends:$,data:()=>({positions:{}}),methods:{updatePosition(e){const t=e.meta.relation.position,s=""!==this.positions[e.id]?this.positions[e.id]:void 0;if(s!==t)try{const t=JSON.parse(JSON.stringify(e));t.meta.relation.position=s,this.modifyRelation(t)}catch(e){console.error("[ChildrenView -> updatePosition] something's wrong with the data")}else this.removeModifiedRelations(e.id)}}}},props:{tabOpen:{type:Boolean,default:!1},tabOpenAtStart:{type:Boolean,default:!1},isDefaultOpen:{type:Boolean,default:!1}},data(){return{isOpen:this.isDefaultOpen,isLoading:!1,totalObjects:0}},mounted(){this.isOpen=this.tabOpenAtStart},watch:{tabOpen(){this.isOpen=this.tabOpen}},methods:{toggleVisibility(){this.isOpen=!this.isOpen},onToggleLoading(e){this.isLoading=e},onCount(e,t=!1){(0===this.totalObjects||t)&&(this.totalObjects=e)}}}},data:()=>({tabsOpen:!0}),mounted(){window.addEventListener("keydown",this.toggleTabs)},methods:{toggleTabs(e){if(27===(e.which||e.keyCode||0))return this.tabsOpen=!this.tabsOpen}}},A={extends:g,methods:{restoreItem(){this.selectedRows.length<1||document.getElementById("form-restore").submit()},deleteItem(){this.selectedRows.length<1||confirm("Confirm deletion of "+this.selectedRows.length+" item from the trash")&&document.getElementById("form-delete").submit()}}},C={extends:I},D={props:{jobs:{type:Array,default:()=>[]},timeout:{type:Number,default:5e3}},data:()=>({fileName:"",currentJobs:()=>[],showPayloadId:null}),created(){this.currentJobs=this.jobs},mounted(){setInterval(()=>{this.updateJobs()},this.timeout)},methods:{onFileChanged(e){this.fileName=e.target.files[0].name},updateJobs(){let e=`${BEDITA.base}/import/jobs`;return fetch(e,{credentials:"same-origin",headers:{accept:"application/json"}}).then(e=>e.json()).then(e=>{if(e.jobs)return this.currentJobs=e.jobs,this.currentJobs}).catch(e=>{console.error(e)})},togglePayload(e){this.showPayloadId!=e?this.showPayloadId=e:this.showPayloadId=null}}},x=i(11),N=i.n(x),U={extends:g,components:{AutosizeTextarea:{props:["value","reset-value"],template:'<textarea @input="handleChange" :value="text"></textarea>',data:()=>({text:"",originalValue:""}),watch:{text(){this.$nextTick(()=>{N()(this.$el)})},value(){this.originalValue=this.value}},mounted(){this.originalValue=this.value,this.text=this.value,this.$nextTick(()=>{N()(this.$el)})},methods:{handleChange(e){this.text=event.target.value,this.$emit("input",this.text)}}}},props:{resources:{},csrfToken:{type:String,required:!0}},data:()=>({propertyTypes:[],deletedPropertyTypes:[],savedPropertyTypes:[],newPropertyTypes:[],removePropertyTypes:[],editPropertyTypes:[]}),mounted(){this.propertyTypes=JSON.parse(this.resources)},computed:{formIsModified(){const e=!!(this.newPropertyTypes.length||this.removePropertyTypes.length||this.editPropertyTypes.length);return this.$el&&this.$el.dispatchEvent(new CustomEvent("change",{bubbles:!0,detail:{id:this.$vnode.tag,isChanged:e}})),e}},methods:{editPropParams(e,t){let s=null;try{""!==t&&(s=JSON.parse(t),Object.keys(s).length||(s=null))}catch(e){return void console.info("[editPropParams] params JSON parse failed - skipping this one...")}const i={id:e,attributes:{params:s}};this.editPropertyType(i)},editPropName(e,t){const s={id:e,attributes:{name:t}};this.editPropertyType(s)},addRow(){this.newPropertyTypes.push({name:"",params:""})},removeRow(e){const t=this.newPropertyTypes.indexOf(e);-1!==t&&this.newPropertyTypes.splice(t,1)},removePropertyType(e){this.removePropertyTypes.push(e)},undoRemovePropertyType(e){const t=this.removePropertyTypes.indexOf(e);-1!==t&&this.removePropertyTypes.splice(t,1)},save(e){if(this.removePropertyTypes.length&&!confirm(`Do you really want to trash these property types? ${this.removePropertyTypes.join(", ")}`))return void e.preventDefault();let t=window.location.href.replace(window.location.search,""),s=new Headers({"Content-Type":"application/json",Accept:"application/json","X-CSRF-Token":this.csrfToken}),i={_csrfToken:this.csrfToken,addPropertyTypes:[...this.newPropertyTypes],removePropertyTypes:[...this.removePropertyTypes],editPropertyTypes:[...this.editPropertyTypes]};const a={method:"POST",credentials:"same-origin",headers:s,body:JSON.stringify(i)},r=`${t}/savePropertyTypesJson`;fetch(r,a).then(e=>e.json()).then(e=>{const t=e.saved||[],s=e.removed||[],i=e.edited||[];this.savedPropertyTypes.push(...t),this.deletedPropertyTypes.push(...s),i.forEach(e=>{this.propertyTypes=this.propertyTypes.map(t=>t.id===e.id?e:t),this.savedPropertyTypes=this.savedPropertyTypes.map(t=>t.id===e.id?e:t)}),this.$children.forEach(e=>{try{JSON.parse(e.text)}catch(t){e.text=e.originalValue}}),this.newPropertyTypes=[],this.removePropertyTypes=[],this.editPropertyTypes=[]}).catch(e=>{console.log(e)})},editPropertyType(e){let t=[...this.propertyTypes,...this.savedPropertyTypes];const[s]=t.filter(t=>t.id==e.id);this.editPropertyTypes.filter(t=>t.id===e.id).length?this.editPropertyTypes=this.editPropertyTypes.map(t=>t.id===e.id?{id:e.id,attributes:{...t.attributes,...e.attributes}}:t):this.editPropertyTypes.push(e),this.editPropertyTypes=this.editPropertyTypes.filter(e=>{return!(Object.keys(e.attributes).filter(t=>JSON.stringify(e.attributes[t])===JSON.stringify(s.attributes[t])).length===Object.keys(e.attributes).length)})},formatParams(e){let t="";if(e&&e.attributes&&e.attributes.params)try{t=JSON.stringify(e.attributes.params,null,4)}catch(e){t=e.message}return t},containsId:(e,t)=>e.filter(e=>"object"==typeof e&&"id"in e?e.id===t:e===t).length}},z={props:{types:{type:Array,default:[]}},data:()=>({selectedTypes:()=>[]}),mounted(){let e=new URLSearchParams(window.location.search).entries(),t=[];for(let a of e){var s=a[0],i=a[1];s.startsWith("filter[type]")&&t.push(i)}this.selectedTypes=t},computed:{},watch:{selectedTypes(e){this.$emit("updatequerytypes",e)}},methods:{togglaAll(){this.selectedTypes.length&&(this.selectedTypes=[])}}},B={mixins:[u],inject:["getCSFRToken"],components:{FilterBoxView:j},props:{relationName:{type:String,default:""},alreadyInView:{type:Array,default:()=>[]},relationTypes:{type:Object},configPaginateSizes:{type:String,default:"[]"}},data:()=>({method:"relationshipsJson",endpoint:"",loading:!1,selectedObjects:[],activeFilter:{},saving:!1,showCreateObjectForm:!1,file:null,objectType:"",titlePlaceholder:"title"}),computed:{knownTypes:()=>["audio","video","image"],isMedia(){return this.relationTypes&&-1!==this.relationTypes.right.indexOf("media")}},watch:{relationName:{immediate:!0,handler(e,t){e&&(this.selectedObjects=[],this.endpoint=`${this.method}/${e}`,this.loadObjects()),""===e&&Object(P.a)(500).then(()=>this.objects=[])}},loading(e){this.$emit("loading",e)}},methods:{onFilterObjects(e){this.activeFilter=e,this.toPage(1,this.activeFilter)},onUpdatePageSize(e){this.setPageSize(e),this.loadObjects(this.activeFilter)},onUpdateCurrentPage(e){this.toPage(e,this.activeFilter)},addRelationsToObject(){R.sendBack("relations-add:save",this.selectedObjects)},closePanel(){R.closePanel()},async createObject({target:e}){if(!e)return;this.saving=!0,this.loading=!0;const t=new FormData(e);""===t.get("title")&&t.set("title",this.titlePlaceholder),t.append("model-type",this.objectType);const s=`${window.location.origin}/${this.objectType}/saveJson`,i={method:"POST",credentials:"same-origin",headers:{accept:"application/json","X-CSRF-Token":this.getCSFRToken()},body:t};try{const t=await fetch(s,i),a=await t.json();let r=(Array.isArray(a.data)?a.data:[a.data])||[];this.objects=r.concat(this.objects),this.selectedObjects=r.concat(this.selectedObjects),this.resetForm(e)}catch(t){if(20===t.code)throw t;alert("Error while uploading/creating new object. Retry"),console.error(t),this.resetForm(e,!0)}finally{this.saving=!1,this.loading=!1}},resetForm(e,t=!1){e.reset(),this.titlePlaceholder="title",this.showCreateObjectForm=t},processFile({target:e}){return this.file=e.files[0],!!this.file&&(this.objectType=this.getObjectType(this.file),this.titlePlaceholder=this.file&&this.file.name,!0)},getObjectType(e){let t=e.type&&e.type.split("/")[0];const s=/audio/g.test(t)?"":"s";return-1===this.knownTypes.indexOf(t)&&(t="file"),`${t}${s}`},paginationPageLinkVisible(e){return this.pagination.page_count<=7||(1===e||e===this.pagination.page_count||e>=this.pagination.page-1&&e<=this.pagination.page+1)},toggle(e,t){let s=this.selectedObjects.indexOf(e);-1!=s?this.selectedObjects.splice(s,1):this.selectedObjects.push(e)},async loadObjects(e){this.objects=[],this.loading=!0;let t=await this.getPaginatedObjects(!0,e);return this.loading=!1,this.$emit("count",this.pagination.count),t},async toPage(e,t){this.objects=[],this.loading=!0;let s=await u.methods.toPage.call(this,e,t);return this.loading=!1,s},buildViewUrl:(e,t)=>`${window.location.protocol}/${window.location.host}/${e}/view/${t}`}},q={template:'<div v-if="relationName" class="edit-relation">\n        <section>\n            <header class="tab unselectable">\n                <h2><span><: t(\'Edit parameters of\') :>: <: relationName | humanize :></span> &nbsp;</h2>\n                <a href="#" @click.prevent="closeParamsView()"><: t(\'close\') :></a>\n            </header>\n\n            <div class="object-attributes">\n                <h2><: t(\'Object\') :>: <: object.attributes.title :></h2>\n                <div>\n                    <span class="tag" :class="objectColorClass"><: object.type :></span>\n                    <span class="tag"><: object.attributes.status :></span>\n                </div>\n\n                <h2><: t(\'Related to\') :>: <: relatedName :></h2>\n                <div>\n                    <span class="tag" :class="relatedColorClass"><: related.type :></span>\n                    <span class="tag"><: relatedStatus :></span>\n                </div>\n            </div>\n\n            <form ref="paramsForm" class="params-list" @change="checkParams()" @keyup="checkParams()">\n                <div>\n                    <label><: t(\'Priority\') :></label>\n                    <input type="number" step="1" v-model.number="priority" />\n                </div>\n\n                <div v-for="(param, key) in schema">\n                    <label :title="key"><: param.description || key :>\n\n                        \x3c!-- Boolean -> switch button true/false ---\x3e\n                        <div v-if="param.type == \'boolean\'">\n                            <label class="switch">\n                                <input type="checkbox" v-model="editingParams[key] ">\n                                <span class="slider round"></span>\n                            </label>\n                        </div>\n\n                        <div v-if="param.type == \'string\'">\n                            \x3c!-- String, format: date-time -> datepicker ---\x3e\n                            <input v-if="param.format == \'date-time\'" v-datepicker time="true" v-model="editingParams[key]"></input>\n\n                            \x3c!-- String Enum -> select/option ---\x3e\n                            <div v-else-if="param.enum !== undefined">\n                                <select v-model="editingParams[key]">\n                                    <option v-for="item in param.enum" :value="item"><: item :></option>\n                                </select>\n                            </div>\n                            \x3c!-- String -> input text ---\x3e\n                            <input v-else type="text" v-model="editingParams[key]">\n                        </div>\n\n                        \x3c!-- Number -> input number ---\x3e\n                        <div v-if="param.type == \'number\'">\n                            <label>\n                                <input type="number" :name="key" step="any" v-model.number="editingParams[key]">\n                            </label>\n                        </div>\n\n                        \x3c!-- Integer -> input integer ---\x3e\n                        <div v-if="param.type == \'integer\'">\n                            <label>\n                                <input type="number" :name="key" v-model.number="editingParams[key]">\n                            </label>\n                        </div>\n                    </label>\n                </div>\n            </form>\n\n            <footer>\n                <p>\n                    <button v-show="isModified"\n                        class="has-background-info has-text-white"\n                        @click.prevent="saveParams()"><: t(\'Save \') :></button>\n                </p>\n            </footer>\n        </section>\n    </div>',props:{relationName:{type:String,default:""},object:{type:Object,default:()=>{}},related:{type:Object,default:()=>{}},schema:{type:Object,default:()=>{}}},computed:{relatedStatus(){return this.related.attributes.status},relatedType(){let e="(not available)";return this.related&&(e=this.related.type),e},relatedName(){let e="(empty)";return this.related&&(e=this.related.attributes.title),e},objectColorClass(){return`has-background-module-${this.object.type}`},relatedColorClass(){return`has-background-module-${this.related.type}`}},data:()=>({oldParams:{},editingParams:{},priority:null,isModified:!1}),watch:{related:{handler:function(e){e&&this.setInternalValues()},deep:!0,immediate:!0}},methods:{setInternalValues(){Object.assign(this.oldParams,this.related.meta.relation.params),Object.assign(this.editingParams,this.related.meta.relation.params),this.priority=this.related.meta.relation.priority},saveParams(){Object.keys(this.editingParams).length?this.related.meta.relation.params=this.editingParams:delete this.related.meta.relation.params,this.related.meta.relation.priority=this.priority,R.sendBack("edit-params:save",this.related)},closeParamsView(){R.closePanel()},checkParams(){this.isModified=!!Object.keys(this.editingParams).filter(e=>""!==this.editingParams[e]&&this.editingParams[e]!==this.oldParams[e]).length||this.related.meta.relation.priority!==this.priority}}},L={data:()=>({popUpAction:"",searchString:""}),methods:{togglePopup(e){e==this.popUpAction?this.popUpAction="":(this.popUpAction=e,this.$nextTick(()=>{this.$refs.searchInput.focus()}))},captureKeys(e){switch(e.which||e.keyCode||0){case 13:this.go();break;case 27:this.popUpAction=""}},go(){let e="";"search"==this.popUpAction?e+="/objects?q=":"go"==this.popUpAction&&(e+="/view/"),this.searchString&&e&&(window.location.href=BEDITA.base+e+this.searchString)}}},M={props:{timeout:{type:Number,default:4},isBlocking:{type:Boolean,default:!1},waitPanelAnimation:{type:Number,default:.5}},data:()=>({isVisible:!0,isDumpVisible:!1}),mounted(){this.$nextTick(()=>{this.isBlocking||setTimeout(()=>{this.hide()},1e3*this.timeout)})},methods:{hide(){this.isVisible=!this.isVisible,setTimeout(()=>{this.$refs.flashMessagesContainer.remove()},1e3*this.waitPanelAnimation)}}},V=i(12),_=i.n(V);let J;var Q={mixins:[E,{created(){J=this.createCustomAxios()},computed:{axios:()=>J},methods:{createCustomAxios(){return _.a.create({baseURL:BEDITA.base,timeout:3e4,credentials:"same-origin",headers:{accept:"application/json","content-type":"multipart/form-data","X-CSRF-Token":this.getCSFRToken()},validateStatus:e=>e>=200&&e<300})},getAxios:()=>_.a}}],inject:["getCSFRToken"],template:'\n    <div class="upload-files">\n        <section class="upload-list" droppable>\n            <div class="upload-info"\n                :key="index"\n                v-for="(info, index) in Array.from(uploadProgressInfo.values())">\n\n                <span class="name"><: info.file.name :></span>\n\n                <button v-show="!info.error && !info.cancelled && !info.done"\n                    class="abort icon-cancel"\n                    :class="{\'is-loading-spinner\': info.pending }"\n                    @click="abortUpload(info.file)">\n                </button>\n                <button v-show="!info.error && !info.cancelled && info.done" class="success icon-ok"></button>\n                <button v-show="info.error || info.cancelled" class="retry icon-ccw" @click="tryUpload([info.file])"></button>\n\n                <div class="progress-bar">\n                    <div class="progress-bar-status" :class="progressBarCss(info)" :style="progressBarStep(info)"></div>\n                </div>\n                <div class="error">\n                    <: info.errorMsg :>\n                </div>\n            </div>\n        </section>\n        <footer v-show="actionRequired">\n            <button v-show="showAddSuccesfulUploadsButton" class="has-background-info has-text-white add-uploads-action"\n                @click.prevent="addSuccesfulUploads()"><: t(\'Add Uploaded\') :>\n            </button>\n            <button class="has-background-info has-text-white retry-action"\n                @click.prevent="tryUpload(getFailedUploads())"><: t(\'Retry All\') :>\n            </button>\n            <button class="has-background-info has-text-white"\n                @click.prevent="closePanel()"><: t(\'Close \') :>\n            </button>\n        </footer>\n\n    </div>\n    ',props:{files:{type:FileList,required:!0},acceptedFiles:{type:Array,default:()=>[]},knownTypes:{type:Array,default:()=>["audio","video","image"]}},data:()=>({createdObjects:[],uploadProgressInfo:new Map,axiosCancelTokens:new Map,actionRequired:!1,showAddSuccesfulUploadsButton:!1}),mounted(){this.$on("drop-files",e=>{let t=e.dragdrop.data;t&&this.tryUpload(this.setupProgress(this.filterAcceptedFiles(t)))}),this.tryUpload(this.setupProgress(this.filterAcceptedFiles(this.files)))},destroyed(){this.uploadProgressInfo.clear()},watch:{createdObjects:{handler(e){this.showAddSuccesfulUploadsButton=!!e.length&&!this.isUploadInProgress()},deep:!0,immediate:!0},files:{handler(e){this.tryUpload(this.setupProgress(this.filterAcceptedFiles(e)))},deep:!0}},methods:{progressBarStep:e=>({width:`${e.progress}%`}),progressBarCss:e=>({done:e.done,error:e.error,pending:e.pending,"in-progress":!e.done&&!e.error&&e.progress,cancelled:e.cancelled}),abortUpload(e){this.axiosCancelTokens.get(e)&&this.axiosCancelTokens.get(e).cancel(Object(o.t)("Operation canceled by the user"))},filterAcceptedFiles(e=[]){return[...e].filter(e=>0===this.acceptedFiles.length||!!this.acceptedFiles.filter(t=>e.type.includes(t)).length)},setupProgress(e){let t=[];for(let s=0;s<e.length;s++){let i=e[s];this.addProgressInfo(i)&&t.push(i)}return t},addSuccesfulUploads(){R.sendBack("upload-files:save",this.createdObjects)},async tryUpload(e){this.actionRequired=!1;try{await this.startFilesUpload(e),this.getFailedUploads().length?this.actionRequired=!0:this.areAllUploadFulfilled()&&setTimeout(()=>R.sendBack("upload-files:save",this.createdObjects),500)}catch(e){this.actionRequired=!0}},addProgressInfo(e){const t=`${e.lastModified}${e.size}`;return!this.uploadProgressInfo.has(t)&&(this.uploadProgressInfo.set(t,{file:e,progress:0,cancelled:!1,pending:!1,done:!1,error:!1,errorMsg:""}),this.$forceUpdate(),!0)},setProgressInfo(e,t=0,s=!1,i=!1,a=!1,r=""){const o=`${e.lastModified}${e.size}`,n=!a&&!s&&!i&&100===t;if(t<0&&this.uploadProgressInfo.has(o)){t=this.uploadProgressInfo.get(o).progress}this.uploadProgressInfo.set(o,{file:e,progress:t,cancelled:s,pending:n,done:a,error:i,errorMsg:r}),this.$forceUpdate()},startFilesUpload(e){let t=[];for(let s=0;s<e.length;s++)t.push(this.createObject(e[s]).then(e=>(e&&this.createdObjects.push(e),Promise.resolve(e))).catch(e=>Promise.reject(e)));return this.getAxios().all(t)},getFailedUploads(){let e=[];return this.uploadProgressInfo.forEach(t=>{(t.error||t.cancelled)&&e.push(t.file)}),e},areAllUploadFulfilled(){return[...this.uploadProgressInfo.values()].reduce((e,t)=>e=e&&t.done,!0)},isUploadInProgress(){return[...this.uploadProgressInfo.values()].reduce((e,t)=>e=e||t.pending||!(t.done||t.cancelled||t.error),!1)},createObject(e){if(!e)return!1;const t=this.createFormData(e),s=`/${this.getObjectType(e)}/saveJson`,i=this.getAxios().CancelToken.source();this.axiosCancelTokens.set(e,i);const a={onUploadProgress:t=>{const s=parseInt(Math.round(100*t.loaded/t.total));this.setProgressInfo(e,s)},onUploadCancelled:()=>this.setProgressInfo(e,-1,!0,!1,!1,"Upload Cancelled"),onUploadError:t=>this.setProgressInfo(e,100,!1,!0,!1,`Error from server: ${t.message?t.message:""}`),onUploadSuccess:()=>this.setProgressInfo(e,100,!1,!1,!0),cancelToken:i.token};return this.uploadFileRequest(s,t,a)},getObjectType(e){let t=e.type&&e.type.split("/")[0];const s=/audio/g.test(t)?"":"s";return-1===this.knownTypes.indexOf(t)&&(t="file"),`${t}${s}`},createFormData(e){const t=this.getObjectType(e),s=new FormData;return s.append("title",e.name),s.append("status","on"),s.append("file",e),s.append("model-type",t),s},uploadFileRequest(e,t,s){return this.axios.post(e,t,s).then(e=>{let t=e.data&&e.data.data;return t?(Array.isArray(t)&&(t=t[0]),s.onUploadSuccess(t),Promise.resolve(t)):Promise.reject(e)}).catch(e=>this.getAxios().isCancel(e)?(s.onUploadCancelled(),Promise.reject(e)):(s.onUploadError(e),Promise.reject(e)))},closePanel(){R.closePanel()}}},W=i(0),Y=i.n(W);i(179);const H={enableTime:!0,altInput:!0,dateFormat:"Z",altFormat:"D/M/Y HH:mm",animate:!1,time_24hr:!0},X={enableTime:!1,altInput:!0,dateFormat:"Z",altFormat:"D/M/Y",animate:!1,time_24hr:!0};var Z={install(e){e.directive("datepicker",{inserted(e,t,s){let i=X;s.data&&s.data.attrs&&"true"===s.data.attrs.time&&(i=H),i.formatDate=((e,t)=>{if("Z"===t)return Y()(e).toISOString();let s=(new Date).getTimezoneOffset()/60,i=`${t} (UTC${s<0?"+":"-"}${Math.abs(s)})`;return Y()(e).format(i)});try{let t=F()(e,i);e.dataset.originalValue=e.value;let s=document.createElement("span");s.classList.add("clear-button"),s.innerHTML="&times;",s.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),t.clear()}),e.parentElement.appendChild(s)}catch(e){console.error(e)}}})}},K=i(144),G=i.n(K);i(180);const ee={mode:"code",modes:["tree","code"],history:!0,search:!0};var te={install(e){e.directive("jsoneditor",{inserted(e){const t=e.value;try{const s=""!==t&&JSON.parse(t)||{};if(s){e.style.display="none";let t=document.createElement("div");t.className="jsoneditor-container",e.parentElement.insertBefore(t,e),e.dataset.originalValue=e.value;let i=Object.assign(ee,{onChange:function(){try{const t=e.jsonEditor.get();e.value=JSON.stringify(t),console.info("valid json :)");let s=e.value!==e.dataset.originalValue;e.dispatchEvent(new CustomEvent("change",{bubbles:!0,detail:{id:e.id,isChanged:s}}))}catch(e){console.warn("still not valid json")}}});e.jsonEditor=new G.a(t,i),e.jsonEditor.set(s)}}catch(e){console.error(e)}}})}},se={install(e){e.directive("richeditor",{inserted(e){const t=e.getAttribute("ckconfig");let s={};m&&(s=m[t]);let i=CKEDITOR.replace(e,s);e.dataset.originalValue=e.value,i.on("change",()=>{e.value=i.getData();let t=e.value!==e.dataset.originalValue;e.dispatchEvent(new CustomEvent("change",{bubbles:!0,detail:{id:e.id,isChanged:t}}))})}})}},ie={install(e,t){e.prototype.$helpers={buildViewUrl:e=>`${BEDITA.base}/view/${e}`,forceDownload(e,t){let s=document.createElement("a");s.download=t,s.href=e,s.click()},downloadResource(e,t){t||(t=e.split("\\").pop().split("/").pop());const s={headers:new Headers({Origin:location.origin}),mode:"cors"};fetch(e,s).then(e=>e.blob()).then(e=>{let s=window.URL.createObjectURL(e);this.forceDownload(s,t)}).catch(e=>console.error(e))}}}};const ae=new r.a({el:"main",components:{ModulesIndex:g,ModulesView:I,TrashIndex:A,TrashView:C,ImportView:D,ModelIndex:U,RelationsAdd:B,FilterBoxView:j,FilterTypeView:z,EditRelationParams:q,PanelView:k,UploadFilesView:Q,MainMenu:L,FlashMessage:M},data:()=>({vueLoaded:!1,urlPagination:"",searchQuery:"",pageSize:"",page:"",sort:"",dataChanged:!1,urlFilterQuery:{q:"",filter:{}},pagination:{page:"",page_size:""},selectedTypes:[]}),provide:()=>({getCSFRToken:(...e)=>BEDITA.csrfToken}),beforeCreate(){r.a.use(te),r.a.use(Z),r.a.use(se),r.a.use(ie),c.a.loadBeditaPlugins()},created(){this.vueLoaded=!0,this.dataChanged=new Map,this.loadUrlParams();let e=document.querySelector("html").classList;R.listen("panel:requested",null,()=>{e.add("is-clipped")}),R.listen("panel:closed",null,()=>{e.remove("is-clipped")})},watch:{pageSize(e){this.pagination.page_size=e}},mounted:function(){this.$nextTick(function(){this.alertBeforePageUnload(BEDITA.template)})},methods:{onFilterObjects(e){this.urlFilterQuery=e,this.page="",this.applyFilters(this.urlFilterQuery)},onUpdatePageSize(e){this.pageSize=e,this.page="",this.applyFilters(this.urlFilterQuery)},onUpdateCurrentPage(e){this.page=e,this.applyFilters(this.urlFilterQuery)},onUpdateQueryTypes(e){this.selectedTypes=e},pageClick(e){},loadUrlParams(){if(window.location.search){const e=window.location.search,t=/[?&]q=([^&#]*)/g;let s=e.match(t);s&&s.length&&(s=s.map(e=>e.replace(t,"$1")),this.urlFilterQuery.q=s[0]);const i=/[?&]filter(\[.*?\])=([^&#]*)/g,a=/\[(.*?)\]/g;let r={};for(;s=i.exec(e);)if(s&&3===s.length){const e=s[1],t=s[2];let i=[],o=[];for(;o=a.exec(e);)i.push(o[1]);const n=i.reverse().reduce((e,t)=>{let s={};return s[t]=e,s},t);r=Object(v.a)(r,n)}this.urlFilterQuery.filter=r;const o=/[?&]page_size=([^&#]*)/g;(s=e.match(o))&&s.length&&(s=s.map(e=>e.replace(o,"$1")),this.pageSize=this.isNumeric(s[0])?s[0]:"");const n=/[?&]page=([^&#]*)/g;(s=e.match(n))&&s.length&&(s=s.map(e=>e.replace(n,"$1")),this.page=this.isNumeric(s[0])?s[0]:"");const l=/[?&]sort=([^&#]*)/g;(s=e.match(l))&&s.length&&(s=s.map(e=>e.replace(l,"$1")),this.sort=s[0])}},buildUrlParams(e){let t=`${window.location.origin}${window.location.pathname}`;const s=Object.keys(e);if(s&&s.length){let i=[];s.forEach(t=>{if(e[t]&&""!==e[t]){const s=e[t];if("filter"===t){Object.keys(s).forEach(e=>{if("object"==typeof s[e]){const t=s[e];Object.keys(t).forEach(s=>{""!==t[s]&&i.push(`filter[${e}][${s}]=${t[s]}`)})}else""!==s[e]&&i.push(`filter[${e}]=${s[e]}`)})}else i.push(`${t}=${s}`)}}),t+=i.length?"?":"",t+=i.join("&")}return t},resetFilters(){this.page="",this.pageSize="";this.applyFilters({filter:{},q:""})},applyFilters(e){let t=this.buildUrlParams({q:e.q,filter:e.filter,page_size:this.pageSize,page:this.page,sort:this.sort});window.location.replace(t)},alertBeforePageUnload(e){this.$el.addEventListener("focusin",e=>{const t=e.target,s=t&&t.form;if(s&&"true"===s.getAttribute("check-changes")&&void 0===t.dataset.originalValue)if("INPUT"===t.nodeName)if("radio"===t.type){const e=t.name,s=document.querySelectorAll(`input[name=${e}]`),i=document.querySelector(`input[name=${e}]:checked`);s.forEach(e=>e.dataset.originalValue=i.value)}else if("checkbox"===t.type){const e=t.name;if(e){const s=document.querySelectorAll(`input[name=${e}]:checked`);t.dataset.originalValue=JSON.stringify(s)}}else t.dataset.originalValue=t.value;else"TEXTAREA"===t.nodeName&&(t.dataset.originalValue=t.value)},!0),this.$el.addEventListener("change",e=>{const t=e.target,s=t&&t.form,i=e.detail;if(void 0!==i&&i.id)this.dataChanged.set(i.id,{changed:i.isChanged});else{if(s&&"true"===s.getAttribute("check-changes")&&t.name){const e=t.name,s=t.form.getAttribute("id"),i=t.id,a=t.dataset.originalValue;let r=t.value,o=`${s}#${i}`;if("radio"===t.type||"checkbox"===t.type){if("checkbox"===t.type){const t=document.querySelectorAll(`input[name=${e}]:checked`);r=JSON.stringify(t)}o=`${s}#${e}`}if(!o||""===o)return!0;this.dataChanged.set(o,{changed:r!==a})}}}),this.$el.addEventListener("submit",e=>{const t=e.target;if(t){let s="";if(t.action.endsWith("/trash/delete")?s=o["t"]`If you confirm, this data will be gone forever`:t.action.endsWith("/delete")&&(s=o["t"]`Do you really want to trash the object?`),ae.dataChanged.clear(),s&&!confirm(s))return void e.preventDefault()}}),window.onbeforeunload=function(e){let t=!1;for(const[e,s]of ae.dataChanged)if(s.changed){t=!0;break}if(t)return"There are unsaved changes, are you sure you want to leave page?"}},isNumeric:e=>!isNaN(e)}});window._vueInstance=ae}},[[145,2,1]]]);