(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["app"],{

/***/ "./node_modules/moment/locale sync recursive ^\\.\\/.*$":
/*!**************************************************!*\
  !*** ./node_modules/moment/locale sync ^\.\/.*$ ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./af": "./node_modules/moment/locale/af.js",
	"./af.js": "./node_modules/moment/locale/af.js",
	"./ar": "./node_modules/moment/locale/ar.js",
	"./ar-dz": "./node_modules/moment/locale/ar-dz.js",
	"./ar-dz.js": "./node_modules/moment/locale/ar-dz.js",
	"./ar-kw": "./node_modules/moment/locale/ar-kw.js",
	"./ar-kw.js": "./node_modules/moment/locale/ar-kw.js",
	"./ar-ly": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ly.js": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ma": "./node_modules/moment/locale/ar-ma.js",
	"./ar-ma.js": "./node_modules/moment/locale/ar-ma.js",
	"./ar-sa": "./node_modules/moment/locale/ar-sa.js",
	"./ar-sa.js": "./node_modules/moment/locale/ar-sa.js",
	"./ar-tn": "./node_modules/moment/locale/ar-tn.js",
	"./ar-tn.js": "./node_modules/moment/locale/ar-tn.js",
	"./ar.js": "./node_modules/moment/locale/ar.js",
	"./az": "./node_modules/moment/locale/az.js",
	"./az.js": "./node_modules/moment/locale/az.js",
	"./be": "./node_modules/moment/locale/be.js",
	"./be.js": "./node_modules/moment/locale/be.js",
	"./bg": "./node_modules/moment/locale/bg.js",
	"./bg.js": "./node_modules/moment/locale/bg.js",
	"./bm": "./node_modules/moment/locale/bm.js",
	"./bm.js": "./node_modules/moment/locale/bm.js",
	"./bn": "./node_modules/moment/locale/bn.js",
	"./bn.js": "./node_modules/moment/locale/bn.js",
	"./bo": "./node_modules/moment/locale/bo.js",
	"./bo.js": "./node_modules/moment/locale/bo.js",
	"./br": "./node_modules/moment/locale/br.js",
	"./br.js": "./node_modules/moment/locale/br.js",
	"./bs": "./node_modules/moment/locale/bs.js",
	"./bs.js": "./node_modules/moment/locale/bs.js",
	"./ca": "./node_modules/moment/locale/ca.js",
	"./ca.js": "./node_modules/moment/locale/ca.js",
	"./cs": "./node_modules/moment/locale/cs.js",
	"./cs.js": "./node_modules/moment/locale/cs.js",
	"./cv": "./node_modules/moment/locale/cv.js",
	"./cv.js": "./node_modules/moment/locale/cv.js",
	"./cy": "./node_modules/moment/locale/cy.js",
	"./cy.js": "./node_modules/moment/locale/cy.js",
	"./da": "./node_modules/moment/locale/da.js",
	"./da.js": "./node_modules/moment/locale/da.js",
	"./de": "./node_modules/moment/locale/de.js",
	"./de-at": "./node_modules/moment/locale/de-at.js",
	"./de-at.js": "./node_modules/moment/locale/de-at.js",
	"./de-ch": "./node_modules/moment/locale/de-ch.js",
	"./de-ch.js": "./node_modules/moment/locale/de-ch.js",
	"./de.js": "./node_modules/moment/locale/de.js",
	"./dv": "./node_modules/moment/locale/dv.js",
	"./dv.js": "./node_modules/moment/locale/dv.js",
	"./el": "./node_modules/moment/locale/el.js",
	"./el.js": "./node_modules/moment/locale/el.js",
	"./en-au": "./node_modules/moment/locale/en-au.js",
	"./en-au.js": "./node_modules/moment/locale/en-au.js",
	"./en-ca": "./node_modules/moment/locale/en-ca.js",
	"./en-ca.js": "./node_modules/moment/locale/en-ca.js",
	"./en-gb": "./node_modules/moment/locale/en-gb.js",
	"./en-gb.js": "./node_modules/moment/locale/en-gb.js",
	"./en-ie": "./node_modules/moment/locale/en-ie.js",
	"./en-ie.js": "./node_modules/moment/locale/en-ie.js",
	"./en-il": "./node_modules/moment/locale/en-il.js",
	"./en-il.js": "./node_modules/moment/locale/en-il.js",
	"./en-nz": "./node_modules/moment/locale/en-nz.js",
	"./en-nz.js": "./node_modules/moment/locale/en-nz.js",
	"./eo": "./node_modules/moment/locale/eo.js",
	"./eo.js": "./node_modules/moment/locale/eo.js",
	"./es": "./node_modules/moment/locale/es.js",
	"./es-do": "./node_modules/moment/locale/es-do.js",
	"./es-do.js": "./node_modules/moment/locale/es-do.js",
	"./es-us": "./node_modules/moment/locale/es-us.js",
	"./es-us.js": "./node_modules/moment/locale/es-us.js",
	"./es.js": "./node_modules/moment/locale/es.js",
	"./et": "./node_modules/moment/locale/et.js",
	"./et.js": "./node_modules/moment/locale/et.js",
	"./eu": "./node_modules/moment/locale/eu.js",
	"./eu.js": "./node_modules/moment/locale/eu.js",
	"./fa": "./node_modules/moment/locale/fa.js",
	"./fa.js": "./node_modules/moment/locale/fa.js",
	"./fi": "./node_modules/moment/locale/fi.js",
	"./fi.js": "./node_modules/moment/locale/fi.js",
	"./fo": "./node_modules/moment/locale/fo.js",
	"./fo.js": "./node_modules/moment/locale/fo.js",
	"./fr": "./node_modules/moment/locale/fr.js",
	"./fr-ca": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ca.js": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ch": "./node_modules/moment/locale/fr-ch.js",
	"./fr-ch.js": "./node_modules/moment/locale/fr-ch.js",
	"./fr.js": "./node_modules/moment/locale/fr.js",
	"./fy": "./node_modules/moment/locale/fy.js",
	"./fy.js": "./node_modules/moment/locale/fy.js",
	"./gd": "./node_modules/moment/locale/gd.js",
	"./gd.js": "./node_modules/moment/locale/gd.js",
	"./gl": "./node_modules/moment/locale/gl.js",
	"./gl.js": "./node_modules/moment/locale/gl.js",
	"./gom-latn": "./node_modules/moment/locale/gom-latn.js",
	"./gom-latn.js": "./node_modules/moment/locale/gom-latn.js",
	"./gu": "./node_modules/moment/locale/gu.js",
	"./gu.js": "./node_modules/moment/locale/gu.js",
	"./he": "./node_modules/moment/locale/he.js",
	"./he.js": "./node_modules/moment/locale/he.js",
	"./hi": "./node_modules/moment/locale/hi.js",
	"./hi.js": "./node_modules/moment/locale/hi.js",
	"./hr": "./node_modules/moment/locale/hr.js",
	"./hr.js": "./node_modules/moment/locale/hr.js",
	"./hu": "./node_modules/moment/locale/hu.js",
	"./hu.js": "./node_modules/moment/locale/hu.js",
	"./hy-am": "./node_modules/moment/locale/hy-am.js",
	"./hy-am.js": "./node_modules/moment/locale/hy-am.js",
	"./id": "./node_modules/moment/locale/id.js",
	"./id.js": "./node_modules/moment/locale/id.js",
	"./is": "./node_modules/moment/locale/is.js",
	"./is.js": "./node_modules/moment/locale/is.js",
	"./it": "./node_modules/moment/locale/it.js",
	"./it.js": "./node_modules/moment/locale/it.js",
	"./ja": "./node_modules/moment/locale/ja.js",
	"./ja.js": "./node_modules/moment/locale/ja.js",
	"./jv": "./node_modules/moment/locale/jv.js",
	"./jv.js": "./node_modules/moment/locale/jv.js",
	"./ka": "./node_modules/moment/locale/ka.js",
	"./ka.js": "./node_modules/moment/locale/ka.js",
	"./kk": "./node_modules/moment/locale/kk.js",
	"./kk.js": "./node_modules/moment/locale/kk.js",
	"./km": "./node_modules/moment/locale/km.js",
	"./km.js": "./node_modules/moment/locale/km.js",
	"./kn": "./node_modules/moment/locale/kn.js",
	"./kn.js": "./node_modules/moment/locale/kn.js",
	"./ko": "./node_modules/moment/locale/ko.js",
	"./ko.js": "./node_modules/moment/locale/ko.js",
	"./ky": "./node_modules/moment/locale/ky.js",
	"./ky.js": "./node_modules/moment/locale/ky.js",
	"./lb": "./node_modules/moment/locale/lb.js",
	"./lb.js": "./node_modules/moment/locale/lb.js",
	"./lo": "./node_modules/moment/locale/lo.js",
	"./lo.js": "./node_modules/moment/locale/lo.js",
	"./lt": "./node_modules/moment/locale/lt.js",
	"./lt.js": "./node_modules/moment/locale/lt.js",
	"./lv": "./node_modules/moment/locale/lv.js",
	"./lv.js": "./node_modules/moment/locale/lv.js",
	"./me": "./node_modules/moment/locale/me.js",
	"./me.js": "./node_modules/moment/locale/me.js",
	"./mi": "./node_modules/moment/locale/mi.js",
	"./mi.js": "./node_modules/moment/locale/mi.js",
	"./mk": "./node_modules/moment/locale/mk.js",
	"./mk.js": "./node_modules/moment/locale/mk.js",
	"./ml": "./node_modules/moment/locale/ml.js",
	"./ml.js": "./node_modules/moment/locale/ml.js",
	"./mn": "./node_modules/moment/locale/mn.js",
	"./mn.js": "./node_modules/moment/locale/mn.js",
	"./mr": "./node_modules/moment/locale/mr.js",
	"./mr.js": "./node_modules/moment/locale/mr.js",
	"./ms": "./node_modules/moment/locale/ms.js",
	"./ms-my": "./node_modules/moment/locale/ms-my.js",
	"./ms-my.js": "./node_modules/moment/locale/ms-my.js",
	"./ms.js": "./node_modules/moment/locale/ms.js",
	"./mt": "./node_modules/moment/locale/mt.js",
	"./mt.js": "./node_modules/moment/locale/mt.js",
	"./my": "./node_modules/moment/locale/my.js",
	"./my.js": "./node_modules/moment/locale/my.js",
	"./nb": "./node_modules/moment/locale/nb.js",
	"./nb.js": "./node_modules/moment/locale/nb.js",
	"./ne": "./node_modules/moment/locale/ne.js",
	"./ne.js": "./node_modules/moment/locale/ne.js",
	"./nl": "./node_modules/moment/locale/nl.js",
	"./nl-be": "./node_modules/moment/locale/nl-be.js",
	"./nl-be.js": "./node_modules/moment/locale/nl-be.js",
	"./nl.js": "./node_modules/moment/locale/nl.js",
	"./nn": "./node_modules/moment/locale/nn.js",
	"./nn.js": "./node_modules/moment/locale/nn.js",
	"./pa-in": "./node_modules/moment/locale/pa-in.js",
	"./pa-in.js": "./node_modules/moment/locale/pa-in.js",
	"./pl": "./node_modules/moment/locale/pl.js",
	"./pl.js": "./node_modules/moment/locale/pl.js",
	"./pt": "./node_modules/moment/locale/pt.js",
	"./pt-br": "./node_modules/moment/locale/pt-br.js",
	"./pt-br.js": "./node_modules/moment/locale/pt-br.js",
	"./pt.js": "./node_modules/moment/locale/pt.js",
	"./ro": "./node_modules/moment/locale/ro.js",
	"./ro.js": "./node_modules/moment/locale/ro.js",
	"./ru": "./node_modules/moment/locale/ru.js",
	"./ru.js": "./node_modules/moment/locale/ru.js",
	"./sd": "./node_modules/moment/locale/sd.js",
	"./sd.js": "./node_modules/moment/locale/sd.js",
	"./se": "./node_modules/moment/locale/se.js",
	"./se.js": "./node_modules/moment/locale/se.js",
	"./si": "./node_modules/moment/locale/si.js",
	"./si.js": "./node_modules/moment/locale/si.js",
	"./sk": "./node_modules/moment/locale/sk.js",
	"./sk.js": "./node_modules/moment/locale/sk.js",
	"./sl": "./node_modules/moment/locale/sl.js",
	"./sl.js": "./node_modules/moment/locale/sl.js",
	"./sq": "./node_modules/moment/locale/sq.js",
	"./sq.js": "./node_modules/moment/locale/sq.js",
	"./sr": "./node_modules/moment/locale/sr.js",
	"./sr-cyrl": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr-cyrl.js": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr.js": "./node_modules/moment/locale/sr.js",
	"./ss": "./node_modules/moment/locale/ss.js",
	"./ss.js": "./node_modules/moment/locale/ss.js",
	"./sv": "./node_modules/moment/locale/sv.js",
	"./sv.js": "./node_modules/moment/locale/sv.js",
	"./sw": "./node_modules/moment/locale/sw.js",
	"./sw.js": "./node_modules/moment/locale/sw.js",
	"./ta": "./node_modules/moment/locale/ta.js",
	"./ta.js": "./node_modules/moment/locale/ta.js",
	"./te": "./node_modules/moment/locale/te.js",
	"./te.js": "./node_modules/moment/locale/te.js",
	"./tet": "./node_modules/moment/locale/tet.js",
	"./tet.js": "./node_modules/moment/locale/tet.js",
	"./tg": "./node_modules/moment/locale/tg.js",
	"./tg.js": "./node_modules/moment/locale/tg.js",
	"./th": "./node_modules/moment/locale/th.js",
	"./th.js": "./node_modules/moment/locale/th.js",
	"./tl-ph": "./node_modules/moment/locale/tl-ph.js",
	"./tl-ph.js": "./node_modules/moment/locale/tl-ph.js",
	"./tlh": "./node_modules/moment/locale/tlh.js",
	"./tlh.js": "./node_modules/moment/locale/tlh.js",
	"./tr": "./node_modules/moment/locale/tr.js",
	"./tr.js": "./node_modules/moment/locale/tr.js",
	"./tzl": "./node_modules/moment/locale/tzl.js",
	"./tzl.js": "./node_modules/moment/locale/tzl.js",
	"./tzm": "./node_modules/moment/locale/tzm.js",
	"./tzm-latn": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm-latn.js": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm.js": "./node_modules/moment/locale/tzm.js",
	"./ug-cn": "./node_modules/moment/locale/ug-cn.js",
	"./ug-cn.js": "./node_modules/moment/locale/ug-cn.js",
	"./uk": "./node_modules/moment/locale/uk.js",
	"./uk.js": "./node_modules/moment/locale/uk.js",
	"./ur": "./node_modules/moment/locale/ur.js",
	"./ur.js": "./node_modules/moment/locale/ur.js",
	"./uz": "./node_modules/moment/locale/uz.js",
	"./uz-latn": "./node_modules/moment/locale/uz-latn.js",
	"./uz-latn.js": "./node_modules/moment/locale/uz-latn.js",
	"./uz.js": "./node_modules/moment/locale/uz.js",
	"./vi": "./node_modules/moment/locale/vi.js",
	"./vi.js": "./node_modules/moment/locale/vi.js",
	"./x-pseudo": "./node_modules/moment/locale/x-pseudo.js",
	"./x-pseudo.js": "./node_modules/moment/locale/x-pseudo.js",
	"./yo": "./node_modules/moment/locale/yo.js",
	"./yo.js": "./node_modules/moment/locale/yo.js",
	"./zh-cn": "./node_modules/moment/locale/zh-cn.js",
	"./zh-cn.js": "./node_modules/moment/locale/zh-cn.js",
	"./zh-hk": "./node_modules/moment/locale/zh-hk.js",
	"./zh-hk.js": "./node_modules/moment/locale/zh-hk.js",
	"./zh-tw": "./node_modules/moment/locale/zh-tw.js",
	"./zh-tw.js": "./node_modules/moment/locale/zh-tw.js"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	var id = map[req];
	if(!(id + 1)) { // check for number or string
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return id;
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./node_modules/moment/locale sync recursive ^\\.\\/.*$";

/***/ }),

/***/ "./src/Locale sync recursive ^\\.\\/.*\\/default\\.po$":
/*!***********************************************!*\
  !*** ./src/Locale sync ^\.\/.*\/default\.po$ ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./en_US/default.po": "./src/Locale/en_US/default.po",
	"./it_IT/default.po": "./src/Locale/it_IT/default.po"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	var id = map[req];
	if(!(id + 1)) { // check for number or string
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return id;
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./src/Locale sync recursive ^\\.\\/.*\\/default\\.po$";

/***/ }),

/***/ "./src/Locale/en_US/default.po":
/*!*************************************!*\
  !*** ./src/Locale/en_US/default.po ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = {"charset":"utf-8","headers":{"project-id-version":"BEdita 4","pot-creation-date":"2019-03-07 11:39:32","po-revision-date":"","last-translator":"","language-team":"BEdita I18N & I10N Team","language":"","mime-version":"1.0","content-type":"text/plain; charset=UTF-8","content-transfer-encoding":"8bit","plural-forms":"nplurals=2; plural=(n != 1);"},"translations":{"":{"":{"msgid":"","msgstr":["Project-Id-Version: BEdita 4 \nPOT-Creation-Date: 2019-03-07 11:39:32 \nPO-Revision-Date:  \nLast-Translator:  \nLanguage-Team: BEdita I18N & I10N Team \nLanguage:  \nMIME-Version: 1.0 \nContent-Type: text/plain; charset=UTF-8 \nContent-Transfer-Encoding: 8bit \nPlural-Forms: nplurals=2; plural=(n != 1); \n"]},"&":{"msgid":"&","msgstr":[""]},"Actions on selected items":{"msgid":"Actions on selected items","msgstr":[""]},"Add objects to":{"msgid":"Add objects to","msgstr":[""]},"Advanced":{"msgid":"Advanced","msgstr":[""]},"All":{"msgid":"All","msgstr":[""]},"All Types":{"msgid":"All Types","msgstr":[""]},"All media":{"msgid":"All media","msgstr":[""]},"All objects":{"msgid":"All objects","msgstr":[""]},"An extension stopped the file upload":{"msgid":"An extension stopped the file upload","msgstr":[""]},"Any":{"msgid":"Any","msgstr":[""]},"BEdita Web site":{"msgid":"BEdita Web site","msgstr":[""]},"BEdita {0}":{"msgid":"BEdita {0}","msgstr":[""]},"Bulk Action failed on: ":{"msgid":"Bulk Action failed on: ","msgstr":[""]},"Cannot create abstract objects or objects without schema":{"msgid":"Cannot create abstract objects or objects without schema","msgstr":[""]},"Cannot produce a thumbnail for this file":{"msgid":"Cannot produce a thumbnail for this file","msgstr":[""]},"Change File":{"msgid":"Change File","msgstr":[""]},"Children":{"msgid":"Children","msgstr":[""]},"Create new":{"msgid":"Create new","msgstr":[""]},"Current password":{"msgid":"Current password","msgstr":[""]},"Dashboard":{"msgid":"Dashboard","msgstr":[""]},"Data Import":{"msgid":"Data Import","msgstr":[""]},"Data modeling":{"msgid":"Data modeling","msgstr":[""]},"Delete":{"msgid":"Delete","msgstr":[""]},"Description":{"msgid":"Description","msgstr":[""]},"Direct access by id or unique name":{"msgid":"Direct access by id or unique name","msgstr":[""]},"Documents":{"msgid":"Documents","msgstr":[""]},"Download":{"msgid":"Download","msgstr":[""]},"Draft":{"msgid":"Draft","msgstr":[""]},"Edit Params":{"msgid":"Edit Params","msgstr":[""]},"Empty request data":{"msgid":"Empty request data","msgstr":[""]},"Empty translation \"id\"":{"msgid":"Empty translation \"id\"","msgstr":[""]},"Empty translation \"object_id\"":{"msgid":"Empty translation \"object_id\"","msgstr":[""]},"Empty-verb":{"msgid":"Empty-verb","msgstr":["Empty"]},"Error ":{"msgid":"Error ","msgstr":[""]},"Error retrieving the requested content":{"msgid":"Error retrieving the requested content","msgstr":[""]},"Events":{"msgid":"Events","msgstr":[""]},"Export":{"msgid":"Export","msgstr":[""]},"Export All":{"msgid":"Export All","msgstr":[""]},"Failed to write file to disk":{"msgid":"Failed to write file to disk","msgstr":[""]},"File is too big, form MAX_FILE_SIZE exceeded":{"msgid":"File is too big, form MAX_FILE_SIZE exceeded","msgstr":[""]},"File is too big, max allowed size is {0}":{"msgid":"File is too big, max allowed size is {0}","msgstr":[""]},"File only partially uploaded":{"msgid":"File only partially uploaded","msgstr":[""]},"File type":{"msgid":"File type","msgstr":[""]},"Files":{"msgid":"Files","msgstr":[""]},"Folders":{"msgid":"Folders","msgstr":[""]},"From":{"msgid":"From","msgstr":[""]},"Image not acceptable for thumb":{"msgid":"Image not acceptable for thumb","msgstr":[""]},"Images":{"msgid":"Images","msgstr":[""]},"Import":{"msgid":"Import","msgstr":[""]},"Import error":{"msgid":"Import error","msgstr":[""]},"Import filter not selected":{"msgid":"Import filter not selected","msgstr":[""]},"Import warn":{"msgid":"Import warn","msgstr":[""]},"Invalid username or password":{"msgid":"Invalid username or password","msgstr":[""]},"Language":{"msgid":"Language","msgstr":[""]},"Locations":{"msgid":"Locations","msgstr":[""]},"Log out":{"msgid":"Log out","msgstr":[""]},"Login":{"msgid":"Login","msgstr":[""]},"Login required":{"msgid":"Login required","msgstr":[""]},"Media":{"msgid":"Media","msgstr":[""]},"Metadata":{"msgid":"Metadata","msgstr":[""]},"Missing import file":{"msgid":"Missing import file","msgstr":[""]},"Missing thumb url":{"msgid":"Missing thumb url","msgstr":[""]},"Module access not authorized":{"msgid":"Module access not authorized","msgstr":[""]},"Move to trash":{"msgid":"Move to trash","msgstr":[""]},"New entry in":{"msgid":"New entry in","msgstr":[""]},"New relations (save to keep)":{"msgid":"New relations (save to keep)","msgstr":[""]},"News":{"msgid":"News","msgstr":[""]},"No":{"msgid":"No","msgstr":[""]},"No items found":{"msgid":"No items found","msgstr":[""]},"No options for this file type":{"msgid":"No options for this file type","msgstr":[""]},"Number of created objects":{"msgid":"Number of created objects","msgstr":[""]},"Number of created resources":{"msgid":"Number of created resources","msgstr":[""]},"Number of errors":{"msgid":"Number of errors","msgstr":[""]},"Number of updated objects":{"msgid":"Number of updated objects","msgstr":[""]},"Number of updated resources":{"msgid":"Number of updated resources","msgstr":[""]},"Object deleted from trash":{"msgid":"Object deleted from trash","msgstr":[""]},"Object saved":{"msgid":"Object saved","msgstr":[""]},"Object types":{"msgid":"Object types","msgstr":[""]},"Object(s) deleted":{"msgid":"Object(s) deleted","msgstr":[""]},"Objects":{"msgid":"Objects","msgstr":[""]},"Off":{"msgid":"Off","msgstr":[""]},"On":{"msgid":"On","msgstr":[""]},"Open image":{"msgid":"Open image","msgstr":[""]},"Options":{"msgid":"Options","msgstr":[""]},"Other":{"msgid":"Other","msgstr":[""]},"Password":{"msgid":"Password","msgstr":[""]},"Preferences and Tools":{"msgid":"Preferences and Tools","msgstr":[""]},"Priority":{"msgid":"Priority","msgstr":[""]},"Profiles":{"msgid":"Profiles","msgstr":[""]},"Property types":{"msgid":"Property types","msgstr":[""]},"Publish End":{"msgid":"Publish End","msgstr":[""]},"Publish Start":{"msgid":"Publish Start","msgstr":[""]},"Relations":{"msgid":"Relations","msgstr":[""]},"Remove":{"msgid":"Remove","msgstr":[""]},"Reset filters":{"msgid":"Reset filters","msgstr":[""]},"Resource \"%s\" not available. Error: %s":{"msgid":"Resource \"%s\" not available. Error: %s","msgstr":[""]},"Resource \"%s\" not found":{"msgid":"Resource \"%s\" not found","msgstr":[""]},"Restore":{"msgid":"Restore","msgstr":[""]},"Result":{"msgid":"Result","msgstr":[""]},"Retype password":{"msgid":"Retype password","msgstr":[""]},"Save":{"msgid":"Save","msgstr":[""]},"Search":{"msgid":"Search","msgstr":[""]},"Search in BEdita":{"msgid":"Search in BEdita","msgstr":[""]},"Set selected":{"msgid":"Set selected","msgstr":[""]},"Settings":{"msgid":"Settings","msgstr":[""]},"Show more":{"msgid":"Show more","msgstr":[""]},"Sign in":{"msgid":"Sign in","msgstr":[""]},"Size":{"msgid":"Size","msgstr":[""]},"Status":{"msgid":"Status","msgstr":[""]},"System users":{"msgid":"System users","msgstr":[""]},"Temporary folder missing":{"msgid":"Temporary folder missing","msgstr":[""]},"The thumbnail is not available":{"msgid":"The thumbnail is not available","msgstr":[""]},"Thumb not available":{"msgid":"Thumb not available","msgstr":[""]},"Thumb not ready: coming soon":{"msgid":"Thumb not ready: coming soon","msgstr":[""]},"Thumbnail is not ready":{"msgid":"Thumbnail is not ready","msgstr":[""]},"To":{"msgid":"To","msgstr":[""]},"Translation(s) deleted":{"msgid":"Translation(s) deleted","msgstr":[""]},"Translations":{"msgid":"Translations","msgstr":[""]},"Trash":{"msgid":"Trash","msgstr":[""]},"Trash can":{"msgid":"Trash can","msgstr":[""]},"Trash-verb":{"msgid":"Trash-verb","msgstr":["Trash"]},"Trashcan":{"msgid":"Trashcan","msgstr":[""]},"Uname":{"msgid":"Uname","msgstr":[""]},"Unknown upload error":{"msgid":"Unknown upload error","msgstr":[""]},"Untitled":{"msgid":"Untitled","msgstr":[""]},"Upload":{"msgid":"Upload","msgstr":[""]},"User Profile":{"msgid":"User Profile","msgstr":[""]},"User profile saved":{"msgid":"User profile saved","msgstr":[""]},"Username":{"msgid":"Username","msgstr":[""]},"Users":{"msgid":"Users","msgstr":[""]},"Videos":{"msgid":"Videos","msgstr":[""]},"View":{"msgid":"View","msgstr":[""]},"View original":{"msgid":"View original","msgstr":[""]},"View trashed ":{"msgid":"View trashed ","msgstr":[""]},"Yes":{"msgid":"Yes","msgstr":[""]},"You are not authorized to access that location.":{"msgid":"You are not authorized to access that location.","msgstr":[""]},"add objects":{"msgid":"add objects","msgstr":[""]},"add to":{"msgid":"add to","msgstr":[""]},"cancel":{"msgid":"cancel","msgstr":[""]},"click to remove":{"msgid":"click to remove","msgstr":[""]},"close":{"msgid":"close","msgstr":[""]},"code":{"msgid":"code","msgstr":[""]},"confirm password":{"msgid":"confirm password","msgstr":[""]},"create":{"msgid":"create","msgstr":[""]},"create new":{"msgid":"create new","msgstr":[""]},"current password":{"msgid":"current password","msgstr":[""]},"download":{"msgid":"download","msgstr":[""]},"id":{"msgid":"id","msgstr":[""]},"last modified":{"msgid":"last modified","msgstr":[""]},"modified":{"msgid":"modified","msgstr":[""]},"move to":{"msgid":"move to","msgstr":[""]},"new password":{"msgid":"new password","msgstr":[""]},"objects":{"msgid":"objects","msgstr":[""]},"of":{"msgid":"of","msgstr":[""]},"open":{"msgid":"open","msgstr":[""]},"original":{"msgid":"original","msgstr":[""]},"position":{"msgid":"position","msgstr":[""]},"reload":{"msgid":"reload","msgstr":[""]},"remove":{"msgid":"remove","msgstr":[""]},"status":{"msgid":"status","msgstr":[""]},"title":{"msgid":"title","msgstr":[""]},"translation of":{"msgid":"translation of","msgstr":[""]},"type":{"msgid":"type","msgstr":[""]},"undo":{"msgid":"undo","msgstr":[""]},"undo remove":{"msgid":"undo remove","msgstr":[""]},"view file":{"msgid":"view file","msgstr":[""]},"www.bedita.com":{"msgid":"www.bedita.com","msgstr":[""]}}}}

/***/ }),

/***/ "./src/Locale/it_IT/default.po":
/*!*************************************!*\
  !*** ./src/Locale/it_IT/default.po ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = {"charset":"utf-8","headers":{"project-id-version":"BEdita 4","pot-creation-date":"2019-03-07 11:39:32","po-revision-date":"","last-translator":"","language-team":"BEdita I18N & I10N Team","language":"","mime-version":"1.0","content-type":"text/plain; charset=UTF-8","content-transfer-encoding":"8bit","plural-forms":"nplurals=2; plural=(n != 1);"},"translations":{"":{"":{"msgid":"","msgstr":["Project-Id-Version: BEdita 4 \nPOT-Creation-Date: 2019-03-07 11:39:32 \nPO-Revision-Date:  \nLast-Translator:  \nLanguage-Team: BEdita I18N & I10N Team \nLanguage:  \nMIME-Version: 1.0 \nContent-Type: text/plain; charset=UTF-8 \nContent-Transfer-Encoding: 8bit \nPlural-Forms: nplurals=2; plural=(n != 1); \n"]},"&":{"msgid":"&","msgstr":[""]},"Actions on selected items":{"msgid":"Actions on selected items","msgstr":["Azioni sugli oggetti selezionati"]},"Add objects to":{"msgid":"Add objects to","msgstr":["Aggiungi oggetti a"]},"Advanced":{"msgid":"Advanced","msgstr":["Avanzate"]},"All":{"msgid":"All","msgstr":["Tutti"]},"All Types":{"msgid":"All Types","msgstr":["Tutti i tipi"]},"All media":{"msgid":"All media","msgstr":["Tutti i media"]},"All objects":{"msgid":"All objects","msgstr":["Tutti gli oggetti"]},"An extension stopped the file upload":{"msgid":"An extension stopped the file upload","msgstr":["Un'estensione ha fermato il caricamento del file"]},"Any":{"msgid":"Any","msgstr":["Qualsiasi"]},"BEdita Web site":{"msgid":"BEdita Web site","msgstr":["Sito BEdita"]},"BEdita {0}":{"msgid":"BEdita {0}","msgstr":[""]},"Bulk Action failed on: ":{"msgid":"Bulk Action failed on: ","msgstr":["Operazione massiva non riuscita:"]},"Cannot create abstract objects or objects without schema":{"msgid":"Cannot create abstract objects or objects without schema","msgstr":["Impossibile creare oggetti astratti o oggetti senza schema"]},"Cannot produce a thumbnail for this file":{"msgid":"Cannot produce a thumbnail for this file","msgstr":["Impossibile produrre una miniatura per questo file"]},"Change File":{"msgid":"Change File","msgstr":["Cambia File"]},"Children":{"msgid":"Children","msgstr":["Contenuti"]},"Create new":{"msgid":"Create new","msgstr":["Crea nuovo"]},"Current password":{"msgid":"Current password","msgstr":["Password corrente"]},"Dashboard":{"msgid":"Dashboard","msgstr":["Cruscotto"]},"Data Import":{"msgid":"Data Import","msgstr":["Importazione dati"]},"Data modeling":{"msgid":"Data modeling","msgstr":["Modellazione"]},"Delete":{"msgid":"Delete","msgstr":["Elimina"]},"Description":{"msgid":"Description","msgstr":["Descrizione"]},"Direct access by id or unique name":{"msgid":"Direct access by id or unique name","msgstr":["Link diretto per ID o nome univoco"]},"Documents":{"msgid":"Documents","msgstr":["Documenti"]},"Download":{"msgid":"Download","msgstr":[""]},"Draft":{"msgid":"Draft","msgstr":[""]},"Edit Params":{"msgid":"Edit Params","msgstr":["Modifica Parametri"]},"Empty request data":{"msgid":"Empty request data","msgstr":["Nessuno dato in request"]},"Empty translation \"id\"":{"msgid":"Empty translation \"id\"","msgstr":["Identificatore traduzione vuoto (\"id\")"]},"Empty translation \"object_id\"":{"msgid":"Empty translation \"object_id\"","msgstr":["Identificatore oggetto tradotto vuoto (\"object_id\") "]},"Empty-verb":{"msgid":"Empty-verb","msgstr":["Svuota"]},"Error ":{"msgid":"Error ","msgstr":["Errore "]},"Error retrieving the requested content":{"msgid":"Error retrieving the requested content","msgstr":["Errore nel caricamento del contenuto richiesto"]},"Events":{"msgid":"Events","msgstr":["Eventi"]},"Export":{"msgid":"Export","msgstr":["Esporta"]},"Export All":{"msgid":"Export All","msgstr":["Esporta Tutti"]},"Failed to write file to disk":{"msgid":"Failed to write file to disk","msgstr":["Scrittura file su disco fallita"]},"File is too big, form MAX_FILE_SIZE exceeded":{"msgid":"File is too big, form MAX_FILE_SIZE exceeded","msgstr":["File troppo grande, dimensione massima form superata (MAX_FILE_SIZE)"]},"File is too big, max allowed size is {0}":{"msgid":"File is too big, max allowed size is {0}","msgstr":["File troppo grande, dimensione massima consentita {0}"]},"File only partially uploaded":{"msgid":"File only partially uploaded","msgstr":["File caricato solo parzialmente"]},"File type":{"msgid":"File type","msgstr":["Tipo di file"]},"Files":{"msgid":"Files","msgstr":["File"]},"Folders":{"msgid":"Folders","msgstr":["Cartelle"]},"From":{"msgid":"From","msgstr":["Da"]},"Image not acceptable for thumb":{"msgid":"Image not acceptable for thumb","msgstr":["Immagine non valida per miniatura"]},"Images":{"msgid":"Images","msgstr":["Immagini"]},"Import":{"msgid":"Import","msgstr":["Importa da file"]},"Import error":{"msgid":"Import error","msgstr":["Errore in importazione"]},"Import filter not selected":{"msgid":"Import filter not selected","msgstr":["Filtro di importazione non selezionato"]},"Import warn":{"msgid":"Import warn","msgstr":["Avviso in importazione"]},"Invalid username or password":{"msgid":"Invalid username or password","msgstr":[""]},"Language":{"msgid":"Language","msgstr":["Lingua"]},"Locations":{"msgid":"Locations","msgstr":["Luoghi"]},"Log out":{"msgid":"Log out","msgstr":["Esci"]},"Login":{"msgid":"Login","msgstr":["Accedi"]},"Login required":{"msgid":"Login required","msgstr":["È richiesto il login"]},"Media":{"msgid":"Media","msgstr":[""]},"Metadata":{"msgid":"Metadata","msgstr":["Metadati"]},"Missing import file":{"msgid":"Missing import file","msgstr":["File di importazione mancante"]},"Missing thumb url":{"msgid":"Missing thumb url","msgstr":["Url miniatura mancante"]},"Module access not authorized":{"msgid":"Module access not authorized","msgstr":["Accesso al modulo non autorizzato"]},"Move to trash":{"msgid":"Move to trash","msgstr":["Sposta nel cestino"]},"New entry in":{"msgid":"New entry in","msgstr":["Nuova voce in"]},"New relations (save to keep)":{"msgid":"New relations (save to keep)","msgstr":["Nuove relazioni (salvare per mantenerle)"]},"News":{"msgid":"News","msgstr":["Novità"]},"No":{"msgid":"No","msgstr":["No"]},"No items found":{"msgid":"No items found","msgstr":["Nessun elemento trovato"]},"No options for this file type":{"msgid":"No options for this file type","msgstr":["Nessuna opzione per questo tipo di file"]},"Number of created objects":{"msgid":"Number of created objects","msgstr":["Numero di oggetti creati"]},"Number of created resources":{"msgid":"Number of created resources","msgstr":["Numero di risorse create"]},"Number of errors":{"msgid":"Number of errors","msgstr":["Numero di errori"]},"Number of updated objects":{"msgid":"Number of updated objects","msgstr":["Numero di oggetti aggiornati"]},"Number of updated resources":{"msgid":"Number of updated resources","msgstr":["Numero di risorse aggiornate"]},"Object deleted from trash":{"msgid":"Object deleted from trash","msgstr":["Oggetto rimosso dal cestino"]},"Object saved":{"msgid":"Object saved","msgstr":["Oggetto salvato"]},"Object types":{"msgid":"Object types","msgstr":["Tipi di oggetto"]},"Object(s) deleted":{"msgid":"Object(s) deleted","msgstr":["Oggetto(i) rimosso(i)"]},"Objects":{"msgid":"Objects","msgstr":["Oggetti"]},"Off":{"msgid":"Off","msgstr":[""]},"On":{"msgid":"On","msgstr":[""]},"Open image":{"msgid":"Open image","msgstr":["Apri immagine"]},"Options":{"msgid":"Options","msgstr":["Opzioni"]},"Other":{"msgid":"Other","msgstr":["Altro"]},"Password":{"msgid":"Password","msgstr":[""]},"Preferences and Tools":{"msgid":"Preferences and Tools","msgstr":["Preferenze e Strumenti"]},"Priority":{"msgid":"Priority","msgstr":["Priorità"]},"Profiles":{"msgid":"Profiles","msgstr":["Profili"]},"Property types":{"msgid":"Property types","msgstr":["Tipi di priorità"]},"Publish End":{"msgid":"Publish End","msgstr":["Data revoca pubblicazione"]},"Publish Start":{"msgid":"Publish Start","msgstr":["Data inizio pubblicazione"]},"Relations":{"msgid":"Relations","msgstr":["Relazioni"]},"Remove":{"msgid":"Remove","msgstr":["Rimuovi"]},"Reset filters":{"msgid":"Reset filters","msgstr":["Reset filtri"]},"Resource \"%s\" not available. Error: %s":{"msgid":"Resource \"%s\" not available. Error: %s","msgstr":["Risorsa \"%s\" non disponibile. Error: %s"]},"Resource \"%s\" not found":{"msgid":"Resource \"%s\" not found","msgstr":["Risorsa \"%s\" non trovata"]},"Restore":{"msgid":"Restore","msgstr":["Ripristina"]},"Result":{"msgid":"Result","msgstr":["Risultato"]},"Retype password":{"msgid":"Retype password","msgstr":["Ridigita password"]},"Save":{"msgid":"Save","msgstr":["Salva"]},"Search":{"msgid":"Search","msgstr":["Cerca"]},"Search in BEdita":{"msgid":"Search in BEdita","msgstr":["Cerca in BEdita"]},"Set selected":{"msgid":"Set selected","msgstr":["Applica a selezione"]},"Settings":{"msgid":"Settings","msgstr":["Impostazioni"]},"Show more":{"msgid":"Show more","msgstr":["Mostra di più"]},"Sign in":{"msgid":"Sign in","msgstr":["Accedi"]},"Size":{"msgid":"Size","msgstr":["Dimensione"]},"Status":{"msgid":"Status","msgstr":["Stato"]},"System users":{"msgid":"System users","msgstr":[""]},"Temporary folder missing":{"msgid":"Temporary folder missing","msgstr":["Cartella temporanea mancante"]},"The thumbnail is not available":{"msgid":"The thumbnail is not available","msgstr":["La miniatura non è disponibile"]},"Thumb not available":{"msgid":"Thumb not available","msgstr":["Miniatura non disponibile"]},"Thumb not ready: coming soon":{"msgid":"Thumb not ready: coming soon","msgstr":["Miniatura non pronta: in lavorazione"]},"Thumbnail is not ready":{"msgid":"Thumbnail is not ready","msgstr":["La miniatura non è pronta"]},"To":{"msgid":"To","msgstr":["A"]},"Translation(s) deleted":{"msgid":"Translation(s) deleted","msgstr":["Traduzione(i) rimossa(e)"]},"Translations":{"msgid":"Translations","msgstr":["Traduzioni"]},"Trash":{"msgid":"Trash","msgstr":["Cestino"]},"Trash can":{"msgid":"Trash can","msgstr":["Cestino"]},"Trash-verb":{"msgid":"Trash-verb","msgstr":["Cestina"]},"Trashcan":{"msgid":"Trashcan","msgstr":["Cestino"]},"Uname":{"msgid":"Uname","msgstr":["Nome univoco"]},"Unknown upload error":{"msgid":"Unknown upload error","msgstr":["Errore sconosciuto durante caricamento"]},"Untitled":{"msgid":"Untitled","msgstr":["Senza titolo"]},"Upload":{"msgid":"Upload","msgstr":["Caricare"]},"User Profile":{"msgid":"User Profile","msgstr":["Profilo Utente"]},"User profile saved":{"msgid":"User profile saved","msgstr":["Profilo utente salvato"]},"Username":{"msgid":"Username","msgstr":["Nome utente"]},"Users":{"msgid":"Users","msgstr":["Utenti"]},"Videos":{"msgid":"Videos","msgstr":["Video"]},"View":{"msgid":"View","msgstr":["Visualizza"]},"View original":{"msgid":"View original","msgstr":["Vedi originale"]},"View trashed ":{"msgid":"View trashed ","msgstr":[""]},"Yes":{"msgid":"Yes","msgstr":["Sì"]},"You are not authorized to access that location.":{"msgid":"You are not authorized to access that location.","msgstr":["Non sei autorizzato ad accedere a quest'area."]},"add objects":{"msgid":"add objects","msgstr":["aggiungi oggetti"]},"add to":{"msgid":"add to","msgstr":[""]},"cancel":{"msgid":"cancel","msgstr":["annulla"]},"click to remove":{"msgid":"click to remove","msgstr":["clicca per rimuovere"]},"close":{"msgid":"close","msgstr":["chiudi"]},"code":{"msgid":"code","msgstr":["codice"]},"confirm password":{"msgid":"confirm password","msgstr":["conferma password"]},"create":{"msgid":"create","msgstr":["crea"]},"create new":{"msgid":"create new","msgstr":["crea nuovo"]},"current password":{"msgid":"current password","msgstr":["password corrente"]},"download":{"msgid":"download","msgstr":[""]},"id":{"msgid":"id","msgstr":[""]},"last modified":{"msgid":"last modified","msgstr":["ultima modifica"]},"modified":{"msgid":"modified","msgstr":["modificato"]},"move to":{"msgid":"move to","msgstr":["sposta in"]},"new password":{"msgid":"new password","msgstr":["nuova password"]},"objects":{"msgid":"objects","msgstr":["oggetti"]},"of":{"msgid":"of","msgstr":["di"]},"open":{"msgid":"open","msgstr":[""]},"original":{"msgid":"original","msgstr":["originale"]},"position":{"msgid":"position","msgstr":["posizione"]},"reload":{"msgid":"reload","msgstr":["ricarica"]},"remove":{"msgid":"remove","msgstr":["rimuovi"]},"status":{"msgid":"status","msgstr":["stato"]},"title":{"msgid":"title","msgstr":["titolo"]},"translation of":{"msgid":"translation of","msgstr":["traduzione di"]},"type":{"msgid":"type","msgstr":["tipo"]},"undo":{"msgid":"undo","msgstr":[""]},"undo remove":{"msgid":"undo remove","msgstr":["annulla rimozione"]},"view file":{"msgid":"view file","msgstr":["mostra file"]},"www.bedita.com":{"msgid":"www.bedita.com","msgstr":[""]}}}}

/***/ }),

/***/ "./src/Template/Layout/js/app/app.js":
/*!*******************************************!*\
  !*** ./src/Template/Layout/js/app/app.js ***!
  \*******************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.js");
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(vue__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var libs_filters__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! libs/filters */ "./src/Template/Layout/js/libs/filters.js");
/* harmony import */ var config_config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! config/config */ "./src/Template/Layout/js/config/config.js");
/* harmony import */ var Template_Layout_style_scss__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! Template/Layout/style.scss */ "./src/Template/Layout/style.scss");
/* harmony import */ var Template_Layout_style_scss__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(Template_Layout_style_scss__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var libs_bedita__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! libs/bedita */ "./src/Template/Layout/js/libs/bedita.js");
/* harmony import */ var app_pages_modules_index__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/pages/modules/index */ "./src/Template/Layout/js/app/pages/modules/index.js");
/* harmony import */ var app_pages_modules_view__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! app/pages/modules/view */ "./src/Template/Layout/js/app/pages/modules/view.js");
/* harmony import */ var app_pages_trash_index__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! app/pages/trash/index */ "./src/Template/Layout/js/app/pages/trash/index.js");
/* harmony import */ var app_pages_trash_view__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! app/pages/trash/view */ "./src/Template/Layout/js/app/pages/trash/view.js");
/* harmony import */ var app_pages_import_index__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! app/pages/import/index */ "./src/Template/Layout/js/app/pages/import/index.js");
/* harmony import */ var app_pages_model_index__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! app/pages/model/index */ "./src/Template/Layout/js/app/pages/model/index.js");
/* harmony import */ var app_components_filter_box__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! app/components/filter-box */ "./src/Template/Layout/js/app/components/filter-box.js");
/* harmony import */ var app_components_filter_type__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! app/components/filter-type */ "./src/Template/Layout/js/app/components/filter-type.js");
/* harmony import */ var app_components_relation_view_relations_add__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! app/components/relation-view/relations-add */ "./src/Template/Layout/js/app/components/relation-view/relations-add.js");
/* harmony import */ var app_components_edit_relation_params__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! app/components/edit-relation-params */ "./src/Template/Layout/js/app/components/edit-relation-params.js");
/* harmony import */ var app_components_menu__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! app/components/menu */ "./src/Template/Layout/js/app/components/menu.js");
/* harmony import */ var app_components_flash_message__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! app/components/flash-message */ "./src/Template/Layout/js/app/components/flash-message.js");
/* harmony import */ var app_components_panel_view__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! app/components/panel-view */ "./src/Template/Layout/js/app/components/panel-view.js");
/* harmony import */ var app_components_upload_files_view__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! app/components/upload-files-view */ "./src/Template/Layout/js/app/components/upload-files-view.js");
/* harmony import */ var app_directives_datepicker__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! app/directives/datepicker */ "./src/Template/Layout/js/app/directives/datepicker.js");
/* harmony import */ var app_directives_jsoneditor__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! app/directives/jsoneditor */ "./src/Template/Layout/js/app/directives/jsoneditor.js");
/* harmony import */ var app_directives_richeditor__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! app/directives/richeditor */ "./src/Template/Layout/js/app/directives/richeditor.js");
/* harmony import */ var app_helpers_view__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! app/helpers/view */ "./src/Template/Layout/js/app/helpers/view.js");
/* harmony import */ var deepmerge__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! deepmerge */ "./node_modules/deepmerge/dist/es.js");
/* harmony import */ var ttag__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ttag */ "./node_modules/ttag/dist/index.js");
/* harmony import */ var ttag__WEBPACK_IMPORTED_MODULE_24___default = /*#__PURE__*/__webpack_require__.n(ttag__WEBPACK_IMPORTED_MODULE_24__);

































const _vueInstance = new vue__WEBPACK_IMPORTED_MODULE_0___default.a({
    el: 'main',

    components: {
        ModulesIndex: app_pages_modules_index__WEBPACK_IMPORTED_MODULE_5__["default"],
        ModulesView: app_pages_modules_view__WEBPACK_IMPORTED_MODULE_6__["default"],
        TrashIndex: app_pages_trash_index__WEBPACK_IMPORTED_MODULE_7__["default"],
        TrashView: app_pages_trash_view__WEBPACK_IMPORTED_MODULE_8__["default"],
        ImportView: app_pages_import_index__WEBPACK_IMPORTED_MODULE_9__["default"],
        ModelIndex: app_pages_model_index__WEBPACK_IMPORTED_MODULE_10__["default"],
        RelationsAdd: app_components_relation_view_relations_add__WEBPACK_IMPORTED_MODULE_13__["default"],
        FilterBoxView: app_components_filter_box__WEBPACK_IMPORTED_MODULE_11__["default"],
        FilterTypeView: app_components_filter_type__WEBPACK_IMPORTED_MODULE_12__["default"],
        EditRelationParams: app_components_edit_relation_params__WEBPACK_IMPORTED_MODULE_14__["default"],
        PanelView: app_components_panel_view__WEBPACK_IMPORTED_MODULE_17__["PanelView"],
        UploadFilesView: app_components_upload_files_view__WEBPACK_IMPORTED_MODULE_18__["default"],
        MainMenu: app_components_menu__WEBPACK_IMPORTED_MODULE_15__["default"],
        FlashMessage: app_components_flash_message__WEBPACK_IMPORTED_MODULE_16__["default"],
    },

    data() {
        return {
            vueLoaded: false,
            urlPagination: '',
            searchQuery: '',
            pageSize: '',
            page: '',
            sort: '',
            dataChanged: false,

            // filters
            urlFilterQuery: {
                q: '',
                filter: {},
            },
            pagination: {
                page: '',
                page_size: '',
            },
            selectedTypes: []
        }
    },

    /**
    * properties or methods available for injection into its descendants
    * (inject: ['property'])
    */
    provide() {
        return {
            getCSFRToken: (...args) => BEDITA.csrfToken,
        }
    },

    /**
     * setup Vue instance before creation
     *
     * @return {void}
     */
    beforeCreate() {
        // Register directives
        vue__WEBPACK_IMPORTED_MODULE_0___default.a.use(app_directives_jsoneditor__WEBPACK_IMPORTED_MODULE_20__["default"]);
        vue__WEBPACK_IMPORTED_MODULE_0___default.a.use(app_directives_datepicker__WEBPACK_IMPORTED_MODULE_19__["default"]);
        vue__WEBPACK_IMPORTED_MODULE_0___default.a.use(app_directives_richeditor__WEBPACK_IMPORTED_MODULE_21__["default"]);

        // Register helpers
        vue__WEBPACK_IMPORTED_MODULE_0___default.a.use(app_helpers_view__WEBPACK_IMPORTED_MODULE_22__["default"]);

        // load BEplugins's components
        libs_bedita__WEBPACK_IMPORTED_MODULE_4__["BELoader"].loadBeditaPlugins();
    },

    created() {
        this.vueLoaded = true;
        this.dataChanged = new Map();

        // load url params when component initialized
        this.loadUrlParams();

        let cl = document.querySelector('html').classList;
        app_components_panel_view__WEBPACK_IMPORTED_MODULE_17__["PanelEvents"].listen('panel:requested', null, () => {
            cl.add('is-clipped');
        });

        app_components_panel_view__WEBPACK_IMPORTED_MODULE_17__["PanelEvents"].listen('panel:closed', null, () => {
            cl.remove('is-clipped');
        });
    },

    watch: {
        /**
         * watch pageSize variable and update pagination.page_size accordingly
         *
         * @param {Number} value page size number
         */
        pageSize(value) {
            this.pagination.page_size = value;
        }
    },

    mounted: function () {
        this.$nextTick(function () {
            this.alertBeforePageUnload(BEDITA.template);
        })
    },

    methods: {
        // Events Listeners

        /**
         * listen to FilterBoxView event filter-objects
         *
         * @param {Object} filter
         *
         * @return {void}
         */
        onFilterObjects(filter) {
            this.urlFilterQuery = filter;
            this.page = '';

            this.applyFilters(this.urlFilterQuery);
        },

        /**
         * listen to FilterBoxView event filter-update-page-size
         *
         * @param {Number} pageSize
         *
         * @return {void}
         */
        onUpdatePageSize(pageSize) {
            this.pageSize = pageSize;
            this.page = '';
            this.applyFilters(this.urlFilterQuery);
        },

        /**
         * listen to FilterBoxView event filter-update-current-page
         *
         * @param {Number} page
         *
         * @return {void}
         */
        onUpdateCurrentPage(page) {
            this.page = page;
            this.applyFilters(this.urlFilterQuery);
        },

        /**
         * listen to FilterTypeView event filter-type-page
         */
        onUpdateQueryTypes(types) {
            this.selectedTypes = types;
        },

        /**
         * on page click:
         * - if panel is open, close it and stop event propagation
         * - if panel is closed do nothing
         *
         * @return {void}
         */
        pageClick(event) {
            // temporary comment: we do not want that panel is closed, when it contains pagination...
            // if (this.panelIsOpen) {
            //     this.closePanel();
            //     event.preventDefault();
            //     event.stopPropagation();
            // }
        },

        /**
        * extract params from page url
        *
        * @returns {void}
        */
        loadUrlParams() {
            // look for query string params in window url
            if (window.location.search) {
                const urlParams = window.location.search;

                // search for q='some string' both after ? and & tokens
                const queryStringExp = /[?&]q=([^&#]*)/g;
                let matches = urlParams.match(queryStringExp);
                if (matches && matches.length) {
                    matches = matches.map(e => e.replace(queryStringExp, '$1'));
                    this.urlFilterQuery.q = matches[0];
                }

                // search for filter['filter_name']['modifier']='filter_value' both after ? and & tokens
                const filterExp = /[?&]filter(\[.*?\])=([^&#]*)/g; // extract properties group and value
                const keysExp = /\[(.*?)\]/g; // extract single property from the properties group

                let filter = {};
                while (matches = filterExp.exec(urlParams)) {
                    if (matches && matches.length === 3) {
                        const filterGroup = matches[1]; // keys group (ex. [status], [modified][lte])
                        const filterValue = matches[2]; // param value

                        let paramKeys = []
                        let keysMatches = [];

                        // extract keys from keys group and put it in paramKeys
                        while (keysMatches = keysExp.exec(filterGroup)) {
                            paramKeys.push(keysMatches[1]);
                        }

                        // create object with keys (many sublevels): first invert array of keys, then wrap around each key a
                        // new object with new { key: previousObject } creating the right hierarchy
                        const obj = paramKeys.reverse().reduce((accumulator, keyName) => {
                            let param = {}
                            param[keyName] = accumulator;
                            return param;
                        }, filterValue);

                        filter = Object(deepmerge__WEBPACK_IMPORTED_MODULE_23__["default"])(filter, obj);
                    }
                }
                this.urlFilterQuery.filter = filter;

                // search for page_size='some string' both after ? and & tokens
                const pageSizeExp = /[?&]page_size=([^&#]*)/g;
                matches = urlParams.match(pageSizeExp);
                if (matches && matches.length) {
                    matches = matches.map(e => e.replace(pageSizeExp, '$1'));
                    this.pageSize = this.isNumeric(matches[0]) ? matches[0] : '';
                }

                // search for page='some string' both after ? and & tokens
                const pageExp = /[?&]page=([^&#]*)/g;
                matches = urlParams.match(pageExp);
                if (matches && matches.length) {
                    matches = matches.map(e => e.replace(pageExp, '$1'));
                    this.page = this.isNumeric(matches[0]) ? matches[0] : '';
                }

                // search for sort='some string' both after ? and & tokens
                const sortExp = /[?&]sort=([^&#]*)/g;
                matches = urlParams.match(sortExp);
                if (matches && matches.length) {
                    matches = matches.map(e => e.replace(sortExp, '$1'));
                    this.sort = matches[0];
                }
            }
        },


        /**
         * build coherent url based on these params:
         * - q=_string_
         * - filter[_name_]=_value_
         * - page_size=_value_
         *
         * @param {Object} params
         * @returns {String} url
         */
        buildUrlParams(params) {
            let url = `${window.location.origin}${window.location.pathname}`;
            const queryId = '?';
            const separator = '&';
            const paramsKeys = Object.keys(params);

            if (paramsKeys && paramsKeys.length) {
                let fields = [];

                paramsKeys.forEach((key) =>  {
                    if (params[key] && params[key] !== '') {
                        const query = params[key];

                        // parse filter property
                        if (key === 'filter') {
                            let filter = '';
                            Object.keys(query).forEach((filterKey) => {
                                if (typeof query[filterKey] === 'object') {
                                    const filter = query[filterKey];
                                    Object.keys(filter).forEach((modifier) => {
                                        if (filter[modifier] !== '') {
                                            // look up for param modifier (i.e dates)
                                            fields.push(`filter[${filterKey}][${modifier}]=${filter[modifier]}`);
                                        }
                                    });
                                } else if (query[filterKey] !== '') {
                                    fields.push(`filter[${filterKey}]=${query[filterKey]}`);
                                }
                            });
                        } else {
                            fields.push(`${key}=${query}`);
                        }
                    }
                });
                url += fields.length ? queryId : '';
                url += fields.join(separator);
            }

            return url;
        },

        /**
         * reset queryString in search keeping pagination options
         *
         * @returns {void}
         */
        resetFilters() {
            this.page = '';
            this.pageSize = '';
            let filter = {
                filter: {},
                q: '',
            }
            this.applyFilters(filter);
        },

        /**
         * apply page filters such as query string or pagination
         *
         * @params {Object} filters filters object
         *
         * @returns {void}
         */
        applyFilters(filters) {
            let url = this.buildUrlParams({
                q: filters.q,
                filter: filters.filter,
                page_size: this.pageSize,
                page: this.page,
                sort: this.sort,
            });
            window.location.replace(url);
        },

        /**
         * alerts onbeforeunload if forms changed and it's not a submit
         *
         * @returns {void}
         */
        alertBeforePageUnload(view) {
            /*
                Listen for focusin: "normal" HTML element need to store original value in order to make a diff with new values
            */
            this.$el.addEventListener('focusin', (ev) => {
                const element = ev.target;
                const form = element && element.form;

                // forms need to have attribute check-changes set to true to enable changes check
                const checkChanges = form && form.getAttribute('check-changes') === 'true';
                if (checkChanges) {
                    if (typeof element.dataset.originalValue === 'undefined') {
                        if (element.nodeName === 'INPUT') {
                            // storing original value for the element
                            if (element.type === 'radio') {
                                const name = element.name;
                                const group = document.querySelectorAll(`input[name=${name}]`);
                                const checked = document.querySelector(`input[name=${name}]:checked`);
                                group.forEach(el => el.dataset.originalValue = checked.value);
                            } else if (element.type === 'checkbox') {
                                const name = element.name;
                                if (name) {
                                    const checked = document.querySelectorAll(`input[name=${name}]:checked`);
                                    element.dataset.originalValue = JSON.stringify(checked);
                                }
                            } else {
                                element.dataset.originalValue = element.value;
                            }
                        } else if (element.nodeName === 'TEXTAREA') {
                            // storing original value for the element
                            element.dataset.originalValue = element.value;
                        }
                    }
                }

            }, true);

            /*
                Listen for change: Handles change events and checks if form/page has been modified
            */
            this.$el.addEventListener('change', (ev) => {
                const element = ev.target;
                const form = element && element.form;

                const sender = ev.detail;
                if (typeof sender !== 'undefined' && sender.id) {
                    this.dataChanged.set(sender.id, {
                        changed: sender.isChanged
                    });
                } else {
                    // support for normal change Events trying to figure out a unique id
                    const checkChanges = form && form.getAttribute('check-changes') === 'true';
                    if (checkChanges && element.name) {
                        const name = element.name;
                        const formId = element.form.getAttribute('id');
                        const elementId = element.id;
                        const originalValue = element.dataset.originalValue;
                        let value = element.value;
                        let id = `${formId}#${elementId}`;

                        if (element.type === 'radio' || element.type === 'checkbox') {
                            if (element.type === 'checkbox') {
                                const checked = document.querySelectorAll(`input[name=${name}]:checked`);
                                value = JSON.stringify(checked);
                            }
                            id = `${formId}#${name}`;
                        }

                        if (!id || id === '') {
                            // if I can't make an id out of don't bother
                            return true;
                        }

                        this.dataChanged.set(id, {
                            changed: value !== originalValue
                        });
                    }
                }
            });

            /*
                Listen for submit: if action is /delete it shows warning prompt
            */
            this.$el.addEventListener('submit', (ev) => {
                const form = ev.target;
                if (form) {
                    let msg = '';
                    if (form.action.endsWith('/trash/delete')) {
                        msg = ttag__WEBPACK_IMPORTED_MODULE_24__["t"]`If you confirm, this data will be gone forever`;
                    } else if (form.action.endsWith('/delete')) {
                        msg = ttag__WEBPACK_IMPORTED_MODULE_24__["t"]`Do you really want to trash the object?`;
                    }
                    _vueInstance.dataChanged.clear();
                    if (msg && !confirm(msg)) {
                        ev.preventDefault();
                        return;
                    }
                }
            });

            /*

            */
            window.onbeforeunload = function (ev) {
                let isDataChanged = false;
                for (const [key, value] of _vueInstance.dataChanged) {
                    if (value.changed) {
                        isDataChanged = true;
                        break;
                    }
                }
                if (isDataChanged) {
                    return 'There are unsaved changes, are you sure you want to leave page?';
                }
            }
        },

        /**
         * Helper function
         *
         * @param {String|Number} num
         * @returns {Boolean}
         */
        isNumeric(num) {
            return !isNaN(num);
        },
    }
});

window._vueInstance = _vueInstance;


/***/ }),

/***/ "./src/Template/Layout/js/app/components/autosize-textarea.js":
/*!********************************************************************!*\
  !*** ./src/Template/Layout/js/app/components/autosize-textarea.js ***!
  \********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var autosize__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! autosize */ "./node_modules/autosize/dist/autosize.js");
/* harmony import */ var autosize__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(autosize__WEBPACK_IMPORTED_MODULE_0__);


/* harmony default export */ __webpack_exports__["default"] = ({
    props: ["value", "reset-value"],

    template: `<textarea @input="handleChange" :value="text"></textarea>`,

    data() {
        return {
            text: '',
            originalValue: '',
        };
    },

    watch: {
        text() {
            // make sure render reactively
            this.$nextTick(() => {
                autosize__WEBPACK_IMPORTED_MODULE_0___default()(this.$el);
            });
        },

        value() {
            this.originalValue = this.value;
        }
    },

    mounted() {
        // setup initial value
        this.originalValue = this.value;
        this.text = this.value;

        // setup autosize
        this.$nextTick(() => {
            autosize__WEBPACK_IMPORTED_MODULE_0___default()(this.$el);
        });
    },

    methods: {
        /**
         *
         * @emits Event#input textarea value
         *
         * @param {Event} event event object
         */
        handleChange(evente) {
            this.text = event.target.value;
            this.$emit('input', this.text);
        }
    }
});


/***/ }),

/***/ "./src/Template/Layout/js/app/components/children-view/children-view.js":
/*!******************************************************************************!*\
  !*** ./src/Template/Layout/js/app/components/children-view/children-view.js ***!
  \******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.js");
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(vue__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var app_components_relation_view_relation_view__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/components/relation-view/relation-view */ "./src/Template/Layout/js/app/components/relation-view/relation-view.js");
/**
 *  Extends RelationView: handles children relation
 *
 *  Templates that uses this component (directly or indirectly):
 *  Template/Elements/Form/children.twig
 *
 * <children-view> component used for ModulesPage -> View
 *
 * @prop {String} relationName name of the relation used by the PaginatiedContentMixin
 * @prop {Boolean} loadOnStart load content on component init
 *
 */




/* harmony default export */ __webpack_exports__["default"] = ({
    extends: app_components_relation_view_relation_view__WEBPACK_IMPORTED_MODULE_1__["default"],

    data() {
        return {
            positions: {},
        }
    },

    methods: {

        /**
         * update relation position and stage for saving
         *
         * @param {Object} related related object
         *
         * @returns {void}
         */
        updatePosition(related) {
            const oldPosition = related.meta.relation.position;
            const newPosition = this.positions[related.id] !== '' ? this.positions[related.id] : undefined;
            if (newPosition !== oldPosition) {
                // try to deep copy the object
                try {
                    const copy = JSON.parse(JSON.stringify(related));
                    copy.meta.relation.position = newPosition;
                    this.modifyRelation(copy);
                } catch (exp) {
                    // silent error
                    console.error('[ChildrenView -> updatePosition] something\'s wrong with the data');
                }
            } else {
                this.removeModifiedRelations(related.id);
            }
        },
    }
});


/***/ }),

/***/ "./src/Template/Layout/js/app/components/edit-relation-params.js":
/*!***********************************************************************!*\
  !*** ./src/Template/Layout/js/app/components/edit-relation-params.js ***!
  \***********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var app_components_panel_view__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/components/panel-view */ "./src/Template/Layout/js/app/components/panel-view.js");
/* harmony import */ var ttag__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ttag */ "./node_modules/ttag/dist/index.js");
/* harmony import */ var ttag__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(ttag__WEBPACK_IMPORTED_MODULE_1__);
/**
* View component used for editing relations param
*
*
* @property {String} relationName
* @property {Object} object
* @property {Object} related
* @property {Object} schema
*
*/




/* harmony default export */ __webpack_exports__["default"] = ({
    template: /*template*/
    `<div v-if="relationName" class="edit-relation">
        <section>
            <header class="tab unselectable">
                <h2><span><: t('Edit parameters of') :>: <: relationName | humanize :></span> &nbsp;</h2>
                <a href="#" @click.prevent="closeParamsView()"><: t('close') :></a>
            </header>

            <div class="object-attributes">
                <h2><: t('Object') :>: <: object.attributes.title :></h2>
                <div>
                    <span class="tag" :class="objectColorClass"><: object.type :></span>
                    <span class="tag"><: object.attributes.status :></span>
                </div>

                <h2><: t('Related to') :>: <: relatedName :></h2>
                <div>
                    <span class="tag" :class="relatedColorClass"><: related.type :></span>
                    <span class="tag"><: relatedStatus :></span>
                </div>
            </div>

            <form ref="paramsForm" class="params-list" @change="checkParams()" @keyup="checkParams()">
                <div>
                    <label><: t('Priority') :></label>
                    <input type="number" step="1" v-model.number="priority" />
                </div>

                <div v-for="(param, key) in schema">
                    <label :title="key"><: param.description || key :>

                        <!-- Boolean -> switch button true/false --->
                        <div v-if="param.type == 'boolean'">
                            <label class="switch">
                                <input type="checkbox" v-model="editingParams[key] ">
                                <span class="slider round"></span>
                            </label>
                        </div>

                        <div v-if="param.type == 'string'">
                            <!-- String, format: date-time -> datepicker --->
                            <input v-if="param.format == 'date-time'" v-datepicker time="true" v-model="editingParams[key]"></input>

                            <!-- String Enum -> select/option --->
                            <div v-else-if="param.enum !== undefined">
                                <select v-model="editingParams[key]">
                                    <option v-for="item in param.enum" :value="item"><: item :></option>
                                </select>
                            </div>
                            <!-- String -> input text --->
                            <input v-else type="text" v-model="editingParams[key]">
                        </div>

                        <!-- Number -> input number --->
                        <div v-if="param.type == 'number'">
                            <label>
                                <input type="number" :name="key" step="any" v-model.number="editingParams[key]">
                            </label>
                        </div>

                        <!-- Integer -> input integer --->
                        <div v-if="param.type == 'integer'">
                            <label>
                                <input type="number" :name="key" v-model.number="editingParams[key]">
                            </label>
                        </div>
                    </label>
                </div>
            </form>

            <footer>
                <p>
                    <button v-show="isModified"
                        class="has-background-info has-text-white"
                        @click.prevent="saveParams()"><: t('Save ') :></button>
                </p>
            </footer>
        </section>
    </div>`,

    props: {
        relationName: {
            type: String,
            default: '',
        },
        object: {
            type: Object,
            default: () => {},
        },
        related: {
            type: Object,
            default: () => {},
        },
        schema: {
            type: Object,
            default: () => {},
        },
    },

    computed: {
        /**
         * get related object status
         *
         * @returns {String} status
         */
        relatedStatus() {
            return this.related.attributes.status;
        },

        /**
        * get related object type
        *
        * @returns {String} type
        */
        relatedType() {
            let type = '(not available)';
            if (this.related) {
                type = this.related.type;
            }

            return type;
        },

        /**
        * get related object title
        *
        * @returns {String} title
        */
        relatedName() {
            let name = '(empty)';
            if (this.related) {
                name = this.related.attributes.title;
            }

            return name;
        },

        /**
        * get main object color from type
        *
        * @returns {String} title
        */
        objectColorClass() {
            return `has-background-module-${this.object.type}`
        },

        /**
        * get related object color from type
        *
        * @returns {String} title
        */
        relatedColorClass() {
            return `has-background-module-${this.related.type}`
        },
    },

    data() {
        return {
            oldParams: {},
            editingParams: {},
            priority: null,
            isModified: false,
        }
    },

    watch: {
        related: {
            handler: function(object) {
                if (object) {
                    this.setInternalValues();
                }
            },
            deep: true,
            immediate: true,
        }
    },

    methods: {
        /**
         * set up for diff check
         *
         * @returns {void}
         */
        setInternalValues() {
            Object.assign(this.oldParams, this.related.meta.relation.params);
            Object.assign(this.editingParams, this.related.meta.relation.params);
            this.priority = this.related.meta.relation.priority;
        },

        /**
         * Save edited params
         *
         * @returns {void}
         */
        saveParams() {
            // internal prop are binded with the external
            if (Object.keys(this.editingParams).length) {
                this.related.meta.relation.params = this.editingParams;
            } else {
                delete this.related.meta.relation.params;
            }
            this.related.meta.relation.priority = this.priority;

            app_components_panel_view__WEBPACK_IMPORTED_MODULE_0__["PanelEvents"].sendBack('edit-params:save', this.related );
        },

        /**
         * Close Panel without saving
         *
         * @returns {void}
         */
        closeParamsView() {
            app_components_panel_view__WEBPACK_IMPORTED_MODULE_0__["PanelEvents"].closePanel();
        },

        /**
         * Editor diff check
         *
         * @returns {void}
         */
        checkParams() {
            this.isModified = !!Object.keys(this.editingParams).filter((index) => {
                return this.editingParams[index] !== '' && this.editingParams[index] !== this.oldParams[index];
            }).length || this.related.meta.relation.priority !== this.priority;
        },
    },
});


/***/ }),

/***/ "./src/Template/Layout/js/app/components/filter-box.js":
/*!*************************************************************!*\
  !*** ./src/Template/Layout/js/app/components/filter-box.js ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var app_mixins_paginated_content__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/mixins/paginated-content */ "./src/Template/Layout/js/app/mixins/paginated-content.js");
/* harmony import */ var app_components_input_dynamic_attributes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/components/input-dynamic-attributes */ "./src/Template/Layout/js/app/components/input-dynamic-attributes.js");
/* harmony import */ var deepmerge__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! deepmerge */ "./node_modules/deepmerge/dist/es.js");
/**
 * Filter Box View component
 *
 * allows to filter a list of objects with a text field, properties and a pagination toolbar
 *
 * <filter-box-view> component
 *
 * @prop {String} objectsLabel
 * @prop {String} placeholder
 * @prop {Boolean} showFilterButtons
 * @prop {Object} initFilter
 * @prop {Object} relationTypes relation types available for relation (left/right)
 * @prop {Array} filterList custom filters to show
 * @prop {Object} pagination
 * @prop {String} configPaginateSizes
 */





/* harmony default export */ __webpack_exports__["default"] = ({
    components: {
        InputDynamicAttributes: app_components_input_dynamic_attributes__WEBPACK_IMPORTED_MODULE_1__["default"]
    },

    props: {
        objectsLabel: {
            type: String,
            default: "Objects"
        },
        placeholder: {
            type: String,
            default: "Search"
        },
        showFilterButtons: {
            type: Boolean,
            default: true
        },
        initFilter: {
            type: Object,
            default: () => {
                return {
                    q: "",
                    filter: {
                        type: ""
                    }
                };
            }
        },
        relationTypes: {
            type: Object
        },
        selectedTypes: {
            type: Array,
            deafut: () => [],
        },
        filterList: {
            type: Array,
            default: () => [],
        },
        pagination: {
            type: Object,
            default: () => app_mixins_paginated_content__WEBPACK_IMPORTED_MODULE_0__["DEFAULT_PAGINATION"]
        },
        configPaginateSizes: {
            type: String,
            default: "[10]"
        }
    },

    data() {
        return {
            queryFilter: {},
            timer: null,
            pageSize: this.pagination.page_size, // pageSize value for pagination page size
            dynamicFilters: {},
            statusFilter: {},
        };
    },

    created() {
        // merge default filters with initFilter
        let mergeFilters = this.formatFilters();
        this.queryFilter = deepmerge__WEBPACK_IMPORTED_MODULE_2__["default"].all([
            app_mixins_paginated_content__WEBPACK_IMPORTED_MODULE_0__["DEFAULT_FILTER"],
            this.queryFilter,
            mergeFilters,
            this.initFilter
        ]);

        this.dynamicFilters = this.filterList.filter(f => {
            if(f.name == 'status') {
                this.statusFilter = f;
                return false;
            } else {
                return true;
            }
        });
    },

    computed: {
        paginateSizes() {
            return JSON.parse(this.configPaginateSizes);
        },

        /**
         * get relation's right object types
         *
         * @returns {Array} array of object types
         */
        rightTypes() {
            return (this.relationTypes && this.relationTypes.right) || [];
        },

        /**
         * check which navigation layout needs to be rendered
         *
         * @return {void}
         */
        isFullPaginationLayout() {
            return (
                this.pagination.page_count > 1 &&
                this.pagination.page_count <= 7
            );
        }
    },

    watch: {
        /**
         * watch initFilter and assign it to queryFilter
         *
         * @param {Object} value filter object
         *
         * @returns {void}
         */
        initFilter(value) {
            this.queryFilter = Object(deepmerge__WEBPACK_IMPORTED_MODULE_2__["default"])(this.queryFilter, value);
        },

        /**
         * watcher for pageSize variable, change pageSize and reload relations
         *
         * @param {Number} value
         *
         * @emits Event#filter-update-page-size
         *
         * @returns {void}
         */
        pageSize(value) {
            this.$emit("filter-update-page-size", this.pageSize);
        },

        selectedTypes(value) {
            this.queryFilter.filter.type = value;
        }
    },

    methods: {
        /**
         * trigger filter-objects event when query string has 3 or more carachter
         *
         * @emits Event#filter-objects
         */
        onQueryStringChange() {
            let queryString = this.queryFilter.q || "";

            clearTimeout(this.timer);
            if (queryString.length >= 3 || queryString.length == 0) {
                this.timer = setTimeout(() => {
                    this.$emit("filter-objects", this.queryFilter);
                }, 300);
            }
        },

        onOtherFiltersChange() {
            this.$emit("filter-objects", this.queryFilter);
        },

        /**
         * load custom filters property names
         *
         * @returns {Object} filters' name
         */
        formatFilters() {
            let filter = {};
            this.filterList.forEach (
                f => (filter[f.name] = f.date ? {} : "")
            );

            return { filter: filter };
        },

        /**
         * apply filters
         *
         * @emits Event#filter-objects-submit
         */
        applyFilter() {
            this.$emit("filter-objects-submit", this.queryFilter);
        },

        /**
         * reset filters
         *
         * @emits Event#filter-reset
         */
        resetFilter() {
            this.$emit("filter-reset");
        },

        /**
         * change page with index {index}
         *
         * @param {Number} index page number
         *
         * @emits Event#filter-update-current-page
         */
        onChangePage(index) {
            this.$emit("filter-update-current-page", index);
        }
    }
});


/***/ }),

/***/ "./src/Template/Layout/js/app/components/filter-type.js":
/*!**************************************************************!*\
  !*** ./src/Template/Layout/js/app/components/filter-type.js ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/**
 * Filter Type View component
 *
 * allows to filter a list of objects with a text field, properties and a pagination toolbar
 *
 * <filter-type-view> component
 *
 * @prop {Object} relationTypes relation types available for relation (left/right)
 */

/* harmony default export */ __webpack_exports__["default"] = ({
    props: {
        types: {
            type: Array,
            default: [],
        },
    },

    data() {
        return {
            selectedTypes: () => [],
        };
    },

    mounted() {
        let params = new URLSearchParams(window.location.search);
        let entries = params.entries();
        let types = [];
        for(let entry of entries) { // each 'entry' is a [key, value]
            var key = entry[0];
            var val = entry[1];
            if (key.startsWith('filter[type]')) {
                types.push(val);
            }
        }
        this.selectedTypes = types;
    },

    computed: {
    },

    watch: {
        selectedTypes(value) {
            this.$emit('updatequerytypes', value);
        }
    },

    methods: {
        togglaAll() {
            if (this.selectedTypes.length) {
                this.selectedTypes = [];
            }
        },
    }
});


/***/ }),

/***/ "./src/Template/Layout/js/app/components/flash-message.js":
/*!****************************************************************!*\
  !*** ./src/Template/Layout/js/app/components/flash-message.js ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/**
 * Templates that uses this component (directly or indirectly):
 *  Template/Element/Flash/flash.twig
 *
 * <flash-message> component
 *
 */

/* harmony default export */ __webpack_exports__["default"] = ({
    props: {
        timeout: {
            type: Number,
            default: 4,
        },
        isBlocking: {
            type: Boolean,
            default: false,
        },
        waitPanelAnimation: {
            type: Number,
            default: 0.5,
        },
    },

    data() {
        return {
            isVisible: true,
            isDumpVisible: false,
        };
    },

    mounted() {
        this.$nextTick(() => {
            if (!this.isBlocking) {
                setTimeout(() => {
                    this.hide();
                }, this.timeout * 1000);
            }
        });
    },

    methods: {
        hide() {
            this.isVisible = !this.isVisible;
            setTimeout(() => {
                this.$refs.flashMessagesContainer.remove();
            }, this.waitPanelAnimation * 1000);
        },
    },
});


/***/ }),

/***/ "./src/Template/Layout/js/app/components/input-dynamic-attributes.js":
/*!***************************************************************************!*\
  !*** ./src/Template/Layout/js/app/components/input-dynamic-attributes.js ***!
  \***************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/**
 * Component that creates an input element with dynamic attributes and directives
 *
 * <input-dynamic-attributes> component
 *
 * @prop {Object} value
 * @prop {Object} attrs list of attributes/directives
 */

/* harmony default export */ __webpack_exports__["default"] = ({
    name: "InputDynamicAttributes",

    props: {
        value: {
            type: [String, Boolean],
        },
        attrs: {
            type: Object,
            required: true,
        },
    },

    /**
     * Vue internal render function
     *
     * @param {Function} createElement create VNode function
     * @returns {VNode} input element
     */
    render(createElement) {
        const attrs = this.attrs;
        const directivesName = Object.keys(attrs).filter(attr => attr.startsWith('v-'));

        // remove 'v-' text from vue directives
        const directives = directivesName.map((name) => {
            const directiveName = name.split('v-').pop();
            return {
                name: directiveName,
            }
        });

        let domProps = { value: this.value };
        let on = { input: e => { this.$emit("update:value", e.target.value); } };

        // if checkbox is to be rendered a different mapping is needed
        if (attrs.type === 'checkbox') {
            domProps = { checked: this.value === 'true' };
            on = { input: e => { this.$emit("update:value", e.target.checked); } };
        }

        // always force date format without time
        delete attrs.time;

        // create and return input element
        return createElement('input', {
            // Custom directives
            directives,
            // Normal HTML attributes
            attrs,
            // DOM properties
            domProps,
            // Event handlers are nested under `on`
            on,
        });
    },
});


/***/ }),

/***/ "./src/Template/Layout/js/app/components/menu.js":
/*!*******************************************************!*\
  !*** ./src/Template/Layout/js/app/components/menu.js ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/**
 * Templates that uses this component (directly or indirectly):
 *  Template/Element/menu/menu.twig
 *
 * <menu> component
 *
 */

/* harmony default export */ __webpack_exports__["default"] = ({
    data() {
        return {
            popUpAction: '',
            searchString: '',
        };
    },
    methods: {
        togglePopup(action) {
            if (action == this.popUpAction) {
                this.popUpAction = '';
            } else {
                this.popUpAction = action;
                this.$nextTick(() => {
                    this.$refs.searchInput.focus();
                });
            }
        },

        captureKeys(e) {
            let key = e.which || e.keyCode || 0;
            switch (key) {
                case 13:
                    this.go();
                    break;
                case 27:
                    this.popUpAction = '';
                    break;
            }
        },

        go() {
            let urlPath = '';
            if (this.popUpAction == 'search') {
                urlPath += "/objects?q=";
            } else if (this.popUpAction == 'go') {
                urlPath += "/view/";
            }

            if (this.searchString && urlPath) {
                window.location.href = BEDITA.base + urlPath + this.searchString;
            }
        },
    },
});


/***/ }),

/***/ "./src/Template/Layout/js/app/components/panel-view.js":
/*!*************************************************************!*\
  !*** ./src/Template/Layout/js/app/components/panel-view.js ***!
  \*************************************************************/
/*! exports provided: PanelEvents, PanelView */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PanelEvents", function() { return PanelEvents; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PanelView", function() { return PanelView; });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.js");
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(vue__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var ttag__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ttag */ "./node_modules/ttag/dist/index.js");
/* harmony import */ var ttag__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(ttag__WEBPACK_IMPORTED_MODULE_1__);
/**
* Templates that uses this component (directly or indirectly):
*  Template/Elements/panel.twig
*
* <panel-view> component used to show a sub-view in a side panel
*
* Use an event bus, PanelEvents, that needs to be imported.
*
* @example
* // in requester view component
* PanelEvents.listen('editSomething:save', this, this.editSomethingSaveCallback);
*
* // to open panel
* PanelEvents.requestPanel({
*   action: 'editSomething', // used in PanelView to render right component
*   from: this, // used in BusEvents to sendback data to right component
*   data: data, // payload
*  })
*
* // panel's rendered component
* PanelEvents.sendBack('editSomething:save', payload );
*
*/




/**
 * Event bus to communicate from/to PanelView
 */
const PanelEvents = new vue__WEBPACK_IMPORTED_MODULE_0___default.a({
    methods: {
        /**
         * set listener for events and if "from" is set, it extract its _uid and use it to match the evant signature
         *
         * @param {String} evtName event name
         * @param {VueComponent|null} from view component that needs to listen
         * @param {Function} callback event callback
         *
         * @returns {void}
         */
        listen(evtName, from, callback) {
            // listen to eventName@component-unique-identifier (if passed)
            const senderSign = from ? `@${from._uid}` : '';
            this.$on(`${evtName}${senderSign}`, callback);
        },

        /**
        * remove event listener for callback
        *
        * @param {String} evtName event name
        * @param {VueComponent|null} from view component that needs to listen
        * @param {Function} callback event callback
        *
        * @returns {void}
        */
        stop(evtName, from, callback) {
            const senderSign = from ? `@${from._uid}` : '';
            this.$off(`${evtName}${senderSign}`, callback);
        },

        /**
        * send payload to panel view last requester
        *
        * @param {String} evtName event name
        * @param {Object} data payload
        *
        * @returns {void}
        */
        sendBack(evtName, data) {
            this.$emit('panel:send', { action: evtName , data });
        },

        /**
        * send event with payload and if "to" is set, it extract its _uid and use it to match the evant signature
        *
        * @param {String} evtName event name
        * @param {VueComponent|null} to view component recipient
        * @param {Object} payload event callback
        *
        * @returns {void}
        */
        send(evtName, to, payload = {}) {
            const recipientSign = to ? `@${to._uid}` : '';
            this.$emit(`${evtName}${recipientSign}`, payload);
        },

        /**
        * send panel request and pass data
        *
        * @param {Object} data
        *
        * @returns {void}
        */
        requestPanel(request) {
            this.$emit('panel:request', request);
        },

        /**
         * send close panel event
         *
         * @returns {void}
         */
        closePanel() {
            this.$emit('panel:close');
        },
    }
});

/**
 *
 * @listens panel:request request panel with data
 * @listens panel:send send message through panel bus
 * @listens panel:save save event
 * @listens panel:open open panel (just visibility)
 * @listens panel:hide hide panel (keep rendered component alive)
 * @listens panel:close close panle and flush data
 *
 * @emits panel:requested the panel has been requested
 * @emits panel:saved a save event happened
 * @emits panel:opened an open event happened
 * @emits panel:hidden an hide event happened
 * @emits panel:closed a close event happened
 */
const PanelView = {
    template: /*template*/`
        <aside class="main-panel" :class="open ? 'on' : ''">
            <header v-if="!customHeader" class="tab unselectable open">
                <h2><span v-show="closeButtonVisible"><: t(headerLabel) | humanize :></span> &nbsp;</h2>
                <a href="#" @click.prevent="close()"><: t(closeButtonLabel) :></a>
            </header>

            <section class="fieldset main-panel-body">
                <slot :data="data" :action="action"></slot>
            </section>

            <footer v-if="!customFooter">
                <p>
                    <button v-show="saveButtonVisible" class="has-background-info has-text-white"
                        @click.prevent="save()"><: t(saveButtonLabel) :></button>
                </p>
            </footer>
        </aside>
    `,

    props: {
        customHeader: {
            type: Boolean,
            default: false,
        },
        customFooter: {
            type: Boolean,
            default: false,
        },
        saveButtonVisible: {
            type: Boolean,
            default: true,
        },
        headerLabel: {
            type: String,
            default: () => Object(ttag__WEBPACK_IMPORTED_MODULE_1__["t"])('Panel'),
        },
        saveButtonLabel: {
            type: String,
            default: () => Object(ttag__WEBPACK_IMPORTED_MODULE_1__["t"])('save'),
        },
        closeButtonLabel: {
            type: String,
            default: () => Object(ttag__WEBPACK_IMPORTED_MODULE_1__["t"])('close'),
        },
        closeButtonVisible: {
            type: Boolean,
            default: true,
        },
    },

    data() {
        return {
            open: false,
            stack: [],
        }
    },

    computed: {
        /**
         * VueComponent from last request (if present)
         *
         * @returns {VueComponent|null}
         */
        from() {
            return this.stack.length && this.stack.slice().pop().from || null;
        },

        /**
         * action from last request (if present)
         *
         * @returns {String}
         */
        action() {
            return this.stack.length && this.stack.slice().pop().action || '';
        },

        /**
         * data from last request (if present)
         *
         * @returns {Object}
         */
        data() {
            return this.stack.length && this.stack.slice().pop().data || {};
        }
    },

    watch: {
        /**
         * panel open property watcher to determine window body class
         *
         * @param {Boolean} value
         */
        open(value) {
            if (value) {
                window.document.body.classList.add('panel-is-open');
            } else {
                window.document.body.classList.remove('panel-is-open');
            }
        }
    },

    created() {
        // set up global panel listeners

        // used to request panel
        PanelEvents.listen('panel:request', null, (request) => {
            let { data, from } = request;

            this.open = true;
            this.stack.push(request);

            PanelEvents.send('panel:requested', null, request);
        });

        PanelEvents.listen('panel:send', null, (request) => {
            let { action, data } = request;

            PanelEvents.send(action, this.from, data);
        });

        PanelEvents.listen('panel:save', null, (data) => {
            PanelEvents.sendBack('panel:saved', this.from, data);
            this.pop();
        });

        PanelEvents.listen('panel:open', null, (request) => {
            this.open = true;
            PanelEvents.send('panel:opened', null, request);
        });

        PanelEvents.listen('panel:hide', null, (request) => {
            this.open = false;
            PanelEvents.send('panel:hidden', null, request);
        });

        PanelEvents.listen('panel:close', null, () => {
            this.open = false;
            this.pop();
        });
    },

    methods: {
        /**
         * extract last panel request, and close panel if stack is empty
         *
         * @return {void}
         */
        pop() {
            const stack = this.stack;
            const last = stack.pop();
            if (stack.length) {
                this.open = true;
            } else {
                this.open = false;
                PanelEvents.$emit('panel:closed', last);
            }
        },

        /**
        * default save button action, send save event with data
        *
        * @param {Object} data
        *
        * @return {void}
        */
        save(data) {
            PanelEvents.$emit('panel:save', data);
        },

        /**
        * default close button action, send close event
        *
        * @return {void}
        */
        close() {
            PanelEvents.$emit('panel:close');
        },
    }
}


/***/ }),

/***/ "./src/Template/Layout/js/app/components/property-view/property-view.js":
/*!******************************************************************************!*\
  !*** ./src/Template/Layout/js/app/components/property-view/property-view.js ***!
  \******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var app_components_relation_view_relation_view__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/components/relation-view/relation-view */ "./src/Template/Layout/js/app/components/relation-view/relation-view.js");
/* harmony import */ var app_components_children_view_children_view__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/components/children-view/children-view */ "./src/Template/Layout/js/app/components/children-view/children-view.js");
/**
 * Templates that uses this component (directly or indirectly):
 *  Template/Elements/Form/other_properties.twig
 *  Template/Elements/Form/core_properties.twig
 *  Template/Elements/Form/meta.twig
 *
 * <property-view> component used for ModulesPage -> View
 *
 * Component that wraps group of properties in the object View
 *
 * @prop {Boolean} tabOpen determines whether the property content is visible or not
 * @prop {String} label label of the property view
 *
 */




/* harmony default export */ __webpack_exports__["default"] = ({
    components: {
        RelationView: app_components_relation_view_relation_view__WEBPACK_IMPORTED_MODULE_0__["default"],
        ChildrenView: app_components_children_view_children_view__WEBPACK_IMPORTED_MODULE_1__["default"],
    },

    props: {
        tabOpen: {
            type: Boolean,
            default: false,
        },
        tabOpenAtStart: {
            type: Boolean,
            default: false,
        },
        isDefaultOpen: {
            type: Boolean,
            default: false,
        },
    },

    data() {
        return {
            isOpen: this.isDefaultOpen,
            isLoading: false,
            totalObjects: 0,
        }
    },

    mounted() {
        this.isOpen = this.tabOpenAtStart;
    },

    watch: {
        tabOpen() {
            this.isOpen = this.tabOpen;
        },
    },

    methods: {
        toggleVisibility() {
            this.isOpen = !this.isOpen;
        },
        onToggleLoading(status) {
            this.isLoading = status;
        },
        onCount(n, force = false) {
            if (this.totalObjects === 0 || force) {
                this.totalObjects = n;
            }
        },
    }
});


/***/ }),

/***/ "./src/Template/Layout/js/app/components/relation-view/relation-view.js":
/*!******************************************************************************!*\
  !*** ./src/Template/Layout/js/app/components/relation-view/relation-view.js ***!
  \******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var app_components_relation_view_relationships_view_relationships_view__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/components/relation-view/relationships-view/relationships-view */ "./src/Template/Layout/js/app/components/relation-view/relationships-view/relationships-view.js");
/* harmony import */ var app_components_relation_view_roles_list_view__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/components/relation-view/roles-list-view */ "./src/Template/Layout/js/app/components/relation-view/roles-list-view.js");
/* harmony import */ var app_components_filter_box__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/components/filter-box */ "./src/Template/Layout/js/app/components/filter-box.js");
/* harmony import */ var app_components_tree_view_tree_view__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/components/tree-view/tree-view */ "./src/Template/Layout/js/app/components/tree-view/tree-view.js");
/* harmony import */ var app_mixins_paginated_content__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/mixins/paginated-content */ "./src/Template/Layout/js/app/mixins/paginated-content.js");
/* harmony import */ var app_mixins_relation_schema__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/mixins/relation-schema */ "./src/Template/Layout/js/app/mixins/relation-schema.js");
/* harmony import */ var app_components_panel_view__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! app/components/panel-view */ "./src/Template/Layout/js/app/components/panel-view.js");
/* harmony import */ var app_mixins_dragdrop__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! app/mixins/dragdrop */ "./src/Template/Layout/js/app/mixins/dragdrop.js");
/* harmony import */ var sleep_promise__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! sleep-promise */ "./node_modules/sleep-promise/build/esm.mjs");
/* harmony import */ var flatpickr_dist_flatpickr_min__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! flatpickr/dist/flatpickr.min */ "./node_modules/flatpickr/dist/flatpickr.min.js");
/* harmony import */ var flatpickr_dist_flatpickr_min__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(flatpickr_dist_flatpickr_min__WEBPACK_IMPORTED_MODULE_9__);
/**
 *  Templates that uses this component (directly or indirectly):
 *  Template/Elements/relations.twig
 *  Template/Elements/trees.twig
 *  Template/Elements/roles.twig
 *
 * <relation-view> component used for ModulesPage -> View
 *
 * @property {String} relationName name of the relation used by the PaginatiedContentMixin
 * @property {Boolean} loadOnStart load content on component init
 * @property {Boolean} multipleChoice set view for multiple choice
 * @property {String} configPaginateSizes set pagination
 *
 * @requires
 *
 */













/* harmony default export */ __webpack_exports__["default"] = ({
    mixins: [
        app_mixins_paginated_content__WEBPACK_IMPORTED_MODULE_4__["PaginatedContentMixin"],
        app_mixins_relation_schema__WEBPACK_IMPORTED_MODULE_5__["RelationSchemaMixin"],
        app_mixins_dragdrop__WEBPACK_IMPORTED_MODULE_7__["DragdropMixin"],
    ],

    components: {
        RelationshipsView: app_components_relation_view_relationships_view_relationships_view__WEBPACK_IMPORTED_MODULE_0__["default"],
        RolesListView: app_components_relation_view_roles_list_view__WEBPACK_IMPORTED_MODULE_1__["default"],
        FilterBoxView: app_components_filter_box__WEBPACK_IMPORTED_MODULE_2__["default"],
        TreeView: app_components_tree_view_tree_view__WEBPACK_IMPORTED_MODULE_3__["default"],
    },

    props: {
        relationName: {
            type: String,
            required: true,
        },
        loadOnStart: [Boolean, Number],
        multipleChoice: {
            type: Boolean,
            default: true,
        },
        configPaginateSizes: {
            type: String,
            default: '[]',
        },
    },

    data() {
        return {
            method: 'relatedJson',                      // define AppController method to be used
            loading: false,
            count: 0,                                   // count number of related objects, on change triggers an event

            requesterId: null, // panel requerster id
            removedRelated: [],                         // staged removed related objects
            addedRelations: [],                         // staged added objects to be saved
            modifiedRelations: [],                      // staged modified relation params

            removedRelationsData: [],                   // hidden field containing serialized json passed on form submit
            addedRelationsData: [],                     // array of serialized new relations

            relationsData: [], // hidden field containing serialized json passed on form submit
            activeFilter: {}, // current active filter for objects list
        }
    },

    computed: {
        // array of ids of objects in view
        alreadyInView() {
            let a = this.addedRelations.map(o => o.id);
            let b = this.objects.map(o => o.id);
            return a.concat(b);
        },
    },

    /**
     * setup correct endpoint for PaginatedContentMixin.getPaginatedObjects()
     *
     * @return {void}
     */
    created() {
        this.endpoint = `${this.method}/${this.relationName}`;
    },

    /**
    * load content after component is mounted
    *
    * @return {void}
    */
    async mounted() {
        // set up panel events
        app_components_panel_view__WEBPACK_IMPORTED_MODULE_6__["PanelEvents"].listen('edit-params:save', this, this.editParamsSave);
        app_components_panel_view__WEBPACK_IMPORTED_MODULE_6__["PanelEvents"].listen('relations-add:save', this, this.appendRelationsFromPanel);
        app_components_panel_view__WEBPACK_IMPORTED_MODULE_6__["PanelEvents"].listen('upload-files:save', this, this.appendRelationsFromPanel);
        app_components_panel_view__WEBPACK_IMPORTED_MODULE_6__["PanelEvents"].listen('panel:closed', null, this.resetPanelRequester);

        await this.loadOnMounted();

        // check if relation is related to media objects
        if (this.relationTypes && this.relationTypes.right) {
            // if true setup drop event that handles file upload

            if (this.isRelationWithMedia) {
                this.$on('drop-files', (ev, transfer) => {
                    let files = transfer.files;
                    if (files) {
                        // on drop-file event request panelView with action upload-files
                        this.disableDrop();
                        app_components_panel_view__WEBPACK_IMPORTED_MODULE_6__["PanelEvents"].requestPanel({
                            action: 'upload-files',
                            from: this,
                            data: { files },
                        });
                    }
                });
            }
        }

        // enable related objects drop
        this.$on('drop', (ev, transfer) => {
            let object = transfer.data;
            if (object) {
                this.appendRelations([object]);
                app_components_panel_view__WEBPACK_IMPORTED_MODULE_6__["PanelEvents"].send('relations-view:add-already-in-view', null, object );
            }
        });
    },

    beforeDestroy() {
        // destroy up panel events
        app_components_panel_view__WEBPACK_IMPORTED_MODULE_6__["PanelEvents"].stop('edit-params:save', this, this.editParamsSave);
        app_components_panel_view__WEBPACK_IMPORTED_MODULE_6__["PanelEvents"].stop('relations-add:save', this, this.appendRelationsFromPanel);
        app_components_panel_view__WEBPACK_IMPORTED_MODULE_6__["PanelEvents"].stop('upload-files:save', this, this.appendRelationsFromPanel);
        app_components_panel_view__WEBPACK_IMPORTED_MODULE_6__["PanelEvents"].stop('panel:closed', null, this.resetPanelRequester);
    },

    watch: {
        /**
         * Loading event emit
         *
         * @param {String} value The value associated to loading
         *
         * @emits Event#loading
         *
         * @return {void}
         */
        loading(value) {
            this.$emit('loading', value);
        },
    },

    methods: {
        // Events Listeners

        /**
         * listen to FilterBoxView event filter-objects
         *
         * @param {Object} filter
         *
         * @return {void}
         */
        onFilterObjects(filter) {
            this.activeFilter = filter;
            this.toPage(1, this.activeFilter);
        },

        /**
         * listen to FilterBoxView event filter-update-page-size
         *
         * @param {Number} pageSize
         *
         * @return {void}
         */
        onUpdatePageSize(pageSize) {
            this.setPageSize(pageSize);
            this.loadRelatedObjects(this.activeFilter);
        },

        /**
         * listen to FilterBoxView event filter-update-current-page
         *
         * @param {Number} page
         *
         * @return {void}
         */
        onUpdateCurrentPage(page) {
            this.toPage(page, this.activeFilter);
        },

        /**
         * edit single relation params
         *
         * @param {Object} object
         *
         * @returns {void}
         */
        editParamsSave(object) {
            this.updateRelationParams(object);
            this.closePanel();
        },

        /**
         *
         *
         * @param {Number} id
         *
         * @returns {Boolean} true if panel's open
         */
        isPanelOpen(id = null) {
            if (id === null) {
                return !!this.requesterId;
            }
            return this.requesterId === id;
        },

        /**
        * extract relation with modified params and set it to staging
        *
        * @param {Object} data
        *
        * @returns {void}
        */
        updateRelationParams(related) {
            // id of edited related object
            const id = related.id;

            // extract related object from view
            const rel = this.objects.filter((object) => {
                if (object.id === id) {
                    return object;
                }
            }).pop();

            this.modifyRelation(rel);
        },

        /**
        * Event 'added-relations' callback
        * retrieve last added relations from relationships-view
        *
        * @param {Array} relations list of related objects to add
        *
        * @return {void}
        */
        appendRelations(relations) {
            if (!this.addedRelations.length) {
                this.addedRelations = relations;
            } else {
                let existingIds = this.addedRelations.map(a => a.id);
                for (let i = 0; i < relations.length; i++) {
                    if (existingIds.indexOf(relations[i].id) < 0) {
                        this.addedRelations.push(relations[i]);
                    }
                }
            }
            this.prepareRelationsToSave();
        },

        /**
         * add relations from panel and close it.
         *
         * @param {Array} relations
         *
         * @returns {void}
         */
        appendRelationsFromPanel(relations) {
            this.appendRelations(relations);
            this.closePanel();
            this.enableDrop();
        },

        /**
         * request panel for edit relation params
         * data object has to match edit-relation-params component property
         *
         * @param {Object} data
         */
        editRelationParams(data) {
            this.requesterId = data.related.id;
            app_components_panel_view__WEBPACK_IMPORTED_MODULE_6__["PanelEvents"].requestPanel({
                action: 'edit-relation-params',
                from: this,
                data,
            });
        },

        /**
         * reset panel requester id
         *
         * @returns {void}
         */
        resetPanelRequester() {
            this.requesterId = null;
        },

        /**
         * request panel for add related objects
         * data object has to match relations-add component property
         *
         * @param {Object} data request data
         *
         * @returns {void}
         */
        addRelatedObjects(data) {
            this.requesterId = data.object.id;
            app_components_panel_view__WEBPACK_IMPORTED_MODULE_6__["PanelEvents"].requestPanel({
                action: 'relations-add',
                from: this,
                data,
            });
        },

        /**
         * close panel calling PanelEvent.closePanel
         *
         * @returns {void}
         */
        closePanel() {
            app_components_panel_view__WEBPACK_IMPORTED_MODULE_6__["PanelEvents"].closePanel();
        },

        /**
         * load content if flag set to true
         *
         * @return {void}
         */
        async loadOnMounted() {
            if (this.loadOnStart) {
                const t = (typeof this.loadOnStart === 'number')? this.loadOnStart : 0;

                await Object(sleep_promise__WEBPACK_IMPORTED_MODULE_8__["default"])(t);
                if (this.relationSchema === null) {
                    await this.getRelationData();
                }

                await this.loadRelatedObjects();
            }
            return Promise.resolve();
        },

        /**
         * call PaginatedContentMixin.getPaginatedObjects() method and handle loading
         *
         * @emits Event#count count objects event
         *
         * @param {Object} filter object containing filters
         * @param {Boolean} force force recount of related objects
         *
         * @return {Array} objs objects retrieved
         */
        async loadRelatedObjects(filter = {}, force = false) {
            this.loading = true;

            return this.getPaginatedObjects(true, filter)
                .then((objs) => {
                    this.$emit('count', this.pagination.count);
                    this.loading = false;
                    return objs;
                })
                .catch((error) => {
                    // code 20 is user aborted fetch which is ok
                    if (error.code !== 20) {
                        this.loading = false;
                        console.error(error);s
                    }
                });
        },

        /**
         * reload all related objects
         *
         * @return {Array} objs objects retrieved
         */
        reloadObjects() {
            this.activeFilter = {};
            return this.loadRelatedObjects({}, true);
        },

        /**
         * toggle relation
         *
         * @param {object}
         *
         * @returns {void}
         */
        relationToggle(related) {
            if (!related || !related.id) {
                console.error('[relationToggle] needs first param (related) as {object} with property id set');
                return;
            }
            if (!this.containsId(this.removedRelated, related.id)) {
                this.removeRelation(related);
            } else {
                this.restoreRemovedRelation(related);
            }
        },

        /**
         * remove related object: adding it to removedRelated Array
         *
         * @param {String} type
         *
         * @returns {void}
         */
        removeRelation(related) {
            this.removedRelated.push(related);
            this.prepareRelationsToRemove(this.removedRelated);

            // after relation is set to be removed we check if it was modified(therefore staged to be saved)
            if (this.containsId(this.modifiedRelations, related.id)) {
                // if yes we unstage it
                this.prepareRelationsToSave();
            }
        },

        /**
         * re-add removed related object: removing it from removedRelated Array
         *
         * @param {Number} id
         * @param {String} type
         *
         * @returns {void}
         */
        restoreRemovedRelation(related) {
            let index = this.removedRelated.findIndex((rel) => rel.id !== related.id);
            this.removedRelated.splice(index, 1);
            this.prepareRelationsToRemove(this.removedRelated);

            // after restore previously removed relation, we check if it was modified
            if (this.containsId(this.modifiedRelations, related.id)) {
                // if yes we stage it for saving
                this.prepareRelationsToSave();
            }
        },

        /**
         * format and serialize object relations
         *
         * @param {Array} relations list of related objects to format
         *
         * @returns {void}
         */
        prepareRelationsToRemove(relations) {
            this.removedRelationsData = JSON.stringify(this.formatObjects(relations));

            const isChanged = !!relations.length;
            this.$el.dispatchEvent(new CustomEvent('change', {
                bubbles: true,
                detail: {
                    id: this.$vnode.tag,
                    isChanged,
                }
            }));
        },

        /**
         * prepare removeRelated Array for saving using serialized json input field
         *
         * @param {Array} relations list of related objects to be removed
         *
         * @returns {void}
         */
        setRemovedRelated(relations) {
            if (!relations) {
                return;
            }
            this.removedRelated = relations;
            this.prepareRelationsToRemove(this.removedRelated);
        },

        /**
         * remove element with matched id from staged relations
         *
         * @param {Number} id
         *
         * @returns {void}
         */
        removeAddedRelations(id) {
            if (!id) {
                console.error('[removeAddedRelations] needs first param (id) as {Number|String}');
                return;
            }
            this.addedRelations = this.addedRelations.filter((rel) => rel.id !== id);
            app_components_panel_view__WEBPACK_IMPORTED_MODULE_6__["PanelEvents"].send('relations-view:remove-already-in-view', null, { id } );


            this.prepareRelationsToSave();
        },

        /**
         * set modified relation to be saved
         *
         * @param {Object} related
         *
         * @returns {void}
         */
        modifyRelation(related) {
            if (this.containsId(this.modifiedRelations, related.id)) {
                // if object has been already modified we replace it within the modifiedRelations array
                this.modifiedRelations = this.modifiedRelations.map((object) => {
                    if (object.id === related.id) {
                        return related;
                    }
                    return object;
                });
            } else {
                // otherwise we add it to it
                this.modifiedRelations.push(related);
            }
            this.prepareRelationsToSave();
        },

        /**
         * remove element with matched id from staged relations
         *
         * @param {Number} id
         *
         * @returns {void}
         */
        removeModifiedRelations(id) {
            if (!id) {
                console.error('[removeModifiedRelations] needs first param (id) as {Number|String}');
                return;
            }
            this.modifiedRelations = this.modifiedRelations.filter((rel) => rel.id !== id);
            this.prepareRelationsToSave();
        },

        /**
         * set relations to be saved from both newly added and modified
         *
         * @returns {void}
         */
        prepareRelationsToSave() {
            const relations = this.addedRelations.concat(this.modifiedRelations);
            let difference = relations.filter(rel => !this.containsId(this.removedRelated, rel.id));

            this.addedRelationsData = JSON.stringify(this.formatObjects(difference));

            const isChanged = !!difference.length;
            this.$el.dispatchEvent(new CustomEvent('change', {
                bubbles: true,
                detail: {
                    id: this.$vnode.tag,
                    isChanged,
                }
            }));
        },

        /**
         * frontend specific formatting for relation params
         *
         * @param {string} key
         * @param {any} value
         *
         * @returns {String} formatted value
         */
        formatParam(key, value) {
            const schema = this.getRelationSchema();

            // formatting ISO 8061 date to human
            if (schema !== undefined && schema[key].format === 'date-time') {
                return flatpickr_dist_flatpickr_min__WEBPACK_IMPORTED_MODULE_9___default.a.formatDate(new Date(value), 'Y-m-d h:i K');
            }

            return value;
        },

        /**
         * go to specific page
         *
         * @param {Number} page The page number
         * @param {Object} filter The filter to apply
         *
         * @return {void}
         */
        toPage(page, filter) {
            this.loading = true;

            app_mixins_paginated_content__WEBPACK_IMPORTED_MODULE_4__["PaginatedContentMixin"].methods.toPage.call(this, page, filter)
                .then((objs) => {
                    this.loading = false;
                    return objs;
                })
                .catch((error) => {
                    // code 20 is user aborted fetch which is ok
                    if (error.code !== 20) {
                        this.loading = false;
                        console.error(error);
                    }
                });
        },

        /**
         * helper function: check if array relations has element with id -> id
         *
         * @param {Array} relations
         * @param {Number} id
         *
         * @return {Boolean} true if id is in Array relations
         */
        containsId(relations, id) {
            return relations.filter((rel) => rel.id === id).length;
        },

        /**
         * helper function: build open view url
         *
         * @param {String} objectType
         * @param {Number} objectId
         *
         * @return {String} url
         */
        buildViewUrl(objectType, objectId) {
            return `${window.location.protocol}//${window.location.host}/${objectType}/view/${objectId}`;
        },
    }

});


/***/ }),

/***/ "./src/Template/Layout/js/app/components/relation-view/relations-add.js":
/*!******************************************************************************!*\
  !*** ./src/Template/Layout/js/app/components/relation-view/relations-add.js ***!
  \******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var app_components_filter_box__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/components/filter-box */ "./src/Template/Layout/js/app/components/filter-box.js");
/* harmony import */ var app_mixins_paginated_content__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/mixins/paginated-content */ "./src/Template/Layout/js/app/mixins/paginated-content.js");
/* harmony import */ var app_components_panel_view__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/components/panel-view */ "./src/Template/Layout/js/app/components/panel-view.js");
/* harmony import */ var app_mixins_dragdrop__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/mixins/dragdrop */ "./src/Template/Layout/js/app/mixins/dragdrop.js");
/* harmony import */ var sleep_promise__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! sleep-promise */ "./node_modules/sleep-promise/build/esm.mjs");
/**
 * Templates that uses this component (directly or indirectly):
 *  Template/Elements/relations.twig
 *
 * <relations-add> component used for Panel
 *
 * @prop {String} relationName relation name
 * @prop {Array} alreadyInView array of objects already added
 * @prop {Object} relationTypes list of available object types
 * @prop {String} configPaginateSizes list of sizes for pagination
 *
 */







/* harmony default export */ __webpack_exports__["default"] = ({
    mixins: [ app_mixins_paginated_content__WEBPACK_IMPORTED_MODULE_1__["PaginatedContentMixin"], app_mixins_dragdrop__WEBPACK_IMPORTED_MODULE_3__["DragdropMixin"] ],

    inject: ['getCSFRToken'],

    components: {
        FilterBoxView: app_components_filter_box__WEBPACK_IMPORTED_MODULE_0__["default"],
    },

    props: {
        relationName: {
            type: String,
            default: '',
        },
        alreadyInView: {
            type: Array,
            default: () => [],
        },
        relationTypes: {
            type: Object,
        },
        configPaginateSizes: {
            type: String,
            default: '[]',
        },
    },

    data() {
        return {
            method: 'relationshipsJson',
            endpoint: '',
            loading: false,
            selectedObjects: [],
            addedObjects: [],
            activeFilter: {},

            // create object form data
            saving: false,
            showCreateObjectForm: false,
            file: null,
            objectType: '',
            titlePlaceholder: 'title',
        };
    },

    computed: {
        knownTypes() {
            return ['audio', 'video', 'image'];
        },

        /**
         * is a media object
         *
         * @return {Boolean}
         */
        isMedia() {
            return this.relationTypes && this.relationTypes.right.indexOf('media') !== -1;
        },
    },

    mounted() {
        // when object is staged for saving in relation view updates the list of alreadyInView
        app_components_panel_view__WEBPACK_IMPORTED_MODULE_2__["PanelEvents"].listen('relations-view:add-already-in-view', null, this.addToAlreadyInView);
        app_components_panel_view__WEBPACK_IMPORTED_MODULE_2__["PanelEvents"].listen('relations-view:remove-already-in-view', null, this.removeFromAlreadyInView);
    },

    destroyed() {
        app_components_panel_view__WEBPACK_IMPORTED_MODULE_2__["PanelEvents"].stop('relations-view:update-already-in-view', null, this.addToAlreadyInView);
        app_components_panel_view__WEBPACK_IMPORTED_MODULE_2__["PanelEvents"].stop('relations-view:remove-already-in-view', null, this.removeFromAlreadyInView);
    },

    watch: {
        relationName: {
            immediate: true,
            handler(newVal, oldVal) {
                if (newVal) {
                    this.selectedObjects = [];
                    this.endpoint = `${this.method}/${newVal}`;
                    this.loadObjects();
                }
                // clear objects when relationName is empty (panel closed)
                if (newVal === '') {
                    Object(sleep_promise__WEBPACK_IMPORTED_MODULE_4__["default"])(500).then(() => this.objects = []);
                }
            },
        },

        /**
         * Loading event emit
         *
         * @param {String} value The value associated to loading
         *
         * @emits Event#loading
         *
         * @return {void}
         */
        loading(value) {
            this.$emit('loading', value);
        },
    },

    methods: {
        // Events Listeners

        /**
         * listen to FilterBoxView event filter-objects
         *
         * @param {Object} filter
         *
         * @return {void}
         */
        onFilterObjects(filter) {
            this.activeFilter = filter;
            this.toPage(1, this.activeFilter);
        },

        /**
         * listen to FilterBoxView event filter-update-page-size
         *
         * @param {Number} pageSize
         *
         * @return {void}
         */
        onUpdatePageSize(pageSize) {
            this.setPageSize(pageSize);
            this.loadObjects(this.activeFilter);
        },

        /**
         * listen to FilterBoxView event filter-update-current-page
         *
         * @param {Number} page
         *
         * @return {void}
         */
        onUpdateCurrentPage(page) {
            this.toPage(page, this.activeFilter);
        },

        /**
         * send selected objects to relation view
         *
         * @return {void}
         */
        addRelationsToObject() {
            app_components_panel_view__WEBPACK_IMPORTED_MODULE_2__["PanelEvents"].sendBack('relations-add:save', this.selectedObjects);
        },

        /**
         * close panel
         *
         * @return {void}
         */
        closePanel() {
            app_components_panel_view__WEBPACK_IMPORTED_MODULE_2__["PanelEvents"].closePanel();
        },

        /**
         * create new object
         *
         * @param {HTMLElement} target form (Destructuring target from Event Object)
         *
         * @return {void}
         */
        async createObject({ target }) {
            if (!target) {
                // form element might be tempered
                return;
            }

            this.saving = true;
            this.loading = true;

            const formData = new FormData(target);

            // use file name if title is not provided
            if (formData.get('title') === '') {
                formData.set('title', this.titlePlaceholder);
            }

            formData.append('model-type', this.objectType);

            // save object
            const baseUrl = window.location.origin;
            const postUrl = `${baseUrl}/${this.objectType}/saveJson`;

            const options = {
                method: 'POST',
                credentials: 'same-origin',
                headers: {
                    'accept': 'application/json',
                    'X-CSRF-Token': this.getCSFRToken(),
                },
                body: formData,
            };

            try {
                const response = await fetch(postUrl, options);
                const responseJson = await response.json();

                let createdObjects = (Array.isArray(responseJson.data) ? responseJson.data : [responseJson.data]) || [];

                // add newly added object to list / selected
                this.objects = createdObjects.concat(this.objects);
                this.selectedObjects = createdObjects.concat(this.selectedObjects);
                this.resetForm(target);
            } catch (error) {
                // need a modal to better handling of errors
                if (error.code === 20) {
                    throw error;
                } else {
                    alert('Error while uploading/creating new object. Retry');
                    console.error(error);
                }
                this.resetForm(target, true);
            } finally {
                this.saving = false;
                this.loading = false;
            }
        },

        /**
         * check if object is not selectable
         *
         * @param {Number} id
         *
         * @returns {Boolean}
         */
        isUnselectableObject(id) {
            const addedIds = this.addedObjects.map(obj => obj.id);
            return this.alreadyInView.concat(addedIds).indexOf(id) !== -1;
        },

        /**
         * update objects already added
         *
         * @param {Object} object
         *
         * @returns {void}
         */
        addToAlreadyInView(object) {
            this.addedObjects.push(object);
        },

        /**
         * remove object from addedObjects list
         *
         * @returns {void}
         */
        removeFromAlreadyInView(object) {
            this.addedObjects = this.addedObjects.filter((added) => added.id !== object.id);
        },

        elementClasses(related) {
            return [
                `from-relation-${this.relationName}`,
                {
                    selected: this.selectedObjects.indexOf(related) != -1,
                    unselectable: this.isUnselectableObject(related.id),
                }
            ]
        },

        /**
         * clear form
         *
         * @param {HTMLElement} form create new object form
         * @param {Boolean} showForm keep showing form (default = false)
         *
         * @return {void}
         */
        resetForm(form, showForm = false) {
            form.reset();
            this.titlePlaceholder = 'title';
            this.showCreateObjectForm = showForm;
        },

        /**
         * set file, object type and placeholder
         *
         * @param {HTMLElement} target input file element
         *
         * @return {Boolean} file process success
         */
        processFile({ target }) {
            this.file = target.files[0];
            if (!this.file) {
                return false;
            }

            this.objectType = this.getObjectType(this.file);
            this.titlePlaceholder = this.file && this.file.name;

            return true;
        },

        /**
         * get BEobject type from file's mimetype
         *
         * @param {File} file
         *
         * @return {String} object type
         */
        getObjectType(file) {
            let type = file.type && file.type.split('/')[0];
            const hasPlural = /audio/g.test(type) ? '' : 's';

            if (this.knownTypes.indexOf(type) === -1) {
                type = 'file';
            }
            return `${type}${hasPlural}`;
        },

        /**
         * Return true if specified pagination page link must be shown
         *
         * @param {Number} page The pagination page number
         *
         * @return {boolean} True if show page link
         */
        paginationPageLinkVisible(page) {
            if (this.pagination.page_count <= 7) {
                // show till 7 links
                return true;
            }
            if (page === 1 || page === this.pagination.page_count) {
                // show first and last page link
                return true;
            }
            if (page >= this.pagination.page - 1 && page <= this.pagination.page + 1) {
                // show previous and next page link
                return true;
            }

            return false;
        },

        /**
         * Add/remove elements to selectedObjects list
         *
         * @param {Object} object The object
         * @param {Event} evt The event
         * @return {void}
         */
        toggle(object, evt) {
            let position = this.selectedObjects.indexOf(object);
            if (position != -1) {
                this.selectedObjects.splice(position, 1);
            } else {
                this.selectedObjects.push(object);
            }
        },

        /**
         * Load objects (using filter and pagination)
         *
         * @emits Event#count
         *
         * @param {Object} filter filter object
         *
         * @return {Promise} repsonse from server
         */
        async loadObjects(filter) {
            this.objects = [];
            this.loading = true;
            let response = await this.getPaginatedObjects(true, filter);
            this.loading = false;
            this.$emit('count', this.pagination.count);

            return response;
        },

        /**
         * Go to specific page
         *
         * @param {Number} page The page number
         * @param {Object} filter filter object
         *
         * @return {Promise} The response from server with new data
         */
        async toPage(page, filter) {
            this.objects = [];
            this.loading = true;
            let response = await app_mixins_paginated_content__WEBPACK_IMPORTED_MODULE_1__["PaginatedContentMixin"].methods.toPage.call(this, page, filter);
            this.loading = false;

            return response;
        },

        /**
         * helper function: build open view url
         *
         * @param {String} objectType
         * @param {Number} objectId
         *
         * @return {String} url
         */
        buildViewUrl(objectType, objectId) {
            return `${window.location.protocol}/${window.location.host}/${objectType}/view/${objectId}`;
        },
    },
});


/***/ }),

/***/ "./src/Template/Layout/js/app/components/relation-view/relationships-view/relationships-view.js":
/*!******************************************************************************************************!*\
  !*** ./src/Template/Layout/js/app/components/relation-view/relationships-view/relationships-view.js ***!
  \******************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var app_mixins_paginated_content__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/mixins/paginated-content */ "./src/Template/Layout/js/app/mixins/paginated-content.js");
/**
 * Templates that uses this component (directly or indirectly):
 *  Template/Elements/relations.twig
 *
 * <relationships-view> component used for ModulesPage -> View
 *
 */



/* harmony default export */ __webpack_exports__["default"] = ({
    mixins: [ app_mixins_paginated_content__WEBPACK_IMPORTED_MODULE_0__["PaginatedContentMixin"] ],

    // props used by parent
    props: {
        relationName: {
            type: String,
            required: true,
        },
        viewVisibility: {
            type: Boolean,
            default: () => false,
        },
        addedRelations: {
            type: Array,
            default: () => [],
        },
        // relations already related to the object
        hideRelations: {
            type: Array,
            default: () => [],
        }
    },

    computed: {
        keyEvents() {
            return {
                'esc': {
                    keyup: this.handleKeyboard,
                }
            };
        },
    },

    data() {
        return {
            method: 'relationshipsJson',    // define AppController method to be used
            loading: false,
            pendingRelations: [],           // pending elements to be added
            relationsData: [],              // hidden field containing serialized json passed on form submit
            isVisible: false,
        }
    },

    /**
     * setup correct endpoint for PaginatedContentMixin.getPaginatedObjects()
     *
     * @return {void}
     */
    created() {
        this.endpoint = `${this.method}/${this.relationName}`;
    },

    watch: {
        /**
         * watch elements staged from relation-view (view can delete last added elements before saving)
         *
         * @param {Array} relations
         *
         * @return {void}
         */
        addedRelations(relations) {
            this.pendingRelations = relations;
        },

        /**
         * watch pendingRelations Array and prepare it for saving using serialized json input field
         *
         * @param {Array} relations
         *
         * @return {void}
         */
        pendingRelations(relations) {
            this.relationsData = this.relationFormatterHelper(relations);
        },

        /**
         * set isVisible value from property's viewVisibility change
         *
         * @param {Boolean} value
         *
         * @return {void}
         */
        viewVisibility(value) {
            this.isVisible = value;
        },

        /**
         * emit event to parent
         * load data when empty
         * @event 'visibility-setter'
         *
         * @return {void}
         */
        isVisible() {
            if (!this.objects.length) {
                this.loadObjects();
            }
            // avoid problem with vue rendering queue
            this.$nextTick( () => {
                if (this.isVisible && this.$refs.inputFilter) {
                    this.$refs.inputFilter.focus();
                }
            });

            // emit event to pass data to parent
            this.$emit('visibility-setter', this.isVisible);
        },

        loading(value) {
            this.$parent.$emit('loading', value);
        }
    },

    methods: {
        /**
         * load objects using PaginatedContentMixin.getPaginatedObjects()
         *
         * @return {Promise} resp
         */
        async loadObjects() {
            this.loading = true;

            let response = this.getPaginatedObjects();

            response
                .then((objs) => {
                    this.loading = false;
                    return objs;
                })
                .catch((error) => {
                    // code 20 is user aborted fetch which is ok
                    if (error.code !== 20) {
                        this.loading = false;
                        console.error(error);
                    }
                });

            return response;
        },

        /**
         * send addedRelations to parent view
         *
         * @return {void}
         */
        appendRelations() {
            this.$emit('append-relations', this.pendingRelations);

            this.isVisible = false;
        },

        /**
         * handles ESC keyboard up event to hide current view
         *
         * @param {Event} event
         */
        handleKeyboard(event) {
            if (this.isVisible) {
                event.stopImmediatePropagation();
                event.preventDefault();
                this.hideRelationshipModal()
            }
        },

        /**
         * set component view's visibility to false
         * reset pendingRelations
         *
         * @return {void}
         */
        hideRelationshipModal() {
            this.pendingRelations = this.addedRelations;
            this.isVisible = false;
        },

        /**
         * helper function for template
         *
         * @return {Boolean} true if has at least a related object or a newly added object
         */
        hasElementsToShow() {
            const visible = this.objects.filter((obj) => {
                return !this.hideRelations.filter( (hidden) => obj.id === hidden.id).length;
            });
            return visible.length;
        },

        /**
         * helper function: convert array to string
         *
         * @param {Array} relations
         *
         * @return {String} string version of relations
         */
        relationFormatterHelper(relations, objectType) {
            let jsonString = '';
            try {
                jsonString = JSON.stringify(relations);
            } catch(err) {
                console.error(err);
            }
            return jsonString;
        },

        /**
         * helper function: check if array relations has element with id -> id
         *
         * @param {Array} relations
         * @param {Number} id
         *
         * @return {Boolean} true if id is in Array relations
         */
        containsId(relations, id) {
            return relations.filter((rel) => rel.id === id).length;
        },

    }

});


/***/ }),

/***/ "./src/Template/Layout/js/app/components/relation-view/roles-list-view.js":
/*!********************************************************************************!*\
  !*** ./src/Template/Layout/js/app/components/relation-view/roles-list-view.js ***!
  \********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var app_components_relation_view_relationships_view_relationships_view__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/components/relation-view/relationships-view/relationships-view */ "./src/Template/Layout/js/app/components/relation-view/relationships-view/relationships-view.js");
/**
 * Templates that uses this component (directly or indirectly):
 *  Template/Elements/roles.twig
 *
 * <roles-list-view> component used for ModulesPage -> View
 *
 * @inheritdoc
 *
 * @extends RelationshipsView
 *
 * @prop {Array} relatedObjects array of related objects
 *
 */




/* harmony default export */ __webpack_exports__["default"] = ({
    extends: app_components_relation_view_relationships_view_relationships_view__WEBPACK_IMPORTED_MODULE_0__["default"],

    data() {
        return {
            method: 'resourcesJson',
            removedRelations: [],
        }
    },

    props: {
        relatedObjects: {
            type: Array,
            default: () => [],
        },
    },

    /**
     * load content after component is mounted
     *
     * @return {void}
     */
    mounted() {
        this.loadObjects();
    },

    computed: {
        checkedRelations: {
            /**
             * getter of checkedRelations combines:
             * - relatedObjects
             * - pendingRelations
             * minus:
             * - removedRelations
             *
             * @returns {Array} all checked relations
             */
            get: function() {
                return this.relatedObjects.concat(this.pendingRelations).filter(rel => !this.containsId(this.removedRelations, rel.id));
            },

            /**
             * setter of checkedrelations:
             * add to pendingRelations newly added relation
             * add to removedRelations unchecked relation that are already in relatedObjects
             *
             * @emits Event#remove-relations params: relationsToRemove
             *
             * @returns {void}
            */
            set: function(newValue) {
                // handles relations to be added
                let relationsToAdd = newValue.filter((rel) => !this.containsId(this.relatedObjects, rel.id));
                this.pendingRelations = relationsToAdd;

                // handles relations to be removed
                let relationsToRemove = this.relatedObjects.filter((rel) => !this.containsId(newValue, rel.id));
                this.removedRelations = relationsToRemove;

                // emit event to pass data to parent
                this.$emit('remove-relations', relationsToRemove);
            }
        }
    },
});


/***/ }),

/***/ "./src/Template/Layout/js/app/components/tree-view/tree-list/tree-list.js":
/*!********************************************************************************!*\
  !*** ./src/Template/Layout/js/app/components/tree-view/tree-list/tree-list.js ***!
  \********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/**
 * Templates that uses this component (directly or indirectly):
 *  Template/Elements/trees.twig
 *
 * <tree-list> component used for ModulesPage -> View
 *
 * modes:
 * - single-choice tree
 * - multiple-choice tree
 *
 * @prop {Boolean} multipleChoice (default true)
 * @prop {String} captionField specify which field of the object is to be used a caption
 * @prop {String} childrenField specify which field of the object is to be used a children
 * @prop {Object} item object of this node
 * @prop {Array} relatedObjects list of already related Objects
 *
 */

/* harmony default export */ __webpack_exports__["default"] = ({
    name: 'tree-list',

    template: `
        <div
            class="tree-list-node"
            :class="treeListMode">

            <div v-if="!isRoot">
                <div v-if="multipleChoice"
                    class="node-element"
                    :class="{
                        'tree-related-object': isRelated,
                        'disabled': isCurrentObjectInPath,
                        'node-folder': isFolder,
                    }">

                    <span
                        @click.prevent.stop="toggle"
                        class="icon"
                        :class="nodeIcon"
                        ></span>
                    <input
                        type="checkbox"
                        :value="item"
                        v-model="related"
                    />
                    <label
                        @click.prevent.stop="toggle"
                        :class="isFolder ? 'is-folder' : ''"><: caption :></label>
                </div>
                <div v-else class="node-element"
                    :class="{
                        'tree-related-object': isRelated || stageRelated,
                        'was-related-object': isRelated && !stageRelated,
                        'disabled': isCurrentObjectInPath
                    }"

                    @click.prevent.stop="select">
                    <span
                        @click.prevent.stop="toggle"
                        class="icon"
                        :class="nodeIcon"
                        ></span>
                    <label><: caption :></label>
                </div>
            </div>
            <div :class="isRoot ? '' : 'node-children'" v-show="open" v-if="isFolder">
                <tree-list
                    @add-relation="addRelation"
                    @remove-relation="removeRelation"
                    @remove-all-relations="removeAllRelations"
                    v-for="(child, index) in item.children"
                    :key="index"
                    :item="child"
                    :multiple-choice="multipleChoice"
                    :related-objects="relatedObjects"
                    :object-id=objectId>
                </tree-list>
            </div>
        </div>
    `,

    data() {
        return {
            stageRelated: false,
            related: false,
            open: true,
        }
    },

    props: {
        multipleChoice: {
            type: Boolean,
            default: true,
        },
        captionField: {
            type: String,
            required: false,
            default: 'name',
        },
        childrenField: {
            type: String,
            required: false,
            default: 'children',
        },
        item: {
            type: Object,
            required: true,
            default: () => {},
        },
        relatedObjects: {
            type: Array,
            default: () => [],
        },
        objectId: {
            type: String,
            required: false,
        }
    },

    computed: {
        /**
         * caption used in label
         *
         * @return {String}
         */
        caption() {
            return this.item[this.captionField];
        },

        /**
         * check if current node is a folder
         *
         * @return {Boolean}
         */
        isFolder() {
            return this.item.children &&
                !!this.item.children.length;
        },

        /**
         * check if current node is a root node
         *
         * @return {Boolean}
         */
        isRoot() {
            return this.item.root || false;
        },

        /**
         * check if current node is already related
         *
         * @return {Boolean}
         */
        isRelated() {
            if (!this.item.id) {
                return false;
            }

            return !!this.relatedObjects.filter(related => related.id === this.item.id).length;
        },

        /**
         * check if current object is in item path
         */
        isCurrentObjectInPath() {
            return this.item && this.item.object && this.item.object.meta.path.indexOf(this.objectId) !== -1;
        },

        /**
         * compute correct icon css class name according to this node
         *
         * @return {String} css class name
         */
        nodeIcon() {
            let css = '';
            css += this.isFolder
                ? this.open
                    ? 'icon-down-dir'
                    : 'icon-right-dir'
                : 'unicode-branch'

            return css;
        },

        /**
         * compute correct css class name according to this node
         *
         * @return {String} css class name
         */
        treeListMode() {
            let css = [];
            if (this.isRoot) {
                css.push('root-node');
            }

            if (!this.multipleChoice) {
                css.push('tree-list-single-choice');
            } else {
                css.push('tree-list-multiple-choice');
            }

            if (this.isCurrentObject) {
                css.push('disabled');
            }

            return css.join(' ');
        }
    },

    watch: {
        /**
         * watch related used as model for tree-list in multiple-choice mode, used as model for checkboxes
         * set the stageRelated value
         *
         * @return {void}
         */
        related(value) {
            this.stageRelated = value;
        },

        /**
         * watch stageRelated used as model for tree-list in single-choice mode and triggers an event according to the state of t
         * - true: add-relation
         * - false: remove-relation
         *
         * @return {void}
         */
        stageRelated(value) {
            if (!this.item.object) {
                return;
            }
            if (value) {
                this.$emit('add-relation', this.item.object);
            } else {
                this.$emit('remove-relation', this.item.object);
            }
        },

        /**
         * watch relatedObjects and check if is already related
         *
         * @return {void}
         */
        relatedObjects() {
            this.related = this.isRelated;
        },
    },

    methods: {
        /**
         * toggle children visibility
         *
         * @return {void}
         */
        toggle() {
            if (this.isFolder) {
                this.open = !this.open;
            }
        },

        /**
         * triggers add-relation event in order to pass object to upper component
         * tree-view handles the addition
         *
         * @param {Object} rel
         *
         * @return {void}
         */
        addRelation(rel) {
            this.$emit('add-relation', rel);
        },

        /**
         * triggers remove-relation event in order to pass object to upper component
         * tree-view handles the removal
         *
         * @param {Object} rel
         *
         * @return {void}
         */
        removeRelation(rel) {
            this.$emit('remove-relation', rel);
        },

        /**
         * triggers remove-all-relations event in order to remove all pending relations
         *
         * @return {void}
         */
        removeAllRelations() {
            this.$emit('remove-all-relations');
        },

        /**
         * single-choice mode: select current tree entry for staging
         *
         * @return {void}
         */
        select() {
            // avoid user selecting same tree item (or in path) as current object
            if (this.isCurrentObjectInPath) {
                return;
            }
            // TO-DO handle folder removal from tree or folder as root

            // let oldValue = this.stageRelated;
            this.$emit('remove-all-relations');
            // if (oldValue) {
            //     this.$emit('add-relation', { id: null, type: 'folders'});
            // }
            this.stageRelated = !this.stageRelated;
        }
    }
});


/***/ }),

/***/ "./src/Template/Layout/js/app/components/tree-view/tree-view.js":
/*!**********************************************************************!*\
  !*** ./src/Template/Layout/js/app/components/tree-view/tree-view.js ***!
  \**********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var app_components_relation_view_relationships_view_relationships_view__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/components/relation-view/relationships-view/relationships-view */ "./src/Template/Layout/js/app/components/relation-view/relationships-view/relationships-view.js");
/* harmony import */ var app_components_tree_view_tree_list_tree_list__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/components/tree-view/tree-list/tree-list */ "./src/Template/Layout/js/app/components/tree-view/tree-list/tree-list.js");
/* harmony import */ var sleep_promise__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! sleep-promise */ "./node_modules/sleep-promise/build/esm.mjs");
/**
 * Templates that uses this component (directly or indirectly):
 *  Template/Elements/trees.twig
 *
 * <tree-view> component used for ModulesPage -> View
 *
 * @prop {String} relationName
 * @prop {Boolean} loadOnStart load content on component init
 * @prop {Boolean} multipleChoice
 *
 */





/* harmony default export */ __webpack_exports__["default"] = ({
    extends: app_components_relation_view_relationships_view_relationships_view__WEBPACK_IMPORTED_MODULE_0__["default"],
    components: {
        TreeList: app_components_tree_view_tree_list_tree_list__WEBPACK_IMPORTED_MODULE_1__["default"]
    },

    props: {
        relatedObjects: {
            type: Array,
            default: () => [],
        },
        loadOnStart: [Boolean, Number],
        multipleChoice: {
            type: Boolean,
            default: true,
        },
    },

    data() {
        return {
            jsonTree: {},   // json tree version of the objects list based on path
        }
    },

    /**
     * load content if flag set to true after component is created
     *
     * @return {void}
     */
    created() {
        this.loadTree();
    },

    watch: {
        /**
         * watch pendingRelations used as a model for view's checkboxes and separates relations in
         * ones to be added and ones to be removed according to the already related objects Array
         *
         * @param {Array} pendingRels
         */
        pendingRelations(pendingRels) {
            // handles relations to be added
            let relationsToAdd = pendingRels.filter((rel) => {
                return !this.isRelated(rel.id);
            });

            if (!this.multipleChoice) {
                if(relationsToAdd.length) {
                    relationsToAdd = relationsToAdd[0];
                }
            }

            const isChanged = !!relationsToAdd.length;
            this.$el.dispatchEvent(new CustomEvent('change', {
                bubbles: true,
                detail: {
                    id: this.$vnode.tag,
                    isChanged,
                }
            }));

            this.relationsData = this.relationFormatterHelper(relationsToAdd);

            // handles relations to be removes
            let relationsToRemove = this.relatedObjects.filter((rel) => {
                return !this.isPending(rel.id);
            });

            // emit event to pass data to parent
            this.$emit('remove-relations', relationsToRemove);
        },

        /**
         * watch objects and insert already related objects into pendingRelations
         *
         * @return {void}
         */
        objects() {
            this.pendingRelations = this.objects.filter((rel) => {
                return this.isRelated(rel.id);
            });
        },
    },

    methods: {
        /**
         * check loadOnStart prop and load content if set to true
         *
         * @return {void}
         */
        async loadTree() {
            if (this.loadOnStart) {
                var t = (typeof this.loadOnStart === 'number')? this.loadOnStart : 0;
                await Object(sleep_promise__WEBPACK_IMPORTED_MODULE_2__["default"])(t);
                await this.loadObjects();
                this.jsonTree = {
                    name: 'Root',
                    root: true,
                    object: {},
                    children: this.createTree(),
                };
            }
        },

        /**
         * add an object from pendingrelations Array if not present
         *
         * @event add-relation triggered from sub components
         *
         * @param {Object} related
         *
         * @return {void}
         */
        addRelation(related) {
            if (!related || !related.id === undefined) {
                console.error('[addRelation] needs first param (related) as {object} with property id set');
                return;
            }
            if (!this.containsId(this.pendingRelations, related.id)) {
                this.pendingRelations.push(related);
            }
        },

        /**
         * remove an object from pendingRelations Array
         *
         * @event remove-relation triggered from sub components
         *
         * @param {Object} related
         *
         * @return {void}
         */
        removeRelation(related) {
            if (!related || !related.id) {
                console.error('[removeRelation] needs first param (related) as {object} with property id set');
                return;
            }
            this.pendingRelations = this.pendingRelations.filter(pending => pending.id !== related.id);
        },

        /**
         * remove all related objects from pendingRelations Array
         *
         * @event remove-all-relations triggered from sub components
         *
         * @return {void}
         */
        removeAllRelations() {
            this.pendingRelations = [];
            this._setChildrenData(this, 'stageRelated', false);
        },

        /**
         * util function to set recursively all sub-components 'dataName' var with dataValue
         *
         * @param {Object} obj
         * @param {String} dataName
         * @param {any} dataValue
         */
        _setChildrenData(obj, dataName, dataValue) {
            if (obj !== undefined && dataName in obj) {
                obj[dataName] = dataValue;
            }

            obj.$children.forEach(child => {
                this._setChildrenData(child, dataName, dataValue);
            });
        },

        /**
         * create a json Tree from a list of objects with path
         *
         * @return {Object} json tree
         */
        createTree() {
            let jsonTree = [];
            this.objects.forEach((obj) => {
                let path = obj.meta.path && obj.meta.path.split('/');
                if (path.length) {
                    // Remove first blank element from the parts array.
                    path.shift();

                    // initialize currentLevel to root
                    let currentLevel = jsonTree;

                    path.forEach((id) => {
                        // check to see if the path already exists.
                        let existingPath = this.findPath(currentLevel, id);


                        if (existingPath) {
                            // The path to this item was already in the tree, so I set the current level to this path's children
                            currentLevel = existingPath.children;
                        } else {
                            // create a new node
                            let currentObj = obj;

                            // if current object is not the same as the discovered node get it from objects array
                            if (currentObj.id !== id) {
                                currentObj = this.findObjectById(id);
                            }

                            let newNode = {
                                id: id,
                                related: this.isRelated(id),
                                name: currentObj.attributes.title || '',
                                object: currentObj,
                                children: [],
                            };

                            currentLevel.push(newNode);
                            currentLevel = newNode.children;
                        }
                    });
                }
            });

            return jsonTree;
        },

        /**
         * check if part is already contained in the tree
         *
         * @param {Number} paths
         * @param {Number} part
         *
         * @return {Object|Boolean}
         */
        findPath(paths, part) {
            let path = paths.filter(path => path.id === part);
            return path.length ? path[0] : false;
        },

        /**
         * check if relatedObjects contains object with a specific id
         *
         * @param {Number} id
         *
         * @return {Boolean}
         */
        isRelated(id) {
            return this.relatedObjects.filter((relatedObject) => {
                return id === relatedObject.id;
            }).length ? true : false;
        },

        /**
         * check if pendingRelations contains object with a specific id
         *
         * @param {Number} id
         *
         * @return {Boolean}
         */
        isPending(id) {
            return this.pendingRelations.filter((pendingRelation) => {
                return id === pendingRelation.id;
            }).length ? true : false;
        },
    }
});


/***/ }),

/***/ "./src/Template/Layout/js/app/components/upload-files-view.js":
/*!********************************************************************!*\
  !*** ./src/Template/Layout/js/app/components/upload-files-view.js ***!
  \********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var app_components_panel_view__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/components/panel-view */ "./src/Template/Layout/js/app/components/panel-view.js");
/* harmony import */ var app_mixins_dragdrop__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/mixins/dragdrop */ "./src/Template/Layout/js/app/mixins/dragdrop.js");
/* harmony import */ var app_mixins_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/mixins/fetch */ "./src/Template/Layout/js/app/mixins/fetch.js");
/* harmony import */ var ttag__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ttag */ "./node_modules/ttag/dist/index.js");
/* harmony import */ var ttag__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(ttag__WEBPACK_IMPORTED_MODULE_3__);
/**
 * View component used for uploading files and create media media object
 *
 *
 * @property {FileList} files
 * @property {Array} acceptedFiles
 * @property {Array} knownTypes
 *
 * @requires FetchMixin
 * @requires DragdropMixin
 */






/* harmony default export */ __webpack_exports__["default"] = ({
    mixins: [ app_mixins_dragdrop__WEBPACK_IMPORTED_MODULE_1__["DragdropMixin"], app_mixins_fetch__WEBPACK_IMPORTED_MODULE_2__["FetchMixin"] ],

    inject: ['getCSFRToken'],

    template: /*template*/`
    <div class="upload-files">
        <section class="upload-list" droppable accepted-drop=".from-files">
            <div class="upload-info"
                :key="index"
                v-for="(info, index) in Array.from(uploadProgressInfo.values())">

                <span class="name"><: info.file.name :></span>

                <button v-show="!info.error && !info.cancelled && !info.done"
                    class="abort icon-cancel"
                    :class="{'is-loading-spinner': info.pending }"
                    @click="abortUpload(info.file)">
                </button>
                <button v-show="!info.error && !info.cancelled && info.done" class="success icon-ok"></button>
                <button v-show="info.error || info.cancelled" class="retry icon-ccw" @click="tryUpload([info.file])"></button>

                <div class="progress-bar">
                    <div class="progress-bar-status" :class="progressBarCss(info)" :style="progressBarStep(info)"></div>
                </div>
                <div class="error">
                    <: info.errorMsg :>
                </div>
            </div>
        </section>
        <footer v-show="actionRequired">
            <button v-show="showAddSuccesfulUploadsButton" class="has-background-info has-text-white add-uploads-action"
                @click.prevent="addSuccesfulUploads()"><: t('Add Uploaded') :>
            </button>
            <button class="has-background-info has-text-white retry-action"
                @click.prevent="tryUpload(getFailedUploads())"><: t('Retry All') :>
            </button>
            <button class="has-background-info has-text-white"
                @click.prevent="closePanel()"><: t('Close ') :>
            </button>
        </footer>

    </div>
    `,

    props: {
        files: {
            type: FileList,
            required: true,
        },

        acceptedFiles: {
            type: Array,
            default: () => [],
        },

        knownTypes: {
            type: Array,
            default: () => ['audio', 'video', 'image'],
        }
    },

    data() {
        return {
            createdObjects: [], // list of created objects after upload
            uploadProgressInfo: new Map(), // real-time upload status
            axiosCancelTokens: new Map(), // Map of all axios cancel token
            actionRequired: false, // true when upload was manually cancelled or terminated with errors
            showAddSuccesfulUploadsButton: false,
        }
    },

    mounted() {
        this.$on('drop-files', (ev, transfer) => {
            let files = transfer.files;
            if (files) {
                // on drop-file event add files to upload queue
                this.tryUpload(this.setupProgress(this.filterAcceptedFiles(files)));
            }
        });

        // filter file list according to acceptedFiles
        // setup upload progress info list
        // start upload
        this.tryUpload(this.setupProgress(this.filterAcceptedFiles(this.files)));
    },

    destroyed() {
        this.uploadProgressInfo.clear();
    },

    watch: {
        createdObjects: {
            handler(val) {
                this.showAddSuccesfulUploadsButton = !!val.length && !this.isUploadInProgress();
            },
            deep: true,
            immediate: true,
        },

        files: {
            handler(files) {
                this.tryUpload(this.setupProgress(this.filterAcceptedFiles(files)));
            },
            deep: true,
        },
    },

    methods: {
        /**
         * (View Helper) return style for progress bar according to current progress
         *
         * @param {Object} info entry for upload
         *
         * @return {Object} style object
         */
        progressBarStep(info) {
            return { width: `${info.progress}%` };
        },

        /**
         * (View Helper) return css for progress bar according to upload status
         *
         * @param {Object} info entry for upload
         *
         * @return {Object} css object
         */
        progressBarCss(info) {
            return {
                done: info.done,
                error: info.error,
                pending: info.pending,
                'in-progress': !info.done && !info.error && info.progress,
                cancelled: info.cancelled
            };
        },

        /**
         * (View Action) abort upload of file
         *
         * @param {Object} file
         *
         * @return {void}
         */
        abortUpload(file) {
            if (this.axiosCancelTokens.get(file)) {
                this.axiosCancelTokens.get(file).cancel(Object(ttag__WEBPACK_IMPORTED_MODULE_3__["t"])('Operation canceled by the user'));
            }
        },

        /**
         * filter file list according to acceptedFiles prop
         * doesn't filter if acceptedFiles' empty
         *
         * @param {FileList} files
         *
         * @return {Array} of accettable files
         */
        filterAcceptedFiles(files = []) {
            return [...files].filter(file => {
                if (this.acceptedFiles.length === 0) {
                    return true;
                }
                return !!this.acceptedFiles.filter(accepted => file.type.includes(accepted)).length;
            } )
        },

        /**
         * setup initial upload progress list info
         *
         * @param {FileList} files
         *
         * @return {FileList} unfiltered files
         */
        setupProgress(files) {
            let added = [];
            for (let i = 0; i < files.length; i++) {
                let file = files[i];
                if (this.addProgressInfo(file)) {
                    added.push(file);
                }
            }
            return added;
        },

        /**
         * add succesful file uploads, discard failed uploads
         *
         * @return {void}
         */
        addSuccesfulUploads() {
            app_components_panel_view__WEBPACK_IMPORTED_MODULE_0__["PanelEvents"].sendBack('upload-files:save', this.createdObjects)
        },

        /**
         * start parallel files upload
         *
         * @param {FileList} files
         *
         * @return {void}
         */
        async tryUpload(files) {
            this.actionRequired = false;

            try {
                await this.startFilesUpload(files);

                if (!this.getFailedUploads().length) {
                    if (this.areAllUploadFulfilled()) {
                        // give the user the time to see the feedback
                        setTimeout(() => app_components_panel_view__WEBPACK_IMPORTED_MODULE_0__["PanelEvents"].sendBack('upload-files:save', this.createdObjects), 500);
                    }
                } else {

                    this.actionRequired = true;
                }
            } catch (err) {
                this.actionRequired = true;
            }
        },

        /**
         * initial setup upload info
         *
         * @param {File} file file
         *
         * @return {void}
         */
        addProgressInfo(file) {
            const uploadId = `${file.lastModified}${file.size}`;
            if (this.uploadProgressInfo.has(uploadId)) {
                return false;
            }

            this.uploadProgressInfo.set(uploadId, {
                file,
                progress: 0,
                cancelled: false,
                pending: false,
                done: false,
                error: false,
                errorMsg: '',
            });

            this.$forceUpdate();
            return true;
        },

        /**
         * set correct values for upload info entry of specified file
         * it uses a Map object, that is as of ver 2.5 of vue not reactive
         * so at the end of method this.$forceUpdate() needs to be called
         *
         * @param {File} file file
         * @param {Number} progress progress status
         * @param {Boolean} cancelled upload was cancelled
         * @param {Boolean} error upload terminated with error
         * @param {Boolean} done  upload succesful
         * @param {String} errorMsg error message
         *
         * @return {void}
         */
        setProgressInfo(file, progress = 0, cancelled = false, error = false, done = false, errorMsg = '') {
            const uploadId = `${file.lastModified}${file.size}`;
            const pending = !done && !cancelled && !error && progress === 100;

            if (progress < 0) {
                // if progress < 0 it means the caller don't know progress status but don't want to reset it in the view
                // so it recovers progress data from old uploadProgressInfo entry
                if (this.uploadProgressInfo.has(uploadId)) {
                    const info = this.uploadProgressInfo.get(uploadId);
                    progress = info.progress;
                }
            }

            this.uploadProgressInfo.set(uploadId, {
                file,
                progress,
                cancelled,
                pending,
                done,
                error,
                errorMsg,
            });

            // force vue to render (an object Map is not reactive in vue)
            this.$forceUpdate();
        },

        /**
         * for each file start uploading process
         *
         * @param {FileList} files
         *
         * @return {Array} of axios promises
         */
        startFilesUpload(files) {
            let promises = [];
            for (let i = 0; i < files.length; i++) {
                promises.push(
                    this.createObject(files[i])
                        .then((newObject) => {
                            if (newObject) {
                                this.createdObjects.push(newObject);
                            }
                            return Promise.resolve(newObject);
                        })
                        .catch((err) => Promise.reject(err))
                );
            }
            return this.getAxios().all(promises);
        },

        /**
         * get file list of failed uploads
         *
         * @return {Array} failed files
         */
        getFailedUploads() {
            let files = [];
            this.uploadProgressInfo.forEach((element) => {
                if (element.error || element.cancelled) {
                    files.push(element.file);
                }
            });

            return files;
        },

        /**
         * check if all uploads are succesful
         *
         * @return {Boolean} true if all uploads were succesful
         */
        areAllUploadFulfilled() {
            const allDone = (acc, element) => acc = acc && element.done;
            return [...this.uploadProgressInfo.values()].reduce(allDone, true);
        },

        /**
        * get file list of failed uploads
        *
        * @return {Array} failed files
        */
        isUploadInProgress() {
            const isInProgress = (acc, element) => acc = acc || element.pending || !(element.done || element.cancelled || element.error);
            return [...this.uploadProgressInfo.values()].reduce(isInProgress, false);
        },

        /**
         * create new object from file
         *
         * @param {File} file
         *
         * @return {Object|Boolean} created BEObject or false if failed creating
         */
        createObject(file) {
            if (!file) {
                return false;
            }

            // create form data
            const formData = this.createFormData(file);

            // set url
            const objectType = this.getObjectType(file);
            const url = `/${objectType}/saveJson`;

            // setup Cancel token for axios
            const CancelToken = this.getAxios().CancelToken;
            const source = CancelToken.source();
            this.axiosCancelTokens.set(file, source);

            // progress bar callback
            const handleUploadProgress = (progressEvent) => {
                const progress = parseInt(Math.round((progressEvent.loaded * 100) / progressEvent.total));
                this.setProgressInfo(file, progress);
            }

            // config object for axios request
            const config = {
                onUploadProgress: handleUploadProgress,
                onUploadCancelled: () => this.setProgressInfo(file, -1, true, false, false, 'Upload Cancelled'),
                onUploadError: (err) => this.setProgressInfo(file, 100, false, true, false, `Error from server: ${err.message ? err.message : ''}`),
                onUploadSuccess: () => this.setProgressInfo(file, 100, false, false, true),
                cancelToken: source.token
            }

            // call and returns uploadFileRequest
            return this.uploadFileRequest(url, formData, config);
        },

        /**
         * get BEobject type from file's mimetype
         *
         * @param {File} file
         *
         * @return {String} object type
         */
        getObjectType(file) {
            let type = file.type && file.type.split('/')[0];
            const hasPlural = /audio/g.test(type) ? '' : 's';

            if (this.knownTypes.indexOf(type) === -1) {
                type = 'file';
            }
            return `${type}${hasPlural}`;
        },

        /**
         * create formData object for "multipart/form-data" upload
         *
         * @param {File} file
         *
         * @return {Object} formData
         */
        createFormData(file) {
            const objectType = this.getObjectType(file);
            const formData = new FormData();

            // create formData
            formData.append('title', file.name);
            formData.append('status', 'on');
            formData.append('file', file);
            formData.append('model-type', objectType);

            return formData;
        },

        /**
         * make axios post request and hanlde error / cancellation / success accordi to callbacks object
         *
         * @param {String} url
         * @param {FormData} formData
         * @param {Objects} callbacks config file for axios
         *
         * @return {Promise} axios promise
         */
        uploadFileRequest(url, formData, callbacks) {
            return this.axios.post(url, formData, callbacks)
                .then(response => {
                    let data = response.data && response.data.data;
                    if (data) {
                        if (Array.isArray(data)) {
                            data = data[0];
                        }
                        callbacks.onUploadSuccess(data);
                        return Promise.resolve(data);
                    }
                    return Promise.reject(response);
                })
                .catch((error) => {
                    if (this.getAxios().isCancel(error)) {
                        callbacks.onUploadCancelled();
                        return Promise.reject(error);
                    }
                    callbacks.onUploadError(error);
                    return Promise.reject(error);
                });
        },

        /**
         * Close Panel without saving
         *
         * @returns {void}
         */
        closePanel() {
            app_components_panel_view__WEBPACK_IMPORTED_MODULE_0__["PanelEvents"].closePanel();
        },
    },
});


/***/ }),

/***/ "./src/Template/Layout/js/app/directives/datepicker.js":
/*!*************************************************************!*\
  !*** ./src/Template/Layout/js/app/directives/datepicker.js ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var flatpickr_dist_flatpickr_min__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! flatpickr/dist/flatpickr.min */ "./node_modules/flatpickr/dist/flatpickr.min.js");
/* harmony import */ var flatpickr_dist_flatpickr_min__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(flatpickr_dist_flatpickr_min__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var flatpickr_dist_flatpickr_min_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! flatpickr/dist/flatpickr.min.css */ "./node_modules/flatpickr/dist/flatpickr.min.css");
/* harmony import */ var flatpickr_dist_flatpickr_min_css__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(flatpickr_dist_flatpickr_min_css__WEBPACK_IMPORTED_MODULE_2__);
/**
 * Datepicker vue directive
 *
 */






const dateTimePickerOptions = {
    enableTime: true,
    altInput: true,
    dateFormat: 'Z', // ISO8601 for db
    altFormat: 'D/M/Y HH:mm', // moment format / visible
    animate: false,
    time_24hr: true,
};

const datepickerOptions = {
    enableTime: false,
    altInput: true,
    dateFormat: 'Z', // ISO8601 for db
    altFormat: 'D/M/Y', // moment format / visible
    animate: false,
    time_24hr: true,
};

/* harmony default export */ __webpack_exports__["default"] = ({
    install(Vue) {
        Vue.directive('datepicker', {
            /**
             * create flatpicker instance when element is inserted
             *
             * @param {Object} element DOM object
             */
            inserted (element, dir, vueEl) {
                let options = datepickerOptions;

                if (vueEl.data && vueEl.data.attrs && vueEl.data.attrs.time === 'true') {
                    options = dateTimePickerOptions;
                }

                // custom format Date so we can show the current timezone
                options.formatDate = (dateObj, format) => {
                    // this value goes to the hidden input which will be saved, needs to be a correct ISO8601
                    if (format === 'Z') {
                        return moment__WEBPACK_IMPORTED_MODULE_1___default()(dateObj).toISOString();
                    }
                    // or else timezone infos will be added to date string
                    let now = new Date();
                    let offset = now.getTimezoneOffset();
                    let tmz = offset / 60;
                    let sgn = tmz < 0 ? '+' : '-';
                    let formatUTC = `${format} (UTC${sgn}${Math.abs(tmz)})`;
                    return moment__WEBPACK_IMPORTED_MODULE_1___default()(dateObj).format(formatUTC);
                }

                try {
                    let datePicker = flatpickr_dist_flatpickr_min__WEBPACK_IMPORTED_MODULE_0___default()(element, options);
                    element.dataset.originalValue = element.value;
                    // element._flatpickr = datePicker;

                    let clearButton = document.createElement('span');
                    clearButton.classList.add('clear-button');
                    clearButton.innerHTML = '&times;';
                    clearButton.addEventListener('click', (ev) => {
                        ev.preventDefault()
                        ev.stopPropagation();
                        datePicker.clear();
                    });

                    element.parentElement.appendChild(clearButton);
                } catch (err) {
                    console.error(err);
                }
            },
        })
    }
});


/***/ }),

/***/ "./src/Template/Layout/js/app/directives/jsoneditor.js":
/*!*************************************************************!*\
  !*** ./src/Template/Layout/js/app/directives/jsoneditor.js ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var jsoneditor_dist_jsoneditor_minimalist__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jsoneditor/dist/jsoneditor-minimalist */ "./node_modules/jsoneditor/dist/jsoneditor-minimalist.js");
/* harmony import */ var jsoneditor_dist_jsoneditor_minimalist__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jsoneditor_dist_jsoneditor_minimalist__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var jsoneditor_dist_jsoneditor_min_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jsoneditor/dist/jsoneditor.min.css */ "./node_modules/jsoneditor/dist/jsoneditor.min.css");
/* harmony import */ var jsoneditor_dist_jsoneditor_min_css__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jsoneditor_dist_jsoneditor_min_css__WEBPACK_IMPORTED_MODULE_1__);
/**
 *
 * v-jsoneditor directive to activate jsoneditor on element
 *
 */




const options = {
    mode: 'code',
    modes: ['tree', 'code'],
    history: true,
    search: true,
};

/* harmony default export */ __webpack_exports__["default"] = ({
    install(Vue) {
        Vue.directive('jsoneditor', {
            /**
             * create jsoneditor instance when element is inserted
             *
             * @param {Object} element DOM object
             */
            inserted (element) {
                const content = element.value;
                try {
                    const json = content !== "" && JSON.parse(content) || {};

                    if (json) {
                        element.style.display = "none";
                        let container = document.createElement('div');
                        container.className = 'jsoneditor-container';
                        element.parentElement.insertBefore(container, element);
                        element.dataset.originalValue = element.value;
                        let editorOptions = Object.assign(options, {
                            onChange: function () {
                                try {
                                    const json = element.jsonEditor.get();
                                    element.value = JSON.stringify(json);
                                    console.info('valid json :)');

                                    let isChanged = element.value !== element.dataset.originalValue;
                                    element.dispatchEvent(new CustomEvent('change', {
                                        bubbles: true,
                                        detail: {
                                            id: element.id,
                                            isChanged,
                                        }
                                    }));
                                } catch(e) {
                                    console.warn('still not valid json');
                                }
                            },
                        });
                        element.jsonEditor = new jsoneditor_dist_jsoneditor_minimalist__WEBPACK_IMPORTED_MODULE_0___default.a(container, editorOptions);
                        element.jsonEditor.set(json);
                    }
                } catch (err) {
                    console.error(err);
                }
            },
        })
    }
});


/***/ }),

/***/ "./src/Template/Layout/js/app/directives/richeditor.js":
/*!*************************************************************!*\
  !*** ./src/Template/Layout/js/app/directives/richeditor.js ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var config_config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! config/config */ "./src/Template/Layout/js/config/config.js");
/**
 *
 * v-richeditor directive to activate ckeditor on element
 *
 */



/* harmony default export */ __webpack_exports__["default"] = ({
    install(Vue) {
        Vue.directive('richeditor', {
            /**
             * When the bound element is inserted into the init CKeditor
             *
             * @param {Object} element DOM object
             */
            inserted (element) {
                const configKey = element.getAttribute('ckconfig');
                let loadedConfig = {};
                if (config_config__WEBPACK_IMPORTED_MODULE_0__["CkeditorConfig"]) {
                    loadedConfig = config_config__WEBPACK_IMPORTED_MODULE_0__["CkeditorConfig"][configKey];
                }

                let editor = CKEDITOR.replace(element, loadedConfig);
                element.dataset.originalValue = element.value;
                editor.on('change', () => {
                    element.value = editor.getData();
                    let isChanged = element.value !== element.dataset.originalValue;
                    element.dispatchEvent(new CustomEvent('change', {
                        bubbles: true,
                        detail: {
                            id: element.id,
                            isChanged,
                        }
                    }));
                });
            },
        })
    }
});


/***/ }),

/***/ "./src/Template/Layout/js/app/helpers/view.js":
/*!****************************************************!*\
  !*** ./src/Template/Layout/js/app/helpers/view.js ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.js");
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(vue__WEBPACK_IMPORTED_MODULE_0__);


/* harmony default export */ __webpack_exports__["default"] = ({
    install (Vue, options) {
        Vue.prototype.$helpers = {
            /**
            * helper function: build open view url
            *
            * @param {String} objectType
            * @param {Number} objectId
            *
            * @return {String} url
            */
            buildViewUrl(objectId) {
                return `${BEDITA.base}/view/${objectId}`;
            },

            /**
            * Force download using a syntetic element
            *
            * @param {*} blob
            * @param {*} filename
            */
            forceDownload(blob, filename) {
                let a = document.createElement('a');
                a.download = filename;
                a.href = blob;
                a.click();
            },

            /**
            * download a resource as a blob to avoid cors restrictions
            *
            * @param {string} url
            * @param {string} filename
            */
            downloadResource(url, filename) {
                if (!filename) {
                    filename = url.split('\\').pop().split('/').pop();
                }

                const options = {
                    headers: new Headers({
                        'Origin': location.origin
                    }),
                    mode: 'cors'
                }

                fetch(url, options)
                    .then(response => response.blob())
                    .then(blob => {
                        let blobUrl = window.URL.createObjectURL(blob);
                        this.forceDownload(blobUrl, filename);
                    })
                    .catch(e => console.error(e));
            }
        }
    }
});


/***/ }),

/***/ "./src/Template/Layout/js/app/locales.js":
/*!***********************************************!*\
  !*** ./src/Template/Layout/js/app/locales.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return setupLocale; });
/* harmony import */ var ttag__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ttag */ "./node_modules/ttag/dist/index.js");
/* harmony import */ var ttag__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(ttag__WEBPACK_IMPORTED_MODULE_0__);


/**
 * Setup locale using locale parameter
 */
function setupLocale(locale) {
    if (locale) {
        // Locale is the webpack alias that points to src/Locale
        const translationObj = __webpack_require__("./src/Locale sync recursive ^\\.\\/.*\\/default\\.po$")(`./${locale}/default.po`);
        Object(ttag__WEBPACK_IMPORTED_MODULE_0__["addLocale"])(locale, translationObj);
        Object(ttag__WEBPACK_IMPORTED_MODULE_0__["useLocale"])(locale);
    }
}


/***/ }),

/***/ "./src/Template/Layout/js/app/mixins/dragdrop.js":
/*!*******************************************************!*\
  !*** ./src/Template/Layout/js/app/mixins/dragdrop.js ***!
  \*******************************************************/
/*! exports provided: DragdropMixin */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DragdropMixin", function() { return DragdropMixin; });
/* harmony import */ var app_mixins_observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/mixins/observable */ "./src/Template/Layout/js/app/mixins/observable.js");
/**
 * Mixins: DragdropMixin
 *
 * enables drag/drop events on main element $el
 *
 * TO-DO advanced drag-drop feature... sortable...
 *
 * - define drop target with dynamic prop droppable (this.$el as default);
 * - define draggable elements with draggable prop
 * - define accepted-drop element with :accepted-drop as array of
 *   DOM selectors (. for classes, # for ids, <element> for dom elements)
 *   to allow drop of files add from-files selector, or any for everything
 *
 * @requires ObservableMixin
 *
 * @prop {Array} acceptedDrop
 *
 * @emits dragstart
 * @emits dragover
 * @emits dragover-once
 * @emits dragleave
 * @emits drop
 */



let dragdropPayload = {};
let draggedData = {};
let draggedElement = null;

const DragdropMixin = {
    mixins: [ app_mixins_observable__WEBPACK_IMPORTED_MODULE_0__["ObservableMixin"] ],

    props: {
        acceptedDrop: {
            type: Array,
            default: () => [],
        }
    },

    data() {
        return {
            attrs: ['droppable', 'accepted-drop'], // observed attributes
            from: {},
            overElement: null,
            dropElement: null,
            acceptedDropArray: [],
            draggableElements: [],
            dragOverFirst: true,
            antiGlitchTimer: null,
            _dropEnabled: false,
        }
    },

    mounted() {
        this.initDroppableElements();
        this.initDraggableElements();
    },

    updated() {
        this.initDroppableElements();
        this.initDraggableElements();
    },

    destroyed() {
        // clean up
        this.dropElement.removeEventListener('dragover', this.onDragover, false);
        this.dropElement.removeEventListener('dragleave', this.onDragleave, false);
        this.dropElement.removeEventListener('drop', this.onDrop, false);
        if (this.draggableElements.length) {
            this.$el.removeEventListener('dragstart', this.onDragstart, false);
        }
    },

    methods: {
        /**
         * ovveride of ObservableMixin onAttributeChanges
         *
         * @param {Array} mutationsList
         * @param {Function} observer
         *
         * @return {void}
         */
        onAttributeChanges(mutationsList, observer) {
            for(var mutation of mutationsList) {
                if (mutation.type == 'attributes') {
                    if (mutation.attributeName === 'droppable') {
                        this.enableDrop();
                        this.dropElement = mutation.target;
                    } else if (mutation.attributeName === 'accepted-drop') {
                        let accepted = mutation.target.getAttribute('accepted-drop');
                        if (accepted) {
                            this.acceptedDropArray = accepted.split(',');
                        }
                    }
                }
            }
        },

        /**
         *  init drop events for droppable element
         *
         *  @return {void}
         */
        initDroppableElements() {
            // default droppable element
            this.dropElement = this.$el;

            if (this.dropElement) {
                // search for a specific drop target
                let dropElementInView = this.$el.querySelector('[droppable]');
                if (dropElementInView) {
                    this.enableDrop();
                    this.dropElement = dropElementInView;
                    let accepted = dropElementInView.getAttribute('accepted-drop');
                    if (accepted) {
                        this.acceptedDropArray = accepted.split(',');
                    }
                }

                // setup Drop events
                this.dropElement.addEventListener('drop', this.onDrop, true);
                this.dropElement.addEventListener('dragover', this.onDragover, true);
                this.dropElement.addEventListener('dragleave', this.onDragleave, true);
            }
        },

        /**
         * init drag event on draggable elements
         *
         *  @return {void}
         */
        initDraggableElements() {
            // check if at least 1 draggable is defined in component view
            let draggables = this.$el.querySelectorAll('[draggable]');
            if (draggables.length) {
                // if so set up dragstart event
                this.draggableElements = draggables;
                this.$el.addEventListener('dragstart', this.onDragstart, true);
                this.$el.addEventListener('dragend', this.onDragend, true);
            }
        },

        /**
         * set dragdrop info data in Event property dragdrop.
         * ev.dragdrop = {
         *    dragged, // DOM element
         *    over, // DOM element
         *    drop, // DOM element
         *    data // Custom data
         * }
         *
         * @param {Event} ev mouse event
         * @param {Object} data
         *
         * @return {void}
         */
        setDragdropData() {
            dragdropPayload = {
                dragged: draggedElement,
                over: this.overElement,
                drop: this.dropElement,
                data: draggedData,
            }
        },

        /**
         * drag start event callback
         * set current draggedElement
         *
         * @emits Event#dragstart
         *
         * @param {Event} ev mouse event
         *
         * @return {void}
         */
        onDragstart(ev) {
            draggedElement = ev.target;
            let dragData = draggedElement.getAttribute('drag-data');

            try {
                draggedData = JSON.parse(dragData);
            } catch (e) {
                console.error('failed parsing drag data');
            }
            this.setDragdropData();
            this.$emit('dragstart', ev, draggedData);
        },


        /**
         * drag over event callback
         * check if current dragged element is accepted by drop target
         * if true set dragover class to drop target and emits events
         *
         * @param {Event} ev mouse event
         *
         * @emits Event#dragover-once first dragover
         * @emits Event#dragover continuous dragover
         *
         * @return {void}
         */
        onDragover(ev) {
            ev.preventDefault();
            ev.stopPropagation();

            if (!this._dropEnabled) {
                return;
            }

            // check if draggable is accepted for drop target (if no rules are defined all draggable are accepted)
            let draggedElement = dragdropPayload.dragged;

            if (!this.isAcceptedDrag()) {
                return;
            }

            window.clearTimeout(this.antiGlitchTimer);
            this.overElement = ev.target;

            // set dragdrop data
            this.setDragdropData(ev);
            this.dropElement.classList.add('dragover');

            if (this.dragOverFirst) {
                this.dragOverFirst = false;
                this.$emit('dragover-once', ev);
            }

            this.$emit('dragover', ev);
        },

        /**
         * drag leave event callback
         * check for false positive (if mouse left element to enter in a child element)
         * if leave is legit removes dragover class from drop target
         * emit dragleave event
         *
         * @param {Event} ev mouse event
         *
         * @emits Event#dragleave
         *
         * @return {void}
         */
        onDragleave(ev) {
            ev.preventDefault();
            ev.stopPropagation();

            this.overElement = null,
            this.setDragdropData(ev);

            this.dragOverFirst = true;
            this.antiGlitchTimer = window.setTimeout(() => {
                this.dropElement.classList.remove('dragover');

                // check mouse location
                if (!this.isOverChild(ev)) {
                    this.$emit('dragleave');
                }
            }, 25);
        },

        onDragend(ev) {
            dragdropPayload = {};
            draggedData = {};
            draggedElement = null;
        },

        /**
         * drop event callback
         * remove dragover class from drop target
         * always emits dragleave
         * check for files in dataTransfer object
         * if true emits drop-files with special payload
         *
         * @param {Event} ev mouse event
         *
         * @emits Event#dragleave
         * @emits Event#drop-files
         * @emits Event#drop
         *
         * @return {void}
         */
        onDrop(ev) {
            ev.preventDefault();
            ev.stopPropagation();

            if (!this._dropEnabled || !this.isAcceptedDrag()) {
                return;
            }

            this.setDragdropData(ev);

            // still emit dragleave and remove class
            this.dropElement.classList.remove('dragover');
            this.$emit('dragleave');

            let files = ev.target.files || ev.dataTransfer.files;

            if (files.length) {
                // add files to payload
                dragdropPayload.files = files;
                this.$emit('drop-files', ev, dragdropPayload);
            } else {
                this.$emit('drop', ev, dragdropPayload);
            }

            draggedElement = null;
        },

        /**
         * check if mouse coordinates are over any child DOM elements of main dropElement
         *
         * @param {Event} ev mouse event
         *
         * @return {Boolean} true if mouse entered a child element
         */
        isOverChild(event) {
            if (!this.dropElement) {
                return false;
            }
            let rect = this.dropElement.getBoundingClientRect();

            // mouse outside browser
            const actualInnerWidth = document.body.clientWidth;
            const actualInnerHeight = document.body.clientHeight;
            // console.log('event', event.clientX, event.clientY, actualInnerWidth, actualInnerHeight)
            if (event.clientX <= 0 || event.clientY <= 0 || event.clientX > actualInnerWidth || event.clientY > actualInnerHeight) {
                return false;
            }
            // mouse inside child element
            if (event.clientY >= rect.top && event.clientY <= rect.bottom && event.clientX >= rect.left && event.clientX <= rect.right) {
                return true;
            }

            // mouse outside element
            return false;
        },

        /**
         * check if dragged element is accepted from drop target
         *
         * @returns {Boolean}
         */
        isAcceptedDrag() {
            // default: allow for any selector
            if (this.acceptedDropArray.indexOf('any') !== -1) {
                return true;
            }
            let isValid = this.acceptedDropArray.indexOf('from-files') !== -1;
            if (this.acceptedDropArray.length && draggedElement) {
                isValid = this.acceptedDropArray.reduce((status, query) => status = status || draggedElement.matches(query), false);
            }
            return isValid;
        },

        /**
         * disable drop
         *
         * @returns {void}
         */
        disableDrop() {
            this._dropEnabled = false;
        },

        /**
         * enable drop
         *
         * @returns {void}
         */
        enableDrop() {
            this._dropEnabled = true;
        },
    }
}


/***/ }),

/***/ "./src/Template/Layout/js/app/mixins/fetch.js":
/*!****************************************************!*\
  !*** ./src/Template/Layout/js/app/mixins/fetch.js ***!
  \****************************************************/
/*! exports provided: FetchMixin */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FetchMixin", function() { return FetchMixin; });
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ "./node_modules/axios/index.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_0__);
/**
 * Fetch mixin used to comunicate with cake controller's method
 *
 * TO-DO: handle token timeout
 *
 * @requires BEDITA global object
 */



// private var to prevent tempering
let privateAxios;

const FetchMixin = {
    created() {
        privateAxios = this.createCustomAxios();
    },

    computed: {
        axios() {
            return privateAxios;
        }
    },

    methods: {
        /**
        * set up axios api
        *
        * @return {Object} custom axios instance
        */
        createCustomAxios() {
            return axios__WEBPACK_IMPORTED_MODULE_0___default.a.create({
                baseURL: BEDITA.base,
                timeout: 30000,
                credentials: 'same-origin',
                headers: {
                    'accept': 'application/json',
                    'content-type': 'multipart/form-data',
                    'X-CSRF-Token': this.getCSFRToken(),
                },

                validateStatus: (status) => {
                    return status >= 200 && status < 300; // default
                },
            });
        },

        /**
         * get axios Factory
         */
        getAxios() {
            return axios__WEBPACK_IMPORTED_MODULE_0___default.a;
        },
    }
}


/***/ }),

/***/ "./src/Template/Layout/js/app/mixins/observable.js":
/*!*********************************************************!*\
  !*** ./src/Template/Layout/js/app/mixins/observable.js ***!
  \*********************************************************/
/*! exports provided: ObservableMixin */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObservableMixin", function() { return ObservableMixin; });
/**
 * Mixins: ObservableMixin
 *
 * enables DOM attrs observation in mixin/components
 *
 */

const ObservableMixin = {
    data() {
        return {
            _mutationObserver: null,
            attrs: [],
        }
    },

    mounted() {
        this.setMutationObserver(this.attrs);
    },

    destroyed() {
        this._mutationObserver.disconnect();
    },

    methods: {
        /**
         * setup cascade observation of attributes on this.$el DOM element
         *
         * @param {Array} attrs of attributes
         *
         * @return {void}
         */
        setMutationObserver(attrs) {
            this._mutationObserver = new MutationObserver(this.onAttributeChanges);
            this._mutationObserver.observe(this.$el, {
                attributes: true,
                attributeFilter: attrs,
                subtree: true,
                attributeOldValue: true,
            });
        },

        /**
         * set attrs to observe with callback onAttributeChanges()
         *
         * @param {Array} attrs
         */
        setObservableAttrs(attrs) {
            this.attrs = attrs;
            this._mutationObserver.disconnect();
            this.setMutationObserver(this.attrs);
        },

        /**
         * placeholder function, override to apply observable logic
         *
         * @param {Array} mutationsList
         * @param {Object} observer
         */
        onAttributeChanges(mutationsList, observer) { },
    }
}


/***/ }),

/***/ "./src/Template/Layout/js/app/mixins/paginated-content.js":
/*!****************************************************************!*\
  !*** ./src/Template/Layout/js/app/mixins/paginated-content.js ***!
  \****************************************************************/
/*! exports provided: DEFAULT_PAGINATION, DEFAULT_FILTER, PaginatedContentMixin */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DEFAULT_PAGINATION", function() { return DEFAULT_PAGINATION; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DEFAULT_FILTER", function() { return DEFAULT_FILTER; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaginatedContentMixin", function() { return PaginatedContentMixin; });
/* harmony import */ var assert__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! assert */ "./node_modules/assert/assert.js");
/* harmony import */ var assert__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(assert__WEBPACK_IMPORTED_MODULE_0__);


/**
 * Mixins: PaginatedContentMixin
 *
 *
 */

const DEFAULT_PAGINATION = {
    count: 0,
    page: 1,
    page_size: 20,
    page_count: 1,
}

/**
 * default filter object
 */
const DEFAULT_FILTER = {
    q: '',
    filter: {
        type: [],
    }
}

const PaginatedContentMixin = {
    data() {
        return {
            requestsQueue: [], // array of queued fetch requests
            requestController: new AbortController(), // AbortController instance

            objects: [],
            endpoint: null,

            pagination: DEFAULT_PAGINATION,
            query: {},
            formatObjetsFilter: ['params', 'priority', 'position', 'url'],
        }
    },

    methods: {
        /**
         * fetch paginated objects based on this.endpoint value
         *
         * @param {Boolean} autoload if false it doesn't update this.objects [DEFAULT = true]
         * @param {Object} query The query filter object
         *
         * @return {Promise} repsonse from server
         */
        getPaginatedObjects(autoload = true, query = {}) {
            let baseUrl = window.location.href;

            if (this.endpoint) {
                if (query) {
                    this.query = query;
                }
                let requestUrl = `${baseUrl}/${this.endpoint}`;
                const options =  {
                    credentials: 'same-origin',
                    headers: {
                        'accept': 'application/json',
                    }
                };

                requestUrl = this.getUrlWithPaginationAndQuery(requestUrl);

                // if requestQueue is populated then abort all fetch request and start over
                if (this.requestsQueue.length > 0) {
                    this.requestController.abort();
                    this.requestController = new AbortController();
                }

                options.signal = this.requestController.signal;

                let currentRequest = fetch(requestUrl, options)
                    .then((response) => response.json())
                    .then((json) => {
                        this.requestsQueue.pop();

                        let objects = (Array.isArray(json.data) ? json.data : [json.data]) || [];
                        if (!json.data) {
                            // api response with error
                            objects = [];
                        }

                        // if requestQueue is empty it means that this request is the last of the queue
                        // therefore it can load objects and pagination
                        if (this.requestsQueue.length < 1) {
                            if (autoload) {
                                this.objects = objects;
                            }
                            this.pagination = json.meta && json.meta.pagination || this.pagination;

                            return objects;
                        }

                        return false;
                    })
                    .catch((error) => {
                        this.requestsQueue.pop();
                        // code 20 is aborted fetch by user which needs to be passed down the promise road
                        if (error.code === 20) {
                            throw error;
                        } else {
                            console.error(error);
                        }
                    });

                this.requestsQueue.push(currentRequest);

                return currentRequest;
            } else {
                return Promise.reject();
            }
        },

        /**
         * format objects for api calls
         *
         * @param {Array} objects
         *
         * @returns {Array} of formatted objects
         */
        formatObjects(objects) {
            if (objects === undefined) {
                return [];
            }
            const formattedObjects = [];

            objects.forEach((obj) => {
                let formattedObj = {};
                // keep id and type
                formattedObj.id = obj.id;
                formattedObj.type = obj.type;

                // search for meta.relation using this.formatObjectsFilter
                const metaRelation = obj.meta.relation;
                if (metaRelation) {
                    let formattedMeta = {};
                    this.formatObjetsFilter.forEach((filter) => {
                        if (metaRelation[filter]) {
                            formattedMeta[filter] = metaRelation[filter];
                        }
                    });

                    if (Object.keys(formattedMeta).length) {
                        formattedObj.meta = { relation: formattedMeta };
                    }
                }
                formattedObjects.push(formattedObj);
            });

            return formattedObjects;
        },

        /**
         * Add pagination info to endpoint url
         *
         * @param {String} url
         *
         * @return {String} formatted url
         */
        setPagination(url) {
            let pagination = '';
            let qi = '?';
            const separator = '&';

            Object.keys(this.pagination).forEach((key, index) => {
                pagination += `${index ? separator : ''}${key}=${this.pagination[key]}`;
            });

            let hasQueryIdentifier = url.indexOf(qi) === -1;
            if (!hasQueryIdentifier) {
                qi = '&';
            }
            return `${url}${qi}${pagination}`;
        },

        /**
         * Get formatted url with query filter
         *
         * @param {String} url The endpoint url
         * @return {String} The formatted url
         */
        getUrlWithPaginationAndQuery(url) {
            let queryString = '';
            let qi = '?';
            const separator = '&';

            Object.keys(this.pagination).forEach((key, index) => {
                queryString += `${index ? separator : ''}${key}=${this.pagination[key]}`;
            });
            if (queryString.length > 1) {
                queryString += separator;
            }
            Object.keys(this.query).forEach((key, index) => {
                const query = this.query[key];
                let entry = `${key}=${query}`;

                // parse filter property
                if (key === 'filter') {
                    let filter = '';
                    Object.keys(query).forEach((filterKey) => {
                        if (query[filterKey] !== '') {
                            filter += `filter[${filterKey}]=${query[filterKey]}`;
                        }
                    });

                    entry = filter;
                }
                queryString += `${index ? separator : ''}${entry}`;
            });

            let hasQueryIdentifier = url.indexOf(qi) === -1;
            if (!hasQueryIdentifier) {
                qi = '&';
            }
            return `${url}${qi}${queryString}`;
        },

        /**
         * find object with specific id
         *
         * @param {Number} id
         *
         * @return {Object}
         */
        findObjectById(id) {
            let obj = this.objects.filter(o => o.id === id);
            return obj.length && obj[0];
        },

        /**
         * append more objects to current array of objects
         *
         * @param {Number} qty number of elements to load
         *
         * @return {Promise} repsonse from server
         */
        async loadMore(qty = DEFAULT_PAGINATION.page_size) {
            if (this.pagination.page_items < this.pagination.count) {
                let moreObjects = await this.nextPage(false);
                this.pagination.page_items = this.pagination.page_items + qty <= this.pagination.count ? this.pagination.page_items + qty : this.pagination.count;
                // this.pagination.page--;

                const last = this.objects.length;
                this.objects.splice(last, 0, ...moreObjects);
            }
        },

        /**
         * Load page by page number and query string
         *
         * @param {Number} page The page number
         * @param {Object} query The query object (i.e. { q: 'search me' })
         */
        toPage(page, query = {}) {
            this.pagination.page = page || 1;
            return this.getPaginatedObjects(true, query);
        },

        /**
         * load first page of content
         *
         * @param {Boolean} autoload if false it doesn't update this.objects [DEFAULT = true]
         *
         * @return {Promise} repsonse from server with new data
         */
        firstPage(autoload = true) {
            if (this.pagination.page !== 1) {
                this.pagination.page = 1;

                return this.getPaginatedObjects(autoload);
            }

            return Promise.resolve([]);
        },

        /**
         * load last page of content
         *
         * @param {Boolean} autoload if false it doesn't update this.objects [DEFAULT = true]
         *
         * @return {Promise} repsonse from server with new data
         */
        lastPage(autoload = true) {
            if (this.pagination.page !== this.pagination.page_count) {
                this.pagination.page = this.pagination.page_count;

                return this.getPaginatedObjects(autoload);
            }

            return Promise.resolve([]);
        },

        /**
         * load next page of content
         *
         * @param {Boolean} autoload if false it doesn't update this.objects [DEFAULT = true]
         *
         * @return {Promise} repsonse from server with new data
         */
        nextPage(autoload = true) {
            if (this.pagination.page < this.pagination.page_count) {
                this.pagination.page = this.pagination.page + 1;

                return this.getPaginatedObjects(autoload);
            }

            return Promise.resolve([]);
        },

        /**
         * load previous page of content
         *
         * @param {Boolean} autoload if false it doesn't update this.objects [DEFAULT = true]
         *
         * @return {Promise} repsonse from server with new data
         */
        prevPage() {
            if (this.pagination.page > 1) {
                this.pagination.page = this.pagination.page - 1;

                return this.getPaginatedObjects();
            }

            return Promise.resolve();
        },

        /**
         * set Pagination page size
         *
         * @param {Number} size
         *
         * @return {void}
         */
        setPageSize(size) {
            this.pagination.page_size = size;
            this.pagination.page = 1;
        },
    }
}


/***/ }),

/***/ "./src/Template/Layout/js/app/mixins/relation-schema.js":
/*!**************************************************************!*\
  !*** ./src/Template/Layout/js/app/mixins/relation-schema.js ***!
  \**************************************************************/
/*! exports provided: RelationSchemaMixin */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RelationSchemaMixin", function() { return RelationSchemaMixin; });
/* harmony import */ var config_config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! config/config */ "./src/Template/Layout/js/config/config.js");
/**
 * Mixins: RelationSchemaMixin
 *
 * @prop {Boolean} tabOpen determines whether the property content is visible or not
 * @prop {String} label label of the property view
 * @
 *
 */



const RelationSchemaMixin = {
    data() {
        return {
            relationData: null,
            relationSchema: null,
            relationTypes: null,
            isRelationWithMedia: false,
        }
    },

    methods: {
        /**
         * retrieve json data for relation (this.relationName) and extrat params json schema
         *
         * @returns {Promise} promise with schema
         *
         */
        getRelationData() {
            let baseUrl = window.location.href;

            if (this.relationName) {
                // AppController endpoint for ajax request
                let requestUrl = `${baseUrl}/relationData/${this.relationName}`;

                const options =  {
                    credentials: 'same-origin',
                    headers: {
                        'accept': 'application/json',
                    }
                };

                if (this.relationData) {
                    return Promise.resolve(this.relationData);
                }

                return fetch(requestUrl, options)
                    .then((response) => response.json())
                    .then((json) => {
                        if (json.data && json.data.attributes) {
                            this.relationData = json.data.attributes;
                            this.relationSchema = this.getRelationSchema();
                            this.relationTypes = {
                                left: json.data.left,
                                right: json.data.right,
                            }

                            this.isRelationWithMedia = this.checkForMediaTypes(this.relationTypes.right);
                            return this.relationData;
                        }
                    })
                    .catch((error) => {
                        console.error(error);
                    });
            } else {
                console.error('[RelationSchemaMixin] relationName not defined - can\'t load relation schema');
                return Promise.reject();
            }
        },

        /**
         * check if passed array contains media types
         *
         * @param {Array} relatedTypes
         */
        checkForMediaTypes(relatedTypes) {
            const mediaChecker = (acc, entry) => acc = acc || config_config__WEBPACK_IMPORTED_MODULE_0__["ACCEPTABLE_MEDIA"].indexOf(entry) !== -1;
            return relatedTypes && relatedTypes.reduce(mediaChecker, false) || false;
        },

        /**
         * helper function to check if relation schema is loaded and relations has params
         *
         * @returns {Boolean} true if relation has params
         *
         */
        relationHasParams() {
            return this.relationData !== null && !!this.getRelationSchema();
        },

        /**
         * extract params json schema from relationData
         *
         * @returns {Object} params json schema
         *
         */
        getRelationSchema() {
            if (this.relationSchema === null) {
                this.relationSchema = this.relationData !== null && this.relationData.params && this.relationData.params.properties;
            }
            return this.relationSchema;
        },

        /**
         * helper function to get params value from an object according to bedita api convention
         *
         * @param {Object} object
         * @param {String} paramKey
         *
         * @returns {Boolean} true if relation has params
         *
         */
        getParamHelper(object, paramKey) {
            return object.meta.relation.params && object.meta.relation.params[paramKey] || null;
        },
    }
}


/***/ }),

/***/ "./src/Template/Layout/js/app/pages/import/index.js":
/*!**********************************************************!*\
  !*** ./src/Template/Layout/js/app/pages/import/index.js ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/**
 * Templates that uses this component (directly or indirectly):
 *  Template/Import/index.twig
 *
 * <modules-view> component used for ModulesPage -> View
 *
 */

 /* harmony default export */ __webpack_exports__["default"] = ({
    props: {
        jobs: {
            type: Array,
            default: () => [],
        },
        timeout: {
            type: Number,
            default: 5000,
        }
    },

    data() {
        return {
            fileName: '',
            currentJobs: () => [],
            showPayloadId: null,
        };
    },

    created() {
        this.currentJobs = this.jobs;
    },

    mounted() {
        setInterval(() => {
            this.updateJobs();
        }, this.timeout);
    },

    methods: {
        onFileChanged(e) {
            this.fileName = e.target.files[0].name;
        },

        /**
         * Update jobs.
         */
        updateJobs() {
            let requestUrl = `${BEDITA.base}/import/jobs`;

            const options =  {
                credentials: 'same-origin',
                headers: {
                    'accept': 'application/json',
                }
            };

            return fetch(requestUrl, options)
                .then((response) => response.json())
                .then((json) => {
                    if (json.jobs) {
                        this.currentJobs = json.jobs;
                        return this.currentJobs;
                    }
                })
                .catch((error) => {
                    console.error(error);
                });
        },

        /**
         * Toggle job payload to show
         * @param {int} jobId The job id
         */
        togglePayload(jobId) {
            if (this.showPayloadId == jobId) {
                this.showPayloadId = null;

                return;
            }

            this.showPayloadId = jobId;
        }
    }
});


/***/ }),

/***/ "./src/Template/Layout/js/app/pages/model/index.js":
/*!*********************************************************!*\
  !*** ./src/Template/Layout/js/app/pages/model/index.js ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var app_pages_modules_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/pages/modules/index */ "./src/Template/Layout/js/app/pages/modules/index.js");
/* harmony import */ var app_components_autosize_textarea__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/components/autosize-textarea */ "./src/Template/Layout/js/app/components/autosize-textarea.js");
/**
 * Templates that uses this component (directly or indirectly)
 *  Template/Pages/Model/index.twig
 *
 * <model-index> component used for ModulesPage -> Index
 *
 * @extends ModulesIndex
 */




/* harmony default export */ __webpack_exports__["default"] = ({
    extends: app_pages_modules_index__WEBPACK_IMPORTED_MODULE_0__["default"],

    components: {
        AutosizeTextarea: app_components_autosize_textarea__WEBPACK_IMPORTED_MODULE_1__["default"],
    },

    props: {
        resources: {},  // loaded resources from template
        csrfToken: {
            type: String,
            required: true,
        },   // csfrToken used for api call
    },

    /**
     * component properties
     *
     * @returns {Object}
     */
    data() {
        return {
            propertyTypes: [],  // loaded property_type objects
            deletedPropertyTypes: [],   // deleted property_type objects to be hidden
            savedPropertyTypes: [], // saved property_type objects to show
            newPropertyTypes: [],   // stage property_type objects TO ADD
            removePropertyTypes: [],    // stage property_type objects to REMOVE
            editPropertyTypes: [],  // stage property_type objects to EDIT
        };
    },

    mounted() {
        // parse resource list received from template
        this.propertyTypes = JSON.parse(this.resources);
    },

    computed: {
        /**
         * check if page has been modified, if so emits a change event
         *
         * @emits Event#change thrown when page has been modified
         *
         * @returns
         */
        formIsModified() {
            const isChanged = !!(this.newPropertyTypes.length || this.removePropertyTypes.length || this.editPropertyTypes.length);

            if (this.$el) {
                this.$el.dispatchEvent(new CustomEvent('change', {
                    bubbles: true,
                    detail: {
                        id: this.$vnode.tag,
                        isChanged,
                    },
                }));
            }
            return isChanged;
        }
    },

    /**
     * component methods
     */
    methods: {
        /**
         * edit property type params
         *
         * @param {Number} id resource id
         * @param {String} value params value
         *
         * @returns {void}
         */
        editPropParams(id, value) {
            let params = null;
            try {
                if (value !== "") {
                    params = JSON.parse(value);
                    if (!Object.keys(params).length) {
                        params = null;
                    }
                }
            } catch (error) {
                console.info('[editPropParams] params JSON parse failed - skipping this one...');
                return;
            }

            const editedType = {
                id,
                attributes: {
                    params: params,
                },
            }

            this.editPropertyType(editedType);
        },

        /**
        * edit property type name
        *
        * @param {Number} id resource id
        * @param {String} value name value
        *
        * @returns {void}
        */
        editPropName(id, value) {
            const editedType = {
                id,
                attributes: {
                    name: value,
                },
            }

            this.editPropertyType(editedType);
        },

        /**
         * add new empty object in newPropertyTypes array
         *
         * @returns {void}
         */
        addRow() {
            this.newPropertyTypes.push({
                name: "",
                params: ""
            });
        },

        /**
        * remove specific element from newPropertyTypes array
        *
        * @returns {void}
        */
        removeRow(element) {
            const index = this.newPropertyTypes.indexOf(element);
            if (index !== -1) {
                this.newPropertyTypes.splice(index, 1);
            }
        },

        /**
        * add specific element with {id} to removePropertyTypes array
        *
        * @param {Number} id id of object to remove
        *
        * @returns {void}
        */
        removePropertyType(id) {
            this.removePropertyTypes.push(id);
        },

        /**
         * unstage element from removePropertyTypes array
         *
         * @param {Number} id id to revert
         */
        undoRemovePropertyType(id) {
            const index = this.removePropertyTypes.indexOf(id);

            if (index !== -1) {
                this.removePropertyTypes.splice(index, 1);
            }
        },

        /**
         * save resources (add/edit/delete) using controller's method savePropertiesJson
         *
         * @param {Event} event click event
         *
         * @returns {void}
         */
        save(event) {
            if (this.removePropertyTypes.length) {
                if (!confirm(`Do you really want to trash these property types? ${this.removePropertyTypes.join(', ')}`)) {
                    event.preventDefault();
                    return;
                }
            }

            let fullUrl = window.location.href;
            let baseUrl = fullUrl.replace(window.location.search, '');

            let headers = new Headers({
                'Content-Type': 'application/json',
                'Accept': 'application/json',
                'X-CSRF-Token': this.csrfToken,
            });

            let payload = {
                _csrfToken: this.csrfToken,
                addPropertyTypes: [...this.newPropertyTypes],
                removePropertyTypes: [...this.removePropertyTypes],
                editPropertyTypes: [...this.editPropertyTypes],
            }

            const options = {
                method: 'POST',
                credentials: 'same-origin',
                headers,
                body: JSON.stringify( payload ),
            };

            const postUrl = `${baseUrl}/savePropertyTypesJson`;

            fetch(postUrl, options)
                .then((res) => res.json())
                .then((json) => {
                    const saved = json['saved'] || [];
                    const removed = json['removed'] || [];
                    const edited = json['edited'] || [];

                    // store saved property types
                    this.savedPropertyTypes.push(...saved);

                    // store removed property types
                    this.deletedPropertyTypes.push(...removed);

                    edited.forEach((entry) => {
                        // update propertyTypes list
                        this.propertyTypes = this.propertyTypes.map((propertyType) => {
                            if (propertyType.id === entry.id) {
                                return entry;
                            }
                            return propertyType;
                        });

                        this.savedPropertyTypes = this.savedPropertyTypes.map((propertyType) => {
                            // update savedPropertyTypes list
                            if (propertyType.id === entry.id) {
                                return entry;
                            }
                            return propertyType;
                        });
                    });

                    // clean up wrong jsons an restore original value
                    this.$children.forEach((component) => {
                        try {
                            JSON.parse(component.text);
                        } catch (error) {
                            // if new value is not valid, restore the previous one
                            component.text = component.originalValue;
                        }
                    });

                    // reset
                    this.newPropertyTypes = [];
                    this.removePropertyTypes = [];
                    this.editPropertyTypes = [];
                }).catch((err) => {
                    console.log(err);
                });
        },

        /**
         * setup edited element
         *
         * @param {Object} type edited propertyType element
         *
         * @returns {void}
         */
        editPropertyType(type) {
            // concat propertyTypes and savePropertyTypes
            let allPropertyTypes = [ ...this.propertyTypes, ...this.savedPropertyTypes];

            // find old value for current element
            const [original] = allPropertyTypes.filter((propertyType) => propertyType.id == type.id);

            // check if element already edited
            const exists = this.editPropertyTypes.filter((propertyType) => propertyType.id === type.id).length;
            if (exists) {
                // ..modify edited element
                this.editPropertyTypes = this.editPropertyTypes.map((propertyType) => {
                    if (propertyType.id === type.id) {
                        return {
                            id: type.id,
                            attributes: {...propertyType.attributes, ...type.attributes}
                        };
                    };
                    return propertyType;
                });
            } else {
                // add edited element
                this.editPropertyTypes.push(type);
            }

            // prune edited element that are equal to original value
            this.editPropertyTypes = this.editPropertyTypes.filter((propertyType) => {
                const equals = Object.keys(propertyType.attributes).filter(
                    (attributeName) => {
                        // very simple equivalency check
                        return JSON.stringify(propertyType.attributes[attributeName]) === JSON.stringify(original.attributes[attributeName]);
                    }
                ).length === Object.keys(propertyType.attributes).length;

                return !equals;
            });
        },

        /**
        * helper function: correctly format property params
        *
        * @param {Array} object array of property_types
        *
        * @return {void}
        */
        formatParams(object) {
            let formatted = '';

            if (object && object.attributes && object.attributes.params) {
                try {
                    formatted = JSON.stringify(object.attributes.params, null, 4);
                } catch (error) {
                    formatted = error.message;
                }
            }
            return formatted;
        },

        /**
        * helper function: check if array relations has element with id -> id
        *
        * @param {Array} relations array of relations
        * @param {Number} id id to compare
        *
        * @return {Boolean} true if id is in Array relations
        */
        containsId(array, id) {
            return array.filter((element) => {
                if (typeof element === 'object' && 'id' in element) {
                    return element.id === id;
                }
                return element === id
            }).length;
        },
    }
});


/***/ }),

/***/ "./src/Template/Layout/js/app/pages/modules/index.js":
/*!***********************************************************!*\
  !*** ./src/Template/Layout/js/app/pages/modules/index.js ***!
  \***********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/**
 * Templates that uses this component (directly or indirectly)
 *  Template/Modules/index.twig
 *
 * <modules-index> component used for ModulesPage -> Index
 *
 */

/* harmony default export */ __webpack_exports__["default"] = ({
    /**
     * Component properties
     *
     * @type {Object} props properties
     */
    props: {
        ids: {
            type: String,
            default: () => [],
        },
    },

    /**
     * component properties
     *
     * @returns {Object}
     */
    data() {
        return {
            allIds: [],
            selectedRows: [],
        };
    },

    /**
     * @inheritDoc
     */
    created() {
        try {
            this.allIds = JSON.parse(this.ids);
        } catch(error) {
            console.error(error);
        }
    },

    computed: {
        selectedIds() {
            return JSON.stringify(this.selectedRows);
        },
        allChecked() {
            return JSON.stringify(this.selectedRows.sort()) == JSON.stringify(this.allIds.sort());
        }
    },

    /**
     * component methods
     */
    methods: {
        /**
         * Click con check/uncheck all
         *
         * @return {void}
         */
        toggleAll() {
            if (this.allChecked) {
                this.unCheckAll();
            } else {
                this.checkAll();
            }
        },
        checkAll() {
            this.selectedRows = JSON.parse(JSON.stringify(this.allIds));
        },
        unCheckAll() {
            this.selectedRows = [];
        },

        /**
        * Submit bulk actions form
        *
        * @return {void}
        */
        bulkActions() {
            if (this.selectedRows.length < 1) {
                return;
            }
        },

        /**
         * Submit bulk export form
         *
         * @return {void}
         */
        exportSelected() {
            if (this.selectedRows.length < 1) {
                return;
            }
            document.getElementById('form-export').submit();
        },

        /**
         * Submit bulk export form for all objects by type
         *
         * @return {void}
         */
        exportAll() {
            this.unCheckAll();
            this.$nextTick(() => {
                document.getElementById('form-export').submit();
            });
        },

        /**
         * Submit bulk trash form
         *
         * @return {void}
         */
        trash() {
            if (this.selectedRows.length < 1) {
                return;
            }
            if (confirm('Move ' + this.selectedRows.length + ' item to trash')) {
                document.getElementById('form-delete').submit();
            }
        },

        /**
         * selects a row when triggered from a container target that is parent of the relative checkbox
         *
         * @return {void}
         */
        selectRow(event) {
            if(event.target.type != 'checkbox') {
                event.preventDefault();
                var cb = event.target.querySelector('input[type=checkbox]');
                let position = this.selectedRows.indexOf(cb.value);
                if (position != -1) {
                    this.selectedRows.splice(position, 1);
                } else {
                    this.selectedRows.push(cb.value);
                }
            }
        }
    }
});




/***/ }),

/***/ "./src/Template/Layout/js/app/pages/modules/view.js":
/*!**********************************************************!*\
  !*** ./src/Template/Layout/js/app/pages/modules/view.js ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var app_components_property_view_property_view__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/components/property-view/property-view */ "./src/Template/Layout/js/app/components/property-view/property-view.js");
/**
 * Templates that uses this component (directly or indirectly):
 *  Template/Modules/view.twig
 *
 * <modules-view> component used for ModulesPage -> View
 *
 */



/* harmony default export */ __webpack_exports__["default"] = ({

    components: {
        PropertyView: app_components_property_view_property_view__WEBPACK_IMPORTED_MODULE_0__["default"],
    },

    /**
     * component properties
     *
     * @returns {Object}
     */
    data() {
        return {
            tabsOpen: true,
        };
    },

    mounted() {
        window.addEventListener('keydown', this.toggleTabs);
    },

    methods: {
        toggleTabs(e) {
            let key = e.which || e.keyCode || 0;
            if(key === 27) {
                return this.tabsOpen = !this.tabsOpen;
            }
        },
    }
});


/***/ }),

/***/ "./src/Template/Layout/js/app/pages/trash/index.js":
/*!*********************************************************!*\
  !*** ./src/Template/Layout/js/app/pages/trash/index.js ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var app_pages_modules_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/pages/modules/index */ "./src/Template/Layout/js/app/pages/modules/index.js");
/**
 * Templates that uses this component (directly or indirectly)
 *  Template/Trash/index.twig
 *
 * <trash-index> component used for TrashPage -> Index
 *
 * @extends ModulesIndex
 */



/* harmony default export */ __webpack_exports__["default"] = ({
    extends: app_pages_modules_index__WEBPACK_IMPORTED_MODULE_0__["default"],
    methods: {
        /**
         * Submit bulk restore form
         *
         * @return {void}
         */
        restoreItem() {
            if (this.selectedRows.length < 1) {
                return;
            }
            document.getElementById('form-restore').submit();
        },

        /**
         * Submit bulk delete form
         *
         * @return {void}
         */
        deleteItem() {
            if (this.selectedRows.length < 1) {
                return;
            }
            if (confirm('Confirm deletion of ' + this.selectedRows.length + ' item from the trash')) {
                document.getElementById('form-delete').submit();
            }
        },
    }
});




/***/ }),

/***/ "./src/Template/Layout/js/app/pages/trash/view.js":
/*!********************************************************!*\
  !*** ./src/Template/Layout/js/app/pages/trash/view.js ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var app_pages_modules_view__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/pages/modules/view */ "./src/Template/Layout/js/app/pages/modules/view.js");
/**
 * Templates that uses this component (directly or indirectly)
 *  Template/Trash/view.twig
 *
 * <trash-view> component used for TrashPage -> View
 *
 * @extends ModulesView
 */




/* harmony default export */ __webpack_exports__["default"] = ({
    extends: app_pages_modules_view__WEBPACK_IMPORTED_MODULE_0__["default"],
});




/***/ }),

/***/ "./src/Template/Layout/js/config/config.js":
/*!*************************************************!*\
  !*** ./src/Template/Layout/js/config/config.js ***!
  \*************************************************/
/*! exports provided: VueConfig, VueOptions, ACCEPTABLE_MEDIA, CkeditorConfig */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "VueConfig", function() { return VueConfig; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "VueOptions", function() { return VueOptions; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ACCEPTABLE_MEDIA", function() { return ACCEPTABLE_MEDIA; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CkeditorConfig", function() { return CkeditorConfig; });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.js");
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(vue__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var app_locales__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/locales */ "./src/Template/Layout/js/app/locales.js");
/* harmony import */ var ttag__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ttag */ "./node_modules/ttag/dist/index.js");
/* harmony import */ var ttag__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(ttag__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var abortcontroller_polyfill_dist_abortcontroller_polyfill_only__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! abortcontroller-polyfill/dist/abortcontroller-polyfill-only */ "./node_modules/abortcontroller-polyfill/dist/abortcontroller-polyfill-only.js");
/* harmony import */ var abortcontroller_polyfill_dist_abortcontroller_polyfill_only__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(abortcontroller_polyfill_dist_abortcontroller_polyfill_only__WEBPACK_IMPORTED_MODULE_3__);
// Vue configs...





const VueConfig = {
    devtools: true,
}

const VueOptions = {
    delimiters: ['<:', ':>'],
}

// Polyfill


// merge vue options and configs
for (let property in VueConfig) {
    if (VueConfig.hasOwnProperty(property)) {
        vue__WEBPACK_IMPORTED_MODULE_0___default.a.config[property] = VueConfig[property];
    }
}

for (let property in VueOptions) {
    if (VueOptions.hasOwnProperty(property)) {
        vue__WEBPACK_IMPORTED_MODULE_0___default.a.options[property] = VueOptions[property];
    }
}

Object(app_locales__WEBPACK_IMPORTED_MODULE_1__["default"])(BEDITA.locale);

// General Configs

// TO-DO to be a dynamic array
const ACCEPTABLE_MEDIA = ['media', 'image', 'video', 'audio', 'files'];

// Global mixins

vue__WEBPACK_IMPORTED_MODULE_0___default.a.mixin({
    methods: {
        /**
         * ttag helper method for string literal template
         *
         * @param {string} value string to translate
         *
         * @return {string} translated value
          */
        t: (value) => {
            // call ttag t method
            return Object(ttag__WEBPACK_IMPORTED_MODULE_2__["t"])([value]);
        },
    }
});

// CKeditor configs...

const CkeditorConfig = {
    configFull: {
        toolbar: [
            { name: 'document', groups: [ 'mode' ], items: [ 'Source'] },
            { name: 'basicstyles', groups: [ 'basicstyles', 'cleanup' ], items: [ 'Bold', 'Italic', 'Underline', 'Strike', 'Subscript', 'Superscript', '-', 'RemoveFormat' ] },
            { name: 'paragraph', groups: [ 'list','blocks', 'align' ], items: [ 'NumberedList', 'BulletedList', '-', 'Blockquote', 'JustifyLeft', 'JustifyCenter', 'JustifyRight', 'JustifyBlock' ] },
            { name: 'links', items: [ 'Link', 'Unlink', 'Anchor' ] },
            { name: 'editAttributes', items: [ 'Attr' ] },
            { name: 'editing', groups: [ 'find'], items: [ 'Find', 'Replace' ] },
            { name: 'insert', items: [ 'Image', 'Table', 'HorizontalRule', 'SpecialChar', 'Formula' ] },
            { name: 'tools', items: [ 'ShowBlocks', 'AutoCorrect' ] },
            { name: 'styles', items: [ 'Format' , 'Styles'] },
            { name: 'clipboard', groups: [ 'clipboard', 'undo' ], items: [ 'Cut', 'Copy', 'Paste', 'PasteText', 'PasteFromWord', '-', 'Undo', 'Redo' ] },
        ],
        allowedContent: true,
        language: BEDITA.currLang2,
        entities:false,
        fillEmptyBlocks:false,
        forcePasteAsPlainText:true,
        startupOutlineBlocks: true,
        height: 200, // 12.5em (16px)
    },

    configNormal: {
        toolbar: [
            { name: 'basicstyles', groups: ['basicstyles', 'cleanup'], items: ['Bold', 'Italic', 'Underline', 'Strike', '-', 'RemoveFormat'] },
            { name: 'paragraph', groups: ['list', 'blocks', 'align'], items: ['NumberedList', 'BulletedList'] },
            { name: 'styles', items: ['Format'] },
            { name: 'links', items: ['Link', 'Unlink'] },
            { name: 'clipboard', groups: ['clipboard', 'undo'], items: ['PasteText', 'PasteFromWord', '-', 'Undo', 'Redo'] },
            { name: 'document', groups: ['mode'], items: ['Source'] },
        ],
        format_tags: 'p;h2',
        allowedContent: true,
        language: BEDITA.currLang2,
        entities:false,
        fillEmptyBlocks:false,
        forcePasteAsPlainText:true,
        startupOutlineBlocks: true,
        height: 200, // 12.5em (16px)
    },

    configSimple: {
        toolbar: [
            { name: 'document', groups: [ 'mode' ], items: [ 'Source'] },
            { name: 'basicstyles', groups: [ 'basicstyles', 'cleanup' ], items: [ 'Bold', 'Italic', 'Underline', 'Strike', 'Subscript', 'Superscript', '-', 'RemoveFormat' ] },
            { name: 'links', items: [ 'Link', 'Unlink'] },
            { name: 'clipboard', groups: [ 'clipboard', 'undo' ], items: [ 'Undo', 'Redo' ] },
            { name: 'tools', items: [ 'ShowBlocks' ] },
        ],
        allowedContent: true,
        language: BEDITA.currLang2,
        entities:false,
        fillEmptyBlocks:false,
        forcePasteAsPlainText:true,
        startupOutlineBlocks: true,
        height: 200, // 12.5em (16px)
    },
};


/***/ }),

/***/ "./src/Template/Layout/js/libs/bedita.js":
/*!***********************************************!*\
  !*** ./src/Template/Layout/js/libs/bedita.js ***!
  \***********************************************/
/*! exports provided: BELoader */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BELoader", function() { return BELoader; });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.js");
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(vue__WEBPACK_IMPORTED_MODULE_0__);



/**
 * BEdita Helper Object
 */
const BELoader = {

    /**
     * load Beplugins' Vue components (global)
     *
     * @return {void}
     */
    loadBeditaPlugins() {
        const plugins = BEDITA.plugins;

        plugins.forEach(element => {
            const vueComponent = window[element] || global[element];
            if (vueComponent) {
                const BEPlugins = vueComponent.default;

                Object.keys(BEPlugins).forEach(componentName => {
                    if (typeof BEPlugins[componentName] === 'object') {
                        vue__WEBPACK_IMPORTED_MODULE_0___default.a.component(componentName, BEPlugins[componentName]);

                        console.debug(
                            `%c[${componentName}]%c component succesfully registred from %c${element}%c Plugin`,
                            'color: blue',
                            'color: black',
                            'color: red',
                            'color: black'
                        );
                    }
                });
            }
        });
    }
}




/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../../node_modules/webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./src/Template/Layout/js/libs/filters.js":
/*!************************************************!*\
  !*** ./src/Template/Layout/js/libs/filters.js ***!
  \************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.js");
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(vue__WEBPACK_IMPORTED_MODULE_0__);


/**
 * Converts a snake case string to title case.
 * Example: snake_case => Snake Case
 *
 * @param  {String} str the string to convert
 * @return {String}
 */
vue__WEBPACK_IMPORTED_MODULE_0___default.a.filter('humanize', function (str) {
    return str.split('_').map(function (item) {
        return item.charAt(0).toUpperCase() + item.substring(1);
    }).join(' ');
});


/***/ }),

/***/ "./src/Template/Layout/style.scss":
/*!****************************************!*\
  !*** ./src/Template/Layout/style.scss ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin

/***/ }),

/***/ 0:
/*!*************************************************!*\
  !*** multi ./src/Template/Layout/js/app/app.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! /var/www/ws/misc-projects/bedita4-web/src/Template/Layout/js/app/app.js */"./src/Template/Layout/js/app/app.js");


/***/ })

},[[0,"manifest","vendors"]]]);
//# sourceMappingURL=app.bundle.js.map