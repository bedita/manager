(window.webpackJsonp=window.webpackJsonp||[]).push([["relationships-view"],{"./src/Template/Layout/js/app/components/relation-view/relationships-view/relationships-view.js":
/*!******************************************************************************************************!*\
  !*** ./src/Template/Layout/js/app/components/relation-view/relationships-view/relationships-view.js ***!
  \******************************************************************************************************/
/*! exports provided: default */
/*! all exports used */function(i,e,t){"use strict";t.r(e);var s=t(/*! app/mixins/paginated-content */"./src/Template/Layout/js/app/mixins/paginated-content.js");e.default={mixins:[s.c],props:{relationName:{type:String,required:!0},viewVisibility:{type:Boolean,default:()=>!1},addedRelations:{type:Array,default:()=>[]},hideRelations:{type:Array,default:()=>[]}},computed:{keyEvents(){return{esc:{keyup:this.handleKeyboard}}}},data:()=>({method:"relationshipsJson",loading:!1,pendingRelations:[],relationsData:[],isVisible:!1}),created(){this.endpoint=`${this.method}/${this.relationName}`},watch:{addedRelations(i){this.pendingRelations=i},pendingRelations(i){this.relationsData=this.relationFormatterHelper(i)},viewVisibility(i){this.isVisible=i},isVisible(){this.objects.length||this.loadObjects(),this.$nextTick(()=>{this.isVisible&&this.$refs.inputFilter&&this.$refs.inputFilter.focus()}),this.$emit("visibility-setter",this.isVisible)},loading(i){this.$parent.$emit("loading",i)}},methods:{async loadObjects(){this.loading=!0;let i=this.getPaginatedObjects();return i.then(i=>(this.loading=!1,i)).catch(i=>{20!==i.code&&(this.loading=!1,console.error(i))}),i},appendRelations(){this.$emit("append-relations",this.pendingRelations),this.isVisible=!1},handleKeyboard(i){this.isVisible&&(i.stopImmediatePropagation(),i.preventDefault(),this.hideRelationshipModal())},hideRelationshipModal(){this.pendingRelations=this.addedRelations,this.isVisible=!1},hasElementsToShow(){return this.objects.filter(i=>!this.hideRelations.filter(e=>i.id===e.id).length).length},relationFormatterHelper(i,e){let t="";try{t=JSON.stringify(i)}catch(i){console.error(i)}return t},containsId:(i,e)=>i.filter(i=>i.id===e).length}}}}]);
//# sourceMappingURL=relationships-view.bundle.js.map