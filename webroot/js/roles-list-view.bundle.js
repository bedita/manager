(window.webpackJsonp=window.webpackJsonp||[]).push([["roles-list-view"],{"./src/Template/Layout/js/app/components/relation-view/relationships-view/relationships-view.js":
/*!******************************************************************************************************!*\
  !*** ./src/Template/Layout/js/app/components/relation-view/relationships-view/relationships-view.js ***!
  \******************************************************************************************************/
/*! exports provided: default */
/*! all exports used */function(e,t,i){"use strict";i.r(t);var s=i(/*! app/mixins/paginated-content */"./src/Template/Layout/js/app/mixins/paginated-content.js");t.default={mixins:[s.c],props:{relationName:{type:String,required:!0},viewVisibility:{type:Boolean,default:()=>!1},addedRelations:{type:Array,default:()=>[]},hideRelations:{type:Array,default:()=>[]}},computed:{keyEvents(){return{esc:{keyup:this.handleKeyboard}}}},data:()=>({method:"relationshipsJson",loading:!1,pendingRelations:[],relationsData:[],isVisible:!1}),created(){this.endpoint=`${this.method}/${this.relationName}`},watch:{addedRelations(e){this.pendingRelations=e},pendingRelations(e){this.relationsData=this.relationFormatterHelper(e)},viewVisibility(e){this.isVisible=e},isVisible(){this.objects.length||this.loadObjects(),this.$nextTick(()=>{this.isVisible&&this.$refs.inputFilter&&this.$refs.inputFilter.focus()}),this.$emit("visibility-setter",this.isVisible)},loading(e){this.$parent.$emit("loading",e)}},methods:{async loadObjects(){this.loading=!0;let e=this.getPaginatedObjects();return e.then(e=>(this.loading=!1,e)).catch(e=>{20!==e.code&&(this.loading=!1,console.error(e))}),e},appendRelations(){this.$emit("append-relations",this.pendingRelations),this.isVisible=!1},handleKeyboard(e){this.isVisible&&(e.stopImmediatePropagation(),e.preventDefault(),this.hideRelationshipModal())},hideRelationshipModal(){this.pendingRelations=this.addedRelations,this.isVisible=!1},hasElementsToShow(){return this.objects.filter(e=>!this.hideRelations.filter(t=>e.id===t.id).length).length},relationFormatterHelper(e,t){let i="";try{i=JSON.stringify(e)}catch(e){console.error(e)}return i},containsId:(e,t)=>e.filter(e=>e.id===t).length}}},"./src/Template/Layout/js/app/components/relation-view/roles-list-view.js":
/*!********************************************************************************!*\
  !*** ./src/Template/Layout/js/app/components/relation-view/roles-list-view.js ***!
  \********************************************************************************/
/*! exports provided: default */
/*! all exports used */function(e,t,i){"use strict";i.r(t);var s=i(/*! app/components/relation-view/relationships-view/relationships-view */"./src/Template/Layout/js/app/components/relation-view/relationships-view/relationships-view.js");t.default={extends:s.default,data:()=>({method:"resourcesJson",removedRelations:[]}),props:{relatedObjects:{type:Array,default:()=>[]}},mounted(){this.loadObjects()},computed:{checkedRelations:{get:function(){return this.relatedObjects.concat(this.pendingRelations).filter(e=>!this.containsId(this.removedRelations,e.id))},set:function(e){let t=e.filter(e=>!this.containsId(this.relatedObjects,e.id));this.pendingRelations=t;let i=this.relatedObjects.filter(t=>!this.containsId(e,t.id));this.removedRelations=i,this.$emit("remove-relations",i)}}}}}}]);
//# sourceMappingURL=roles-list-view.bundle.js.map