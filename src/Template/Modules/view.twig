{% do _view.assign('title', currentModule.name|humanize) %}

<div class="view-modules-form">
    {{ Form.create({'defaults': object.attributes, 'schema': {}}, {
        'url': {'_name': 'modules:save', 'object_type': objectType},
        'id': 'form--main',
    })|raw }}

    {% if object.id %}
        <h1 {{ object.attributes.title ? '' : 'class="missing-title"' }}>{{ object.attributes.title|default(__('Untitled')) }}</h1>
    {% endif %}

    {% element 'Form/core_properties' %}

    {% element 'Form/other_properties' %}

    {% element 'Form/relations' %}

    {% element 'Form/meta' %}

    {# Append "Save" to commands in commands menu. Must stay here, before the form end. #}
    {% do _view.append('commands', Form.submit(__('Save'), {'form': 'form--main'})) %}

    {{ Form.end()|raw }}
</div>

{# Append "Delete" to commands in commands menu. #}
{% do _view.append('commands', Form.postButton(__('Delete'), {'_name': 'modules:delete', 'object_type': objectType}, {'data': {'id': object.id}})) %}
