
    {# Lookup in properties configuration if a cusom element `_element` key is set.
       Then load custom element or use Schema helper to display properties #}
    {% set customElement = Layout.customPropsElement(currentModule.name, group) %}
    {% if customElement %}
        {% element customElement {'properties' : properties} %}
    {% else %}


        {% for key, value in properties %}

            {% set options = Schema.controlOptions(key, value, schema.properties[key]) %}

            {{ Form.control(key, options)|raw }}

            {% if options.class == 'json' %}
                {{ write_config('_jsonKeys', config('_jsonKeys', [])|merge([key])) }}
            {% endif %}

        {% endfor %}

    {% endif %}
