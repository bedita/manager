{% if objectRelations %}
<section class="relations">

    {% for relationName, relationLabel in objectRelations %}

        <property-view inline-template :tab-open="tabsOpen" ref={{ relationName }}>
            <section class="fieldset">

                <header @click.prevent="toggleVisibility()"
                    class="tab unselectable"
                    :class="[
                        isOpen? 'open has-border-module-{{ currentModule.name }}' : '',
                        isLoading? 'is-loading-spinner' : ''
                    ]">
                        <h2>{{ relationLabel }}</h2>
                        <span class="has-text-size-smallest" v-show="!isLoading"><: totalObjects :></span>
                </header>

                {% if relationName == 'children' %}
                    <div v-show="isOpen" class="tab-container">
                        {% element 'Form/children' {'relationName': relationName } %}
                    </div>
                {% else %}
                    <div v-show="isOpen" class="tab-container">
                        {% element 'Form/relation' {'relationName': relationName, 'relationSchema': relationsSchema[relationName] } %}
                    </div>
                {% endif %}

            </section>
        </property-view>

    {% endfor %}

</section>
{% endif %}
