{% do _view.assign('title', __('Trash')) %}

{# module variables #}
{% set baseUrl = '/' ~ currentModule.name ~ '?page=' ~ meta.pagination.page ~ '&page_size=' ~ meta.pagination.page_size ~ '&' %}

<div class="module">

    {% element 'Toolbar/toolbar_pagination' %}

    {% element 'Toolbar/pagination_toolbar' %}

    {% element 'Toolbar/toolbar_filters' %}

    <table>
        <thead>
            <tr>
                <th>
                    {{ Link.sort(baseUrl, 'title', query.sort)}}
                </th>
                <th>
                    {{ Link.sort(baseUrl, 'id', query.sort)}}
                </th>
                <th>{{ __('type') }}</th>
                <th>{{ __('status') }}</th>
                <th>
                    {{ Link.sort(baseUrl, 'modified', query.sort)}}
                </th>
                <th>-</th>
            </tr>
        </thead>

        <tbody>
        {% for object in objects %}
            <tr class="obj {{ object.attributes.status }}">
                <td>{{ Html.link(object.attributes.title, {'_name': 'trash:view', 'id': object.id})|raw }}</td>
                <td>{{ object.id }}</td>
                <td>{{ object.type }}</td>
                <td>{{ object.attributes.status }}</td>
                <td>{{ Time.format(object.meta.modified) }}</td>
                <td>
                    {{ Form.postButton(__('Restore'), {'_name': 'trash:restore'}, {'data': {'id': object.id}})|raw }}
                    {{ Form.postButton(__('Delete'), {'_name': 'trash:delete'}, {'data': {'id': object.id}})|raw }}
                </td>
            </tr>
        {% else %}
            <tr><td colspan="100">{{ __('No items found') }}</td></tr>
        {% endfor %}
        </tbody>
    </table>
</div>
