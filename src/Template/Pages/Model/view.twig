{% do _view.assign('title', currentModule.name|humanize) %}

<modules-view inline-template ref="moduleView">
<div class="model-view" v-hotkey="keyEvents">

    {% if resource.id %}
    <header>
        <h1 untitled="{{ __('Untitled') }}">{{ resource.attributes.name }}</h1>
    </header>
    {% endif %}

    <div class="model-form">

        {{ Form.create({'defaults': resource.attributes, 'schema': {}}, {
            'url': {'_name': 'modules:save', 'resource_type': resourceType},
            'id': 'form-main',
        })|raw }}

            {# Inside form-column there are form elements, they may have a cssOrder property that reorders
                the elements in single column view, in small viewports. cssOrder may assume the string
                values "1", "2", "3" or "bottom". If missing, the default for cssOrder in "0". #}

            <div class="form-column">
                {% element 'Form/core_properties' %}

                {% element 'Form/other_properties' {'cssOrder': '2'} %} {# Content #}
            </div>

            <div class="form-column">
                {% element 'Form/publish_properties' {'cssOrder': '1'} %}

                {% element 'Form/meta' {'cssOrder': 'bottom'}  %}
            </div>

            {# temp relations view #}
            {# loads first relation after 1200ms, than every 300ms till last relation, see file #}
            {% element 'Form/relations' %}

        {{ Form.end()|raw }}

        {# Append "Save" to commands in commands menu. Must stay here, before the form end. #}
        {% do _view.append('commands', Form.submit(__('Save'), {'form': 'form-main'})) %}
        {# Append "Delete" to commands in commands menu. #}
        {# {% do _view.append('commands', Form.postButton(__('Trash'), {'_name': 'modules:delete', 'resource_type': resourceType}, {'data': {'id': resource.id}})) %} #}
    </div>

</div>
</modules-view>
