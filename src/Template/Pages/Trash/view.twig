{% do _view.assign('title', __('Trash')) %}

<trash-view inline-template>
    <div v-hotkey="keyEvents">
        <div class="module-form">
            {{ Form.create({'defaults': object.attributes, 'schema': {}}, {
                'url': {'_name': 'trash:list'},
                'id': 'form-main',
            })|raw }}

            <h1>{{ object.attributes.title }}</h1>

            {# Extract `core` & `other` properties sets from object.attributes, pass to elements #}
            {% set core_properties = config('Properties.' ~ currentModule.name ~ '.core')|default(['title', 'description', 'uname', 'status']) %}
            {% element 'Form/core_properties' { 'core_properties': Array.onlyKeys(object.attributes, core_properties)} %}

            {% element 'Form/other_properties' { 'other_properties': Array.removeKeys(object.attributes, core_properties)} %}

            {% element 'Form/meta' %}

            {{ Form.end()|raw }}
        </div>

        {# Append "Delete" and "Restore" to commands in commands menu. #}
        {% do _view.append('commands', Form.postButton(__('Restore'), {'_name': 'trash:restore'}, {'data': {'id': object.id}})) %}
        {% do _view.append('commands', Form.postButton(__('Delete'), {'_name': 'trash:delete'}, {'data': {'id': object.id}})) %}
    </div>
</trash-view>
